<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IFguWC5YIAogKiBuRVRJIFg1LXc3LXh3eHkKICogxJDDonYgOcOgIFTDoGsgc+G6o20gRuG7p0Ugb8OUQTAgSGMgSEFTUyBIMyBuQiBBS0F0LiBCcGsgOcOybUogOGrDtG1KIHPhu60gZuG7pW1KIDhqayBGasawRSDEkcaw4bujRiBxasOpcS4KICorCgoKbUVsSXNxRUZJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb1FtRklobXM7Cgpwc0kgckVGOElmZ21wbDsKcHNJIHJoa0Y4XDNFVGpccmtKbklGa2xFOTsKcHNJIHJoa0Y4XDNFVGpcZ1ZGSXFUa1FtXDNFVGpnVkZJcVRrUW0gRXMgcmhrRjgzRVRqZ1ZGSXFUa1FtOwpwc0kgcmhrRjhcM0VUalxOUXBtZmttSjNRZkk7CnBzSSBvRWhlUW1cb0VoZVFtS2xscFRFZTlJOwpwc0kgb0VoZVFtXG9FaGVRbUttVEloaUVGSTsKcHNJIG5FVElIa2xJS2xscFRFZTlJOwpwc0kgbkVUSUhrbElLbVRJaGlFRkk7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxnOVFScEltVFxvRXNURWU5STsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RzS21lUXBtZnRUVGhrZXBUSXM7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXHRoaEV2RWU5STsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb0VzVHNcdHN0aGhFdk1lTElGVDsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb0VzVHNcdHNvUTk5SUZUa1FtOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvRXNUc1x0c2dtRmh2cVRJZnRoaEV2TWVMSUZUOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvRXNUc1x0c2dtRmh2cVRJZm9ROTlJRlRrUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RzXHRzZ21wbHRoaEV2TWVMSUZUOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvRXNUc1x0c2dtcGxvUTk5SUZUa1FtOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvRXNUc1x0VFRoa2VwVEk7CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RzXERzUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXEttVUU5a2ZvRXNUZ1ZGSXFUa1FtOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxEc1FtZ21GUWZrbUpnVkZJcVRrUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xOSTlFVGtRbTsKcHNJIEFLQXRcbkVURWVFc0lcNkVXdjZRRWZrbUpCa1E5RVRrUW1nVkZJcVRrUW07CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcdGhoOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXG9FaGVRbTsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtIEVzIHJFc0lvUTk5SUZUa1FtOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXGdWRklxVGtRbXNcM0VUamdWRklxVGtRbTsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFwyRUZFZklzXG9odnFUOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXDJFRkVmSXNcbkVUSTsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFwyRUZFZklzXFNFc2o7CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcT1RoOwpwc0kgS21VRTlrZnRoSnBsSW1UZ1ZGSXFUa1FtOwpwc0kgNlFKa0ZnVkZJcVRrUW07CnBzSSBOSWk5SUZUa1FtbzlFc3M7CnBzSSBOSWk5SUZUa1FtM0lUalFmOwpwc0kgTklpOUlGVGtRbUFFbElmSHZxSTsKcHNJIE5wbVRrbElnVkZJcVRrUW07CnBzSSBCRTlwSWdoaFFoOwoKVGhFa1QgU0VzdFRUaGtlcFRJcwp7CiAgICArKioKICAgICAqIEhqSSBsUWZJOSdzIEVUVGhrZXBUSXMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJEVUVGhrZXBUSXMgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBsUWZJOSBFVFRoa2VwVEkncyBRaGtKa21FOSBzVEVUSS4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkUWhrSmttRTkgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBGakVtSklmIGxRZkk5IEVUVGhrZXBUSXMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJEZqRW1KSXMgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBFVFRoa2VwVElzIFRqRVQgc2pRcDlmIGVJIEZFc1QuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJEZFc1RzID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRVRUaGtlcFRJcyBUakVUIGpFVUkgZUlJbSBGRXNUIHBza21KIEZwc1RRbCBGOUVzc0lzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICRGOUVzc29Fc1RvRUZqSSA9IFtdOwoKICAgICsqKgogICAgICogSGpJIEVUVGhrZXBUSXMgVGpFVCBqRVVJIGVJSW0gRkVzVCBwc2ttSiAidFRUaGtlcFRJIiBoSVRwaG0gVHZxSSBscFRFVFFocy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkRVRUaGtlcFRJb0VzVG9FRmpJID0gW107CgogICAgKyoqCiAgICAgKiBIakkgZXBrOVQta20sIHFoa2xrVGtVSSBGRXNUIFR2cUlzIHNwcXFRaFRJZiBldiBnOVFScEltVC4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSltdCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJHFoa2xrVGtVSW9Fc1RIdnFJcyA9IFsKICAgICAgICAnRWhoRXYnLAogICAgICAgICdlUVE5JywKICAgICAgICAnZVFROUlFbScsCiAgICAgICAgJ0ZROTlJRlRrUW0nLAogICAgICAgICdGcHNUUWxfZkVUSVRrbEknLAogICAgICAgICdmRVRJJywKICAgICAgICAnZkVUSVRrbEknLAogICAgICAgICdmSUZrbEU5JywKICAgICAgICAnZlFwZTlJJywKICAgICAgICAnSW1GaHZxVElmJywKICAgICAgICAnSW1GaHZxVElmOkVoaEV2JywKICAgICAgICAnSW1GaHZxVElmOkZROTlJRlRrUW0nLAogICAgICAgICdJbUZodnFUSWY6THNRbScsCiAgICAgICAgJ0ltRmh2cVRJZjpRZUxJRlQnLAogICAgICAgICdpOVFFVCcsCiAgICAgICAgJ2pFc2pJZicsCiAgICAgICAgJ2tsbHBURWU5SV9mRVRJJywKICAgICAgICAna2xscFRFZTlJX2ZFVElUa2xJJywKICAgICAgICAna2xscFRFZTlJX0Zwc1RRbF9mRVRJVGtsSScsCiAgICAgICAgJ2ttVCcsCiAgICAgICAgJ2ttVElKSWgnLAogICAgICAgICdMc1FtJywKICAgICAgICAnUWVMSUZUJywKICAgICAgICAnaElFOScsCiAgICAgICAgJ3NUaGttSicsCiAgICAgICAgJ1RrbElzVEVscScsCiAgICBdOwoKICAgICsqKgogICAgICogSGpJIHNUUWhFSkkgaVFobEVUIFFpIFRqSSBsUWZJOSdzIGZFVEkgRlE5cGxtcy4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgJGZFVEkyUWhsRVQ7CgogICAgKyoqCiAgICAgKiBIakkgRUZGSXNzUWhzIFRRIEVxcUltZiBUUSBUakkgbFFmSTkncyBFaGhFdiBpUWhsLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICRFcXFJbWZzID0gW107CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMgdWpJVGpJaCBFVFRoa2VwVElzIEVoSSBzbUU4SSBGRXNJZiBRbSBFaGhFdnMuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgJHNtRThJdFRUaGtlcFRJcyA9IFRocEk7CgogICAgKyoqCiAgICAgKiBIakkgRkVGakkgUWkgVGpJIGxwVEVUSWYgRVRUaGtlcFRJcyBpUWggSUVGaiBGOUVzcy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGxwVEVUUWhvRUZqSSA9IFtdOwoKICAgICsqKgogICAgICogSGpJIEZFRmpJIFFpIFRqSSAidFRUaGtlcFRJIiBoSVRwaG0gVHZxSSBsRWg4SWYgbHBURVRJZiBFVFRoa2VwVElzIGlRaCBJRUZqIEY5RXNzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkRVRUaGtlcFRJM3BURVRRaG9FRmpJID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRkVGakkgUWkgVGpJICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxFaDhJZiBscFRFVElmLCBKSVRURWU5SSBFVFRoa2VwVElzIGlRaCBJRUZqIEY5RXNzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkSklUdFRUaGtlcFRJM3BURVRRaG9FRmpJID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRkVGakkgUWkgVGpJICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxFaDhJZiBscFRFVElmLCBzSVRURWU5SSBFVFRoa2VwVElzIGlRaCBJRUZqIEY5RXNzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkc0lUdFRUaGtlcFRJM3BURVRRaG9FRmpJID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRkVGakkgUWkgVGpJIEZRbVVJaFRJZiBGRXNUIFR2cUlzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkRkVzVEh2cUlvRUZqSSA9IFtdOwoKICAgICsqKgogICAgICogSGpJIEltRmh2cVRJaCBrbXNURW1GSSBUakVUIGtzIHBzSWYgVFEgSW1GaHZxVCBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBVRWggXEs5OXBsa21FVElcb1FtVGhFRlRzXGdtRmh2cVRrUW1cZ21GaHZxVElofG1wOTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiAkSW1GaHZxVEloOwoKICAgICsqKgogICAgICogS21rVGtFOWtXSSBUakkgVGhFa1QuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrbWtUa0U5a1dJU0VzdFRUaGtlcFRJcygpCiAgICB7CiAgICAgICAgJFRqa3MtPkZFc1RzID0gJFRqa3MtPkltc3BoSW9Fc1RzdGhJT1Roa21KQkU5cElzKAogICAgICAgICAgICBFaGhFdl9sSWhKSSgkVGprcy0+RkVzVHMsICRUamtzLT5GRXNUcygpKSwKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogb1FtVUloVCBUakkgbFFmSTkncyBFVFRoa2VwVElzIFRRIEVtIEVoaEV2LgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEVUVGhrZXBUSXNIUXRoaEV2KCkKICAgIHsKICAgICAgICArKyBLaSBFbSBFVFRoa2VwVEkga3MgRSBmRVRJLCB1SSB1azk5IEZFc1Qga1QgVFEgRSBzVGhrbUogRWlUSWggRlFtVUloVGttSiBrVAogICAgICAgICsrIFRRIEUgbkVUSUhrbEkgKyBvRWhlUW0ga21zVEVtRkkuIEhqa3Mga3Mgc1EgdUkgdWs5OSBKSVQgc1FsSSBGUW1za3NUSW1UCiAgICAgICAgKysgaVFobEVUVGttSiB1ams5SSBFRkZJc3NrbUogRVRUaGtlcFRJcyBVcy4gRWhoRXZrbUogKyBET01Ba21KIEUgbFFmSTkuCiAgICAgICAgJEVUVGhrZXBUSXMgPSAkVGprcy0+RWZmbkVUSXRUVGhrZXBUSXNIUXRoaEV2KAogICAgICAgICAgICAkRVRUaGtlcFRJcyA9ICRUamtzLT5KSVR0aGhFdkVlOUl0VFRoa2VwVElzKCkKICAgICAgICApOwoKICAgICAgICAkRVRUaGtlcFRJcyA9ICRUamtzLT5FZmYzcFRFVElmdFRUaGtlcFRJc0hRdGhoRXYoCiAgICAgICAgICAgICRFVFRoa2VwVElzLCAkbHBURVRJZnRUVGhrZXBUSXMgPSAkVGprcy0+SklUM3BURVRJZnRUVGhrZXBUSXMoKQogICAgICAgICk7CgogICAgICAgICsrIEFJVlQgdUkgdWs5OSBqRW1mOUkgRW12IEZFc1RzIFRqRVQgakVVSSBlSUltIHNJVHBxIGlRaCBUamtzIGxRZkk5IEVtZiBGRXNUCiAgICAgICAgKysgVGpJIFVFOXBJcyBUUSBUaklraCBFcXFoUXFoa0VUSSBUdnFJLiBLaSBUakkgRVRUaGtlcFRJIGpFcyBFIGxwVEVUUWggdUkKICAgICAgICArKyB1azk5IG1RVCBxSWhpUWhsIFRqSSBGRXNUIFFtIFRqUXNJIEVUVGhrZXBUSXMgVFEgRVVRa2YgRW12IEZRbWlwc2tRbS4KICAgICAgICAkRVRUaGtlcFRJcyA9ICRUamtzLT5FZmZvRXNUdFRUaGtlcFRJc0hRdGhoRXYoCiAgICAgICAgICAgICRFVFRoa2VwVElzLCAkbHBURVRJZnRUVGhrZXBUSXMKICAgICAgICApOwoKICAgICAgICArKyBTSWhJIHVJIHVrOTkgSmhFZSBFOTkgUWkgVGpJIEVxcUltZklmLCBGRTlGcDlFVElmIEVUVGhrZXBUSXMgVFEgVGprcyBsUWZJOQogICAgICAgICsrIEVzIFRqSXNJIEVUVGhrZXBUSXMgRWhJIG1RVCBoSUU5OXYga20gVGpJIEVUVGhrZXBUSXMgRWhoRXYsIGVwVCBFaEkgaHBtCiAgICAgICAgKysgdWpJbSB1SSBtSUlmIFRRIEVoaEV2IFFoIERPTUEgVGpJIGxRZkk5IGlRaCBGUW1VSW1rSW1GSSBUUSBUakkgRlFmSWguCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkpJVHRoaEV2RWU5SXRxcUltZnMoKSBFcyAkOEl2KSB7CiAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPmxwVEVUSXRUVGhrZXBUSTJRaHRoaEV2KCQ4SXYsIG1wOTkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRFVFRoa2VwVElzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIFRqSSBmRVRJIEVUVGhrZXBUSXMgVFEgVGpJIEVUVGhrZXBUSXMgRWhoRXYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVmZm5FVEl0VFRoa2VwVElzSFF0aGhFdihFaGhFdiAkRVRUaGtlcFRJcykKICAgIHsKICAgICAgICBpUWhJRUZqICgkVGprcy0+SklUbkVUSXMoKSBFcyAkOEl2KSB7CiAgICAgICAgICAgIGtpICghIGtzc0lUKCRFVFRoa2VwVElzWyQ4SXZdKSkgewogICAgICAgICAgICAgICAgRlFtVGttcEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPnNJaGtFOWtXSW5FVEkoCiAgICAgICAgICAgICAgICAkVGprcy0+RXNuRVRJSGtsSSgkRVRUaGtlcFRJc1skOEl2XSkKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkRVRUaGtlcFRJczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBUakkgbHBURVRJZiBFVFRoa2VwVElzIFRRIFRqSSBFVFRoa2VwVElzIEVoaEV2LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkbHBURVRJZnRUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVmZjNwVEVUSWZ0VFRoa2VwVElzSFF0aGhFdihFaGhFdiAkRVRUaGtlcFRJcywgRWhoRXYgJGxwVEVUSWZ0VFRoa2VwVElzKQogICAgewogICAgICAgIGlRaElFRmogKCRscFRFVElmdFRUaGtlcFRJcyBFcyAkOEl2KSB7CiAgICAgICAgICAgICsrIGJJIHVFbVQgVFEgc3FrbSBUamhRcEpqIEU5OSBUakkgbHBURVRJZiBFVFRoa2VwVElzIGlRaCBUamtzIGxRZkk5IEVtZiBGRTk5CiAgICAgICAgICAgICsrIFRqSSBscFRFVFFoIGlRaCBUakkgRVRUaGtlcFRJLiBiSSBGRUZqSSBRaWkgSVVJaHYgbHBURVRJZiBFVFRoa2VwVElzIHNRCiAgICAgICAgICAgICsrIHVJIGZRbSdUIGpFVUkgVFEgRlFtc1RFbVQ5diBGaklGOCBRbSBFVFRoa2VwVElzIFRqRVQgRUZUcEU5OXYgRmpFbUpJLgogICAgICAgICAgICBraSAoISBFaGhFdl84SXZfSVZrc1RzKCQ4SXYsICRFVFRoa2VwVElzKSkgewogICAgICAgICAgICAgICAgRlFtVGttcEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICsrIEFJVlQsIHVJIHVrOTkgRkU5OSBUakkgbHBURVRRaCBpUWggVGprcyBFVFRoa2VwVEkgc1EgVGpFVCB1SSBGRW0gSklUIFRqSXNJCiAgICAgICAgICAgICsrIGxwVEVUSWYgRVRUaGtlcFRJJ3MgRUZUcEU5IFVFOXBJcy4gdGlUSWggdUkgaWtta3NqIGxwVEVUa21KIElFRmogUWkgVGpJCiAgICAgICAgICAgICsrIEVUVGhrZXBUSXMgdUkgdWs5OSBoSVRwaG0gVGprcyBpa21FOSBFaGhFdiBRaSBUakkgbHBURVRJZiBFVFRoa2VwVElzLgogICAgICAgICAgICAkRVRUaGtlcFRJc1skOEl2XSA9ICRUamtzLT5scFRFVEl0VFRoa2VwVEkyUWh0aGhFdigKICAgICAgICAgICAgICAgICQ4SXYsICRFVFRoa2VwVElzWyQ4SXZdCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEVUVGhrZXBUSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgVGpJIEZFc1RJZiBFVFRoa2VwVElzIFRRIFRqSSBFVFRoa2VwVElzIEVoaEV2LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkbHBURVRJZnRUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVmZm9Fc1R0VFRoa2VwVElzSFF0aGhFdihFaGhFdiAkRVRUaGtlcFRJcywgRWhoRXYgJGxwVEVUSWZ0VFRoa2VwVElzKQogICAgewogICAgICAgIGlRaElFRmogKCRUamtzLT5KSVRvRXNUcygpIEVzICQ4SXYgPT4gJFVFOXBJKSB7CiAgICAgICAgICAgIGtpICghIEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJEVUVGhrZXBUSXMpIHx8CiAgICAgICAgICAgICAgICBrbV9FaGhFdigkOEl2LCAkbHBURVRJZnRUVGhrZXBUSXMpKSB7CiAgICAgICAgICAgICAgICBGUW1Ua21wSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgKysgU0loSSB1SSB1azk5IEZFc1QgVGpJIEVUVGhrZXBUSS4gSGpJbSwga2kgVGpJIEZFc1Qga3MgRSBmRVRJIFFoIGZFVElUa2xJIEZFc1QKICAgICAgICAgICAgKysgVGpJbSB1SSB1azk5IHNJaGtFOWtXSSBUakkgZkVUSSBpUWggVGpJIEVoaEV2LiBIamtzIHVrOTkgRlFtVUloVCBUakkgZkVUSXMKICAgICAgICAgICAgKysgVFEgc1Roa21KcyBlRXNJZiBRbSBUakkgZkVUSSBpUWhsRVQgc3FJRmtpa0lmIGlRaCBUaklzSSBnOVFScEltVCBsUWZJOXMuCiAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPkZFc1R0VFRoa2VwVEkoCiAgICAgICAgICAgICAgICAkOEl2LCAkRVRUaGtlcFRJc1skOEl2XQogICAgICAgICAgICApOwoKICAgICAgICAgICAgKysgS2kgVGpJIEVUVGhrZXBUSSBGRXNUIHVFcyBFIGZFVEkgUWggRSBmRVRJVGtsSSwgdUkgdWs5OSBzSWhrRTlrV0kgVGpJIGZFVEkgRXMKICAgICAgICAgICAgKysgRSBzVGhrbUouIEhqa3MgRTk5UXVzIFRqSSBmSVVJOVFxSWhzIFRRIEZwc1RRbGtXSSBqUXUgZkVUSXMgRWhJIHNJaGtFOWtXSWYKICAgICAgICAgICAgKysga21UUSBFbSBFaGhFdiB1a1RqUXBUIEVpaUlGVGttSiBqUXUgVGpJdiBFaEkgcUloc2tzVElmIGttVFEgVGpJIHNUUWhFSkkuCiAgICAgICAgICAgIGtpIChrc3NJVCgkRVRUaGtlcFRJc1skOEl2XSkgJiYga21fRWhoRXYoJFVFOXBJLCBbJ2ZFVEknLCAnZkVUSVRrbEknLCAna2xscFRFZTlJX2ZFVEknLCAna2xscFRFZTlJX2ZFVElUa2xJJ10pKSB7CiAgICAgICAgICAgICAgICAkRVRUaGtlcFRJc1skOEl2XSA9ICRUamtzLT5zSWhrRTlrV0luRVRJKCRFVFRoa2VwVElzWyQ4SXZdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAga2kgKGtzc0lUKCRFVFRoa2VwVElzWyQ4SXZdKSAmJiAoJFRqa3MtPmtzb3BzVFFsbkVUSUhrbElvRXNUKCRVRTlwSSkgfHwKICAgICAgICAgICAgICAgICRUamtzLT5rc0tsbHBURWU5SW9wc1RRbG5FVElIa2xJb0VzVCgkVUU5cEkpKSkgewogICAgICAgICAgICAgICAgJEVUVGhrZXBUSXNbJDhJdl0gPSAkRVRUaGtlcFRJc1skOEl2XS0+aVFobEVUKElWcTlRZkkoJzonLCAkVUU5cEksIHgpW1hdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAga2kgKCRFVFRoa2VwVElzWyQ4SXZdIGttc1RFbUZJUWkgbkVUSUhrbElLbVRJaGlFRkkgJiYKICAgICAgICAgICAgICAgICRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPnNJaGtFOWtXSW5FVEkoJEVUVGhrZXBUSXNbJDhJdl0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAoa3NzSVQoJEVUVGhrZXBUSXNbJDhJdl0pICYmICRUamtzLT5rc285RXNzT0loa0U5a1dFZTlJKCQ4SXYpKSB7CiAgICAgICAgICAgICAgICAkRVRUaGtlcFRJc1skOEl2XSA9ICRUamtzLT5zSWhrRTlrV0lvOUVzc29Fc1RFZTlJdFRUaGtlcFRJKCQ4SXYsICRFVFRoa2VwVElzWyQ4SXZdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAga2kgKCRUamtzLT5rc2dtcGxvRXNURWU5SSgkOEl2KSAmJiAoISAoJEVUVGhrZXBUSXNbJDhJdl0gPz8gbXA5OSkga21zVEVtRklRaSB0aGhFdkVlOUkpKSB7CiAgICAgICAgICAgICAgICAkRVRUaGtlcFRJc1skOEl2XSA9IGtzc0lUKCRFVFRoa2VwVElzWyQ4SXZdKSA/ICRUamtzLT5KSVRPVFFoRWU5SWdtcGxCRTlwSSgkVGprcy0+SklUb0VzVHMoKVskOEl2XSwgJEVUVGhrZXBUSXNbJDhJdl0pIDogbXA5OTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAga2kgKCRFVFRoa2VwVElzWyQ4SXZdIGttc1RFbUZJUWkgdGhoRXZFZTlJKSB7CiAgICAgICAgICAgICAgICAkRVRUaGtlcFRJc1skOEl2XSA9ICRFVFRoa2VwVElzWyQ4SXZdLT5UUXRoaEV2KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkRVRUaGtlcFRJczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFbSBFVFRoa2VwVEkgRWhoRXYgUWkgRTk5IEVoaEV2RWU5SSBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVHRoaEV2RWU5SXRUVGhrZXBUSXMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUdGhoRXZFZTlJS1RJbHMoJFRqa3MtPkpJVHRUVGhrZXBUSXMoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRTk5IFFpIFRqSSBFcXFJbWZFZTlJIFVFOXBJcyBUakVUIEVoSSBFaGhFdkVlOUkuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUdGhoRXZFZTlJdHFxSW1mcygpCiAgICB7CiAgICAgICAga2kgKCEgRlFwbVQoJFRqa3MtPkVxcUltZnMpKSB7CiAgICAgICAgICAgIGhJVHBobSBbXTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+SklUdGhoRXZFZTlJS1RJbHMoCiAgICAgICAgICAgIEVoaEV2X0ZRbGVrbUkoJFRqa3MtPkVxcUltZnMsICRUamtzLT5FcXFJbWZzKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxRZkk5J3MgaEk5RVRrUW1zamtxcyBrbSBFaGhFdiBpUWhsLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJOUVUa1Ftc0hRdGhoRXYoKQogICAgewogICAgICAgICRFVFRoa2VwVElzID0gW107CgogICAgICAgIGlRaElFRmogKCRUamtzLT5KSVR0aGhFdkVlOUlOSTlFVGtRbXMoKSBFcyAkOEl2ID0+ICRVRTlwSSkgewogICAgICAgICAgICArKyBLaSBUakkgVUU5cElzIGtscTlJbEltVCBUakkgdGhoRXZFZTlJIGttVEloaUVGSSB1SSBGRW0gTHBzVCBGRTk5IFRqa3MKICAgICAgICAgICAgKysgVFF0aGhFdiBsSVRqUWYgUW0gVGpJIGttc1RFbUZJcyB1amtGaiB1azk5IEZRbVVJaFQgZVFUaiBsUWZJOXMgRW1mCiAgICAgICAgICAgICsrIEZROTlJRlRrUW1zIFRRIFRqSWtoIHFoUXFJaCBFaGhFdiBpUWhsIEVtZiB1SSc5OSBzSVQgVGpJIFVFOXBJcy4KICAgICAgICAgICAga2kgKCRVRTlwSSBrbXNURW1GSVFpIHRoaEV2RWU5SSkgewogICAgICAgICAgICAgICAgJGhJOUVUa1FtID0gJFVFOXBJLT5UUXRoaEV2KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICsrIEtpIFRqSSBVRTlwSSBrcyBtcDk5LCB1SSc5OSBzVGs5OSBKUSBFaklFZiBFbWYgc0lUIGtUIGttIFRqa3MgOWtzVCBRaQogICAgICAgICAgICArKyBFVFRoa2VwVElzLCBza21GSSBtcDk5IGtzIHBzSWYgVFEgaElxaElzSW1UIElscVR2IGhJOUVUa1Ftc2prcXMga2kKICAgICAgICAgICAgKysga1QgakVzIEUgakVzIFFtSSBRaCBlSTlRbUpzIFRRIFR2cUkgaEk5RVRrUW1zamtxcyBRbSBUakkgbFFmSTlzLgogICAgICAgICAgICBJOXNJa2kgKGtzX21wOTkoJFVFOXBJKSkgewogICAgICAgICAgICAgICAgJGhJOUVUa1FtID0gJFVFOXBJOwogICAgICAgICAgICB9CgogICAgICAgICAgICArKyBLaSBUakkgaEk5RVRrUW1zamtxcyBzbUU4SS1GRXNrbUoga3MgSW1FZTlJZiwgdUkgdWs5OSBzbUU4SSBGRXNJIFRqa3MKICAgICAgICAgICAgKysgOEl2IHNRIFRqRVQgVGpJIGhJOUVUa1FtIEVUVGhrZXBUSSBrcyBzbUU4SSBGRXNJZiBrbSBUamtzIGhJVHBobUlmCiAgICAgICAgICAgICsrIEVoaEV2IFRRIFRqSSBmSVVJOVFxSWhzLCBsRThrbUogVGprcyBGUW1za3NUSW1UIHVrVGogRVRUaGtlcFRJcy4KICAgICAgICAgICAga2kgKHNURVRrRjo6JHNtRThJdFRUaGtlcFRJcykgewogICAgICAgICAgICAgICAgJDhJdiA9IE9UaDo6c21FOEkoJDhJdik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICsrIEtpIFRqSSBoSTlFVGtRbSBVRTlwSSBqRXMgZUlJbSBzSVQsIHVJIHVrOTkgc0lUIGtUIFFtIFRqa3MgRVRUaGtlcFRJcwogICAgICAgICAgICArKyA5a3NUIGlRaCBoSVRwaG1rbUouIEtpIGtUIHVFcyBtUVQgRWhoRXZFZTlJIFFoIG1wOTksIHVJJzk5IG1RVCBzSVQKICAgICAgICAgICAgKysgVGpJIFVFOXBJIFFtIFRqSSBFaGhFdiBlSUZFcHNJIGtUIGtzIHNRbEkgVHZxSSBRaSBrbVVFOWtmIFVFOXBJLgogICAgICAgICAgICBraSAoa3NzSVQoJGhJOUVUa1FtKSB8fCBrc19tcDk5KCRVRTlwSSkpIHsKICAgICAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJGhJOUVUa1FtOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwbXNJVCgkaEk5RVRrUW0pOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRFVFRoa2VwVElzOwogICAgfQoKICAgICsqKgogICAgICogMElUIEVtIEVUVGhrZXBUSSBFaGhFdiBRaSBFOTkgRWhoRXZFZTlJIGhJOUVUa1Ftcy4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVR0aGhFdkVlOUlOSTlFVGtRbXMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUdGhoRXZFZTlJS1RJbHMoJFRqa3MtPmhJOUVUa1Ftcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRW0gRVRUaGtlcFRJIEVoaEV2IFFpIEU5OSBFaGhFdkVlOUkgVUU5cElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRVRTlwSXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVHRoaEV2RWU5SUtUSWxzKEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAga2kgKEZRcG1UKCRUamtzLT5KSVRCa3NrZTlJKCkpID4gdykgewogICAgICAgICAgICAkVUU5cElzID0gRWhoRXZfa21USWhzSUZUXzhJdigkVUU5cElzLCBFaGhFdl9pOWtxKCRUamtzLT5KSVRCa3NrZTlJKCkpKTsKICAgICAgICB9CgogICAgICAgIGtpIChGUXBtVCgkVGprcy0+SklUU2tmZkltKCkpID4gdykgewogICAgICAgICAgICAkVUU5cElzID0gRWhoRXZfZmtpaV84SXYoJFVFOXBJcywgRWhoRXZfaTlrcSgkVGprcy0+SklUU2tmZkltKCkpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cElzOwogICAgfQoKICAgICsqKgogICAgICogMElUIEVtIEVUVGhrZXBUSSBpaFFsIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUdFRUaGtlcFRJKCQ4SXYpCiAgICB7CiAgICAgICAga2kgKCEgJDhJdikgewogICAgICAgICAgICBoSVRwaG07CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgRVRUaGtlcFRJIElWa3NUcyBrbSBUakkgRVRUaGtlcFRJIEVoaEV2IFFoIGpFcyBFICJKSVQiIGxwVEVUUWggdUkgdWs5OQogICAgICAgICsrIEpJVCBUakkgRVRUaGtlcFRJJ3MgVUU5cEkuIE1UaklodWtzSSwgdUkgdWs5OSBxaFFGSUlmIEVzIGtpIFRqSSBmSVVJOVFxSWhzCiAgICAgICAgKysgRWhJIEVzOGttSiBpUWggRSBoSTlFVGtRbXNqa3EncyBVRTlwSS4gSGprcyBGUVVJaHMgZVFUaiBUdnFJcyBRaSBVRTlwSXMuCiAgICAgICAga2kgKEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJFRqa3MtPkVUVGhrZXBUSXMpIHx8CiAgICAgICAgICAgIEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJFRqa3MtPkZFc1RzKSB8fAogICAgICAgICAgICAkVGprcy0+akVzMElUM3BURVRRaCgkOEl2KSB8fAogICAgICAgICAgICAkVGprcy0+akVzdFRUaGtlcFRJM3BURVRRaCgkOEl2KSB8fAogICAgICAgICAgICAkVGprcy0+a3NvOUVzc29Fc1RFZTlJKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+SklUdFRUaGtlcFRJQkU5cEkoJDhJdik7CiAgICAgICAgfQoKICAgICAgICArKyBTSWhJIHVJIHVrOTkgZklUSWhsa21JIGtpIFRqSSBsUWZJOSBlRXNJIEY5RXNzIGtUc0k5aSBGUW1URWttcyBUamtzIEprVUltIDhJdgogICAgICAgICsrIHNrbUZJIHVJIGZRbSdUIHVFbVQgVFEgVGhJRVQgRW12IFFpIFRqUXNJIGxJVGpRZnMgRXMgaEk5RVRrUW1zamtxcyBlSUZFcHNJCiAgICAgICAgKysgVGpJdiBFaEkgRTk5IGttVEltZklmIEVzIGpJOXFJaCBsSVRqUWZzIEVtZiBtUW1JIFFpIFRqSXNJIEVoSSBoSTlFVGtRbXMuCiAgICAgICAga2kgKGxJVGpRZl9JVmtzVHMoc0k5aTo6RjlFc3MsICQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+VGpoUXUza3Nza21KdFRUaGtlcFRJZ1ZGSXFUa1FtS2l0cXE5a0ZFZTlJKCQ4SXYpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5rc05JOUVUa1FtKCQ4SXYpIHx8ICRUamtzLT5oSTlFVGtRbTZRRWZJZigkOEl2KQogICAgICAgICAgICAgICAgICAgID8gJFRqa3MtPkpJVE5JOUVUa1FtQkU5cEkoJDhJdikKICAgICAgICAgICAgICAgICAgICA6ICRUamtzLT5UamhRdTNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW1LaXRxcTlrRkVlOUkoJDhJdik7CiAgICB9CgogICAgKyoqCiAgICAgKiBna1RqSWggVGpoUXUgRSBsa3Nza21KIEVUVGhrZXBUSSBJVkZJcVRrUW0gUWggaElUcGhtIG1wOTkgZklxSW1ma21KIFFtIGc5UVJwSW1UJ3MgRlFtaWtKcGhFVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBtcDk5CiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwza3Nza21KdFRUaGtlcFRJZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBUamhRdTNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW1LaXRxcTlrRkVlOUkoJDhJdikKICAgIHsKICAgICAgICBraSAoJFRqa3MtPklWa3NUcyAmJgogICAgICAgICAgICAhICRUamtzLT51RXNOSUZJbVQ5dm9oSUVUSWYgJiYKICAgICAgICAgICAgc1RFVGtGOjpxaElVSW1Uc3RGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzKCkpIHsKICAgICAgICAgICAga2kgKGtzc0lUKHNURVRrRjo6JGxrc3NrbUp0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGOCkpIHsKICAgICAgICAgICAgICAgIGhJVHBobSBGRTk5X3BzSWhfaXBtRihzVEVUa0Y6OiRsa3Nza21KdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjgsICRUamtzLCAkOEl2KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgVGpoUXUgbUl1IDNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW0oJFRqa3MsICQ4SXYpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIG1wOTk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBxOUVrbSBFVFRoa2VwVEkgKG1RVCBFIGhJOUVUa1Ftc2prcSkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVHRUVGhrZXBUSUJFOXBJKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5UaEVtc2lRaGwzUWZJOUJFOXBJKCQ4SXYsICRUamtzLT5KSVR0VFRoa2VwVEkyaFFsdGhoRXYoJDhJdikpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEVtIEVUVGhrZXBUSSBpaFFsIFRqSSAkRVRUaGtlcFRJcyBFaGhFdi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUdFRUaGtlcFRJMmhRbHRoaEV2KCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0VFRoa2VwVElzKClbJDhJdl0gPz8gbXA5OTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIGhJOUVUa1Ftc2prcS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUTkk5RVRrUW1CRTlwSSgkOEl2KQogICAgewogICAgICAgICsrIEtpIFRqSSA4SXYgRTloSUVmdiBJVmtzVHMga20gVGpJIGhJOUVUa1Ftc2prcXMgRWhoRXYsIGtUIExwc1QgbElFbXMgVGpJCiAgICAgICAgKysgaEk5RVRrUW1zamtxIGpFcyBFOWhJRWZ2IGVJSW0gOVFFZklmLCBzUSB1SSc5OSBMcHNUIGhJVHBobSBrVCBRcFQgUWkKICAgICAgICArKyBqSWhJIGVJRkVwc0kgVGpJaEkga3MgbVEgbUlJZiBUUSBScElodiB1a1Rqa20gVGpJIGhJOUVUa1FtcyBUdWtGSS4KICAgICAgICBraSAoJFRqa3MtPmhJOUVUa1FtNlFFZklmKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aEk5RVRrUW1zWyQ4SXZdOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgJFRqa3MtPmtzTkk5RVRrUW0oJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5xaElVSW1UczZFV3Y2UUVma21KKSB7CiAgICAgICAgICAgICRUamtzLT5qRW1mOUk2RVd2NlFFZmttSkJrUTlFVGtRbSgkOEl2KTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSAiRVRUaGtlcFRJIiBJVmtzVHMgRXMgRSBsSVRqUWYgUW0gVGpJIGxRZkk5LCB1SSB1azk5IExwc1QgRXNzcGxJCiAgICAgICAgKysga1Qga3MgRSBoSTlFVGtRbXNqa3EgRW1mIHVrOTkgOVFFZiBFbWYgaElUcGhtIGhJc3A5VHMgaWhRbCBUakkgUnBJaHYKICAgICAgICArKyBFbWYganZmaEVUSSBUakkgaEk5RVRrUW1zamtxJ3MgVUU5cEkgUW0gVGpJICJoSTlFVGtRbXNqa3FzIiBFaGhFdi4KICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVE5JOUVUa1Ftc2prcTJoUWwzSVRqUWYoJDhJdik7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIDhJdiBrcyBFIGhJOUVUa1Ftc2prcSBsSVRqUWYgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGtzTkk5RVRrUW0oJDhJdikKICAgIHsKICAgICAgICBraSAoJFRqa3MtPmpFc3RUVGhrZXBUSTNwVEVUUWgoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIGxJVGpRZl9JVmtzVHMoJFRqa3MsICQ4SXYpIHx8CiAgICAgICAgICAgICAgICRUamtzLT5oSTlFVGtRbU5Jc1E5VUloKHNURVRrRjo6RjlFc3MsICQ4SXYpOwogICAgfQoKICAgICsqKgogICAgICogU0VtZjlJIEUgOUVXdiA5UUVma21KIFVrUTlFVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gakVtZjlJNkVXdjZRRWZrbUpCa1E5RVRrUW0oJDhJdikKICAgIHsKICAgICAgICBraSAoa3NzSVQoc1RFVGtGOjokOUVXdjZRRWZrbUpCa1E5RVRrUW1vRTk5ZUVGOCkpIHsKICAgICAgICAgICAgaElUcGhtIEZFOTlfcHNJaF9pcG1GKHNURVRrRjo6JDlFV3Y2UUVma21KQmtROUVUa1Ftb0U5OWVFRjgsICRUamtzLCAkOEl2KTsKICAgICAgICB9CgogICAgICAgIGtpICghICRUamtzLT5JVmtzVHMgfHwgJFRqa3MtPnVFc05JRkltVDl2b2hJRVRJZikgewogICAgICAgICAgICBoSVRwaG07CiAgICAgICAgfQoKICAgICAgICBUamhRdSBtSXUgNkVXdjZRRWZrbUpCa1E5RVRrUW1nVkZJcVRrUW0oJFRqa3MsICQ4SXYpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgaEk5RVRrUW1zamtxIFVFOXBJIGloUWwgRSBsSVRqUWYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqCiAgICAgKiBAVGpoUXVzIFw2UUprRmdWRklxVGtRbQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUTkk5RVRrUW1zamtxMmhRbDNJVGpRZigkbElUalFmKQogICAgewogICAgICAgICRoSTlFVGtRbSA9ICRUamtzLT4kbElUalFmKCk7CgogICAgICAgIGtpICghICRoSTlFVGtRbSBrbXNURW1GSVFpIE5JOUVUa1FtKSB7CiAgICAgICAgICAgIGtpIChrc19tcDk5KCRoSTlFVGtRbSkpIHsKICAgICAgICAgICAgICAgIFRqaFF1IG1JdSA2UUprRmdWRklxVGtRbShzcWhrbVRpKAogICAgICAgICAgICAgICAgICAgICclczo6JXMgbHBzVCBoSVRwaG0gRSBoSTlFVGtRbXNqa3Ega21zVEVtRkksIGVwVCAibXA5OSIgdUVzIGhJVHBobUlmLiBiRXMgVGpJICJoSVRwaG0iIDhJdnVRaGYgcHNJZj8nLCBzVEVUa0Y6OkY5RXNzLCAkbElUalFmCiAgICAgICAgICAgICAgICApKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgVGpoUXUgbUl1IDZRSmtGZ1ZGSXFUa1FtKHNxaGttVGkoCiAgICAgICAgICAgICAgICAnJXM6OiVzIGxwc1QgaElUcGhtIEUgaEk5RVRrUW1zamtxIGttc1RFbUZJLicsIHNURVRrRjo6RjlFc3MsICRsSVRqUWYKICAgICAgICAgICAgKSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gVEVxKCRoSTlFVGtRbS0+SklUTklzcDlUcygpLCBpcG1GVGtRbSAoJGhJc3A5VHMpIHBzSSAoJGxJVGpRZikgewogICAgICAgICAgICAkVGprcy0+c0lUTkk5RVRrUW0oJGxJVGpRZiwgJGhJc3A5VHMpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIEUgSklUIGxwVEVUUWggSVZrc1RzIGlRaCBFbSBFVFRoa2VwVEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gakVzMElUM3BURVRRaCgkOEl2KQogICAgewogICAgICAgIGhJVHBobSBsSVRqUWZfSVZrc1RzKCRUamtzLCAnSklUJy5PVGg6OnNUcGY5digkOEl2KS4ndFRUaGtlcFRJJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgRSAidFRUaGtlcFRJIiBoSVRwaG0gVHZxSSBsRWg4SWYgbHBURVRRaCBJVmtzVHMgaVFoIEVtIEVUVGhrZXBUSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRXN0VFRoa2VwVEkzcFRFVFFoKCQ4SXYpCiAgICB7CiAgICAgICAga2kgKGtzc0lUKHNURVRrRjo6JEVUVGhrZXBUSTNwVEVUUWhvRUZqSVtKSVRfRjlFc3MoJFRqa3MpXVskOEl2XSkpIHsKICAgICAgICAgICAgaElUcGhtIHNURVRrRjo6JEVUVGhrZXBUSTNwVEVUUWhvRUZqSVtKSVRfRjlFc3MoJFRqa3MpXVskOEl2XTsKICAgICAgICB9CgogICAgICAgIGtpICghIGxJVGpRZl9JVmtzVHMoJFRqa3MsICRsSVRqUWYgPSBPVGg6OkZFbEk5KCQ4SXYpKSkgewogICAgICAgICAgICBoSVRwaG0gc1RFVGtGOjokRVRUaGtlcFRJM3BURVRRaG9FRmpJW0pJVF9GOUVzcygkVGprcyldWyQ4SXZdID0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICAkaElUcGhtSHZxSSA9IChtSXUgTklpOUlGVGtRbTNJVGpRZigkVGprcywgJGxJVGpRZikpLT5KSVROSVRwaG1IdnFJKCk7CgogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRFVFRoa2VwVEkzcFRFVFFob0VGaklbSklUX0Y5RXNzKCRUamtzKV1bJDhJdl0gPQogICAgICAgICAgICAgICAgICAgICRoSVRwaG1IdnFJIGttc1RFbUZJUWkgTklpOUlGVGtRbUFFbElmSHZxSSAmJgogICAgICAgICAgICAgICAgICAgICRoSVRwaG1IdnFJLT5KSVRBRWxJKCkgPT09IHRUVGhrZXBUSTo6RjlFc3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgRSAidFRUaGtlcFRJIiBoSVRwaG0gVHZxSSBsRWg4SWYgSklUIGxwVEVUUWggSVZrc1RzIGlRaCBFbSBFVFRoa2VwVEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gakVzdFRUaGtlcFRJMElUM3BURVRRaCgkOEl2KQogICAgewogICAgICAgIGtpIChrc3NJVChzVEVUa0Y6OiRKSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbSklUX0Y5RXNzKCRUamtzKV1bJDhJdl0pKSB7CiAgICAgICAgICAgIGhJVHBobSBzVEVUa0Y6OiRKSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbSklUX0Y5RXNzKCRUamtzKV1bJDhJdl07CiAgICAgICAgfQoKICAgICAgICBraSAoISAkVGprcy0+akVzdFRUaGtlcFRJM3BURVRRaCgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gc1RFVGtGOjokSklUdFRUaGtlcFRJM3BURVRRaG9FRmpJW0pJVF9GOUVzcygkVGprcyldWyQ4SXZdID0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gc1RFVGtGOjokSklUdFRUaGtlcFRJM3BURVRRaG9FRmpJW0pJVF9GOUVzcygkVGprcyldWyQ4SXZdID0ga3NfRkU5OUVlOUkoJFRqa3MtPntPVGg6OkZFbEk5KCQ4SXYpfSgpLT5KSVQpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBVRTlwSSBRaSBFbSBFVFRoa2VwVEkgcHNrbUoga1RzIGxwVEVUUWguCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gbHBURVRJdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnsnSklUJy5PVGg6OnNUcGY5digkOEl2KS4ndFRUaGtlcFRJJ30oJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkgUWkgRW0gInRUVGhrZXBUSSIgaElUcGhtIFR2cUkgbEVoOElmIEVUVGhrZXBUSSBwc2ttSiBrVHMgbHBURVRRaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBscFRFVEl0VFRoa2VwVEkzRWg4SWZ0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGtpIChFaGhFdl84SXZfSVZrc1RzKCQ4SXYsICRUamtzLT5FVFRoa2VwVElvRXNUb0VGakkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RVRUaGtlcFRJb0VzVG9FRmpJWyQ4SXZdOwogICAgICAgIH0KCiAgICAgICAgJEVUVGhrZXBUSSA9ICRUamtzLT57T1RoOjpGRWxJOSgkOEl2KX0oKTsKCiAgICAgICAgJFVFOXBJID0gRkU5OV9wc0loX2lwbUYoJEVUVGhrZXBUSS0+SklUID86IGlwbUZUa1FtICgkVUU5cEkpIHsKICAgICAgICAgICAgaElUcGhtICRVRTlwSTsKICAgICAgICB9LCAkVUU5cEksICRUamtzLT5FVFRoa2VwVElzKTsKCiAgICAgICAga2kgKCRFVFRoa2VwVEktPnVrVGpvRUZqa21KIHx8IChrc19RZUxJRlQoJFVFOXBJKSAmJiAkRVRUaGtlcFRJLT51a1RqTWVMSUZUb0VGamttSikpIHsKICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSW9Fc1RvRUZqSVskOEl2XSA9ICRVRTlwSTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICBwbXNJVCgkVGprcy0+RVRUaGtlcFRJb0VzVG9FRmpJWyQ4SXZdKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cEk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFVFOXBJIFFpIEVtIEVUVGhrZXBUSSBwc2ttSiBrVHMgbHBURVRRaCBpUWggRWhoRXYgRlFtVUloc2tRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBscFRFVEl0VFRoa2VwVEkyUWh0aGhFdigkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAga2kgKCRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgJFVFOXBJID0gJFRqa3MtPkpJVG85RXNzb0VzVEVlOUl0VFRoa2VwVElCRTlwSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0gSTlzSWtpIChrc3NJVChzVEVUa0Y6OiRKSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbSklUX0Y5RXNzKCRUamtzKV1bJDhJdl0pICYmCiAgICAgICAgICAgICAgICAgIHNURVRrRjo6JEpJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVtKSVRfRjlFc3MoJFRqa3MpXVskOEl2XSA9PT0gVGhwSSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVGprcy0+bHBURVRJdFRUaGtlcFRJM0VoOElmdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CgogICAgICAgICAgICAkVUU5cEkgPSAkVUU5cEkga21zVEVtRklRaSBuRVRJSGtsSUttVEloaUVGSQogICAgICAgICAgICAgICAgICAgICAgICA/ICRUamtzLT5zSWhrRTlrV0luRVRJKCRVRTlwSSkKICAgICAgICAgICAgICAgICAgICAgICAgOiAkVUU5cEk7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFVFOXBJID0gJFRqa3MtPmxwVEVUSXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSSBrbXNURW1GSVFpIHRoaEV2RWU5SSA/ICRVRTlwSS0+VFF0aGhFdigpIDogJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogM0loSkkgbUl1IEZFc1RzIHVrVGogSVZrc1RrbUogRkVzVHMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGRXNUcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbEloSklvRXNUcygkRkVzVHMpCiAgICB7CiAgICAgICAgJEZFc1RzID0gJFRqa3MtPkltc3BoSW9Fc1RzdGhJT1Roa21KQkU5cElzKCRGRXNUcyk7CgogICAgICAgICRUamtzLT5GRXNUcyA9IEVoaEV2X2xJaEpJKCRUamtzLT5GRXNUcywgJEZFc1RzKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogZ21zcGhJIFRqRVQgVGpJIEprVUltIEZFc1RzIEVoSSBzVGhrbUpzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGRXNUcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSW1zcGhJb0VzVHN0aElPVGhrbUpCRTlwSXMoJEZFc1RzKQogICAgewogICAgICAgIGlRaElFRmogKCRGRXNUcyBFcyAkRVRUaGtlcFRJID0+ICRGRXNUKSB7CiAgICAgICAgICAgICRGRXNUc1skRVRUaGtlcFRJXSA9IGxFVEZqIChUaHBJKSB7CiAgICAgICAgICAgICAgICBrc19FaGhFdigkRkVzVCkgPT4gVUU5cEkoaXBtRlRrUW0gKCkgcHNJICgkRkVzVCkgewogICAgICAgICAgICAgICAgICAgIGtpIChGUXBtVCgkRkVzVCkgPT09IFgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaElUcGhtICRGRXNUW3ddOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgWyRGRXNULCAkRWhKcGxJbVRzXSA9IFtFaGhFdl9zamtpVCgkRkVzVCksICRGRXNUXTsKCiAgICAgICAgICAgICAgICAgICAgaElUcGhtICRGRXNULic6Jy5rbHE5UWZJKCcsJywgJEVoSnBsSW1Ucyk7CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIGZJaUVwOVQgPT4gJEZFc1QsCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEZFc1RzOwogICAgfQoKICAgICsqKgogICAgICogb0VzVCBFbSBFVFRoa2VwVEkgVFEgRSBtRVRrVUkgYVNhIFR2cUkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRkVzVHRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgJEZFc1RIdnFJID0gJFRqa3MtPkpJVG9Fc1RIdnFJKCQ4SXYpOwoKICAgICAgICBraSAoa3NfbXA5OSgkVUU5cEkpICYmIGttX0VoaEV2KCRGRXNUSHZxSSwgc1RFVGtGOjokcWhrbGtUa1VJb0VzVEh2cUlzKSkgewogICAgICAgICAgICBoSVRwaG0gJFVFOXBJOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIDhJdiBrcyBRbUkgUWkgVGpJIEltRmh2cVRJZiBGRXNURWU5SSBUdnFJcywgdUknOTkgaWtoc1QgZklGaHZxVAogICAgICAgICsrIFRqSSBVRTlwSSBFbWYgcHFmRVRJIFRqSSBGRXNUIFR2cUkgc1EgdUkgbEV2IDlJVUloRUpJIFRqSSBpUTk5UXVrbUoKICAgICAgICArKyA5UUprRiBpUWggRkVzVGttSiBUamtzIFVFOXBJIFRRIEVtdiBFZmZrVGtRbUU5OXYgc3FJRmtpa0lmIFR2cUlzLgogICAgICAgIGtpICgkVGprcy0+a3NnbUZodnFUSWZvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVGprcy0+aWhRbGdtRmh2cVRJZk9UaGttSigkVUU5cEkpOwoKICAgICAgICAgICAgJEZFc1RIdnFJID0gT1RoOjpFaVRJaCgkRkVzVEh2cUksICdJbUZodnFUSWY6Jyk7CiAgICAgICAgfQoKICAgICAgICBzdWtURmogKCRGRXNUSHZxSSkgewogICAgICAgICAgICBGRXNJICdrbVQnOgogICAgICAgICAgICBGRXNJICdrbVRJSkloJzoKICAgICAgICAgICAgICAgIGhJVHBobSAoa21UKSAkVUU5cEk7CiAgICAgICAgICAgIEZFc0kgJ2hJRTknOgogICAgICAgICAgICBGRXNJICdpOVFFVCc6CiAgICAgICAgICAgIEZFc0kgJ2ZRcGU5SSc6CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmloUWwyOVFFVCgkVUU5cEkpOwogICAgICAgICAgICBGRXNJICdmSUZrbEU5JzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RXNuSUZrbEU5KCRVRTlwSSwgSVZxOVFmSSgnOicsICRUamtzLT5KSVRvRXNUcygpWyQ4SXZdLCB4KVtYXSk7CiAgICAgICAgICAgIEZFc0kgJ3NUaGttSic6CiAgICAgICAgICAgICAgICBoSVRwaG0gKHNUaGttSikgJFVFOXBJOwogICAgICAgICAgICBGRXNJICdlUVE5JzoKICAgICAgICAgICAgRkVzSSAnZVFROUlFbSc6CiAgICAgICAgICAgICAgICBoSVRwaG0gKGVRUTkpICRVRTlwSTsKICAgICAgICAgICAgRkVzSSAnUWVMSUZUJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbERzUW0oJFVFOXBJLCBUaHBJKTsKICAgICAgICAgICAgRkVzSSAnRWhoRXYnOgogICAgICAgICAgICBGRXNJICdMc1FtJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbERzUW0oJFVFOXBJKTsKICAgICAgICAgICAgRkVzSSAnRlE5OUlGVGtRbSc6CiAgICAgICAgICAgICAgICBoSVRwaG0gbUl1IHJFc0lvUTk5SUZUa1FtKCRUamtzLT5paFFsRHNRbSgkVUU5cEkpKTsKICAgICAgICAgICAgRkVzSSAnZkVUSSc6CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkVzbkVUSSgkVUU5cEkpOwogICAgICAgICAgICBGRXNJICdmRVRJVGtsSSc6CiAgICAgICAgICAgIEZFc0kgJ0Zwc1RRbF9mRVRJVGtsSSc6CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkVzbkVUSUhrbEkoJFVFOXBJKTsKICAgICAgICAgICAgRkVzSSAna2xscFRFZTlJX2ZFVEknOgogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5Fc25FVEkoJFVFOXBJKS0+VFFLbGxwVEVlOUkoKTsKICAgICAgICAgICAgRkVzSSAna2xscFRFZTlJX0Zwc1RRbF9mRVRJVGtsSSc6CiAgICAgICAgICAgIEZFc0kgJ2tsbHBURWU5SV9mRVRJVGtsSSc6CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkVzbkVUSUhrbEkoJFVFOXBJKS0+VFFLbGxwVEVlOUkoKTsKICAgICAgICAgICAgRkVzSSAnVGtsSXNURWxxJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RXNIa2xJc1RFbHEoJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+a3NnbXBsb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5KSVRnbXBsb0VzVEVlOUl0VFRoa2VwVElCRTlwSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5KSVRvOUVzc29Fc1RFZTlJdFRUaGtlcFRJQkU5cEkoJDhJdiwgJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvRXNUIFRqSSBKa1VJbSBFVFRoa2VwVEkgcHNrbUogRSBGcHNUUWwgRkVzVCBGOUVzcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVRvOUVzc29Fc1RFZTlJdFRUaGtlcFRJQkU5cEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgICRGRXNUSWggPSAkVGprcy0+aElzUTlVSW9Fc1RJaG85RXNzKCQ4SXYpOwoKICAgICAgICAkUWVMSUZUb0VGamttSm5rc0VlOUlmID0gJEZFc1RJaC0+dWtUalFwVE1lTElGVG9FRmprbUogPz8gaUU5c0k7CgogICAgICAgIGtpIChrc3NJVCgkVGprcy0+RjlFc3NvRXNUb0VGaklbJDhJdl0pICYmICEgJFFlTElGVG9FRmprbUpua3NFZTlJZikgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkY5RXNzb0VzVG9FRmpJWyQ4SXZdOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRVRTlwSSA9ICRGRXNUSWgga21zVEVtRklRaSBvRXNUc0ttZVFwbWZ0VFRoa2VwVElzCiAgICAgICAgICAgICAgICA/ICRVRTlwSQogICAgICAgICAgICAgICAgOiAkRkVzVEloLT5KSVQoJFRqa3MsICQ4SXYsICRVRTlwSSwgJFRqa3MtPkVUVGhrZXBUSXMpOwoKICAgICAgICAgICAga2kgKCRGRXNUSWgga21zVEVtRklRaSBvRXNUc0ttZVFwbWZ0VFRoa2VwVElzIHx8CiAgICAgICAgICAgICAgICAhIGtzX1FlTElGVCgkVUU5cEkpIHx8CiAgICAgICAgICAgICAgICAkUWVMSUZUb0VGamttSm5rc0VlOUlmKSB7CiAgICAgICAgICAgICAgICBwbXNJVCgkVGprcy0+RjlFc3NvRXNUb0VGaklbJDhJdl0pOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJFRqa3MtPkY5RXNzb0VzVG9FRmpJWyQ4SXZdID0gJFVFOXBJOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gJFVFOXBJOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIG9Fc1QgVGpJIEprVUltIEVUVGhrZXBUSSBUUSBFbSBJbXBsLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVGdtcGxvRXNURWU5SXRUVGhrZXBUSUJFOXBJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICBraSAoa3NfbXA5OSgkVUU5cEkpKSB7CiAgICAgICAgICAgIGhJVHBobTsKICAgICAgICB9CgogICAgICAgICRGRXNUSHZxSSA9ICRUamtzLT5KSVRvRXNUcygpWyQ4SXZdOwoKICAgICAgICBraSAoJFVFOXBJIGttc1RFbUZJUWkgJEZFc1RIdnFJKSB7CiAgICAgICAgICAgIGhJVHBobSAkVUU5cEk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVGdtcGxvRXNJMmhRbEJFOXBJKCRGRXNUSHZxSSwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVHZxSSBRaSBGRXNUIGlRaCBFIGxRZkk5IEVUVGhrZXBUSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVG9Fc1RIdnFJKCQ4SXYpCiAgICB7CiAgICAgICAgJEZFc1RIdnFJID0gJFRqa3MtPkpJVG9Fc1RzKClbJDhJdl07CgogICAgICAgIGtpIChrc3NJVChzVEVUa0Y6OiRGRXNUSHZxSW9FRmpJWyRGRXNUSHZxSV0pKSB7CiAgICAgICAgICAgIGhJVHBobSBzVEVUa0Y6OiRGRXNUSHZxSW9FRmpJWyRGRXNUSHZxSV07CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmtzb3BzVFFsbkVUSUhrbElvRXNUKCRGRXNUSHZxSSkpIHsKICAgICAgICAgICAgJEZRbVVJaFRJZm9Fc1RIdnFJID0gJ0Zwc1RRbF9mRVRJVGtsSSc7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5rc0tsbHBURWU5SW9wc1RRbG5FVElIa2xJb0VzVCgkRkVzVEh2cUkpKSB7CiAgICAgICAgICAgICRGUW1VSWhUSWZvRXNUSHZxSSA9ICdrbGxwVEVlOUlfRnBzVFFsX2ZFVElUa2xJJzsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmtzbklGa2xFOW9Fc1QoJEZFc1RIdnFJKSkgewogICAgICAgICAgICAkRlFtVUloVElmb0VzVEh2cUkgPSAnZklGa2xFOSc7CiAgICAgICAgfSBJOXNJa2kgKEY5RXNzX0lWa3NUcygkRkVzVEh2cUkpKSB7CiAgICAgICAgICAgICRGUW1VSWhUSWZvRXNUSHZxSSA9ICRGRXNUSHZxSTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkRlFtVUloVElmb0VzVEh2cUkgPSBUaGtsKHNUaFRROVF1SWgoJEZFc1RIdnFJKSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gc1RFVGtGOjokRkVzVEh2cUlvRUZqSVskRkVzVEh2cUldID0gJEZRbVVJaFRJZm9Fc1RIdnFJOwogICAgfQoKICAgICsqKgogICAgICogS21GaElsSW1UIFFoIGZJRmhJbEltVCBUakkgSmtVSW0gRVRUaGtlcFRJIHBza21KIFRqSSBGcHNUUWwgRkVzVCBGOUVzcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gZklVa0VUSW85RXNzb0VzVEVlOUl0VFRoa2VwVEkoJGxJVGpRZiwgJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElzUTlVSW9Fc1RJaG85RXNzKCQ4SXYpLT57JGxJVGpRZn0oCiAgICAgICAgICAgICRUamtzLCAkOEl2LCAkVUU5cEksICRUamtzLT5FVFRoa2VwVElzCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JaGtFOWtXSSBUakkgSmtVSW0gRVRUaGtlcFRJIHBza21KIFRqSSBGcHNUUWwgRkVzVCBGOUVzcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBzSWhrRTlrV0lvOUVzc29Fc1RFZTlJdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJc1E5VUlvRXNUSWhvOUVzcygkOEl2KS0+c0loa0U5a1dJKAogICAgICAgICAgICAkVGprcywgJDhJdiwgJFVFOXBJLCAkVGprcy0+RVRUaGtlcFRJcwogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEZFc1QgVHZxSSBrcyBFIEZwc1RRbCBmRVRJIFRrbEkgRkVzVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZFc1QKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NvcHNUUWxuRVRJSGtsSW9Fc1QoJEZFc1QpCiAgICB7CiAgICAgICAgaElUcGhtIHNUaF9zVEVoVHNfdWtUaigkRkVzVCwgJ2ZFVEk6JykgfHwKICAgICAgICAgICAgICAgIHNUaF9zVEVoVHNfdWtUaigkRkVzVCwgJ2ZFVElUa2xJOicpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBGRXNUIFR2cUkga3MgRW0ga2xscFRFZTlJIEZwc1RRbCBmRVRJIFRrbEkgRkVzVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZFc1QKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NLbGxwVEVlOUlvcHNUUWxuRVRJSGtsSW9Fc1QoJEZFc1QpCiAgICB7CiAgICAgICAgaElUcGhtIHNUaF9zVEVoVHNfdWtUaigkRkVzVCwgJ2tsbHBURWU5SV9mRVRJOicpIHx8CiAgICAgICAgICAgICAgICBzVGhfc1RFaFRzX3VrVGooJEZFc1QsICdrbGxwVEVlOUlfZkVUSVRrbEk6Jyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEZFc1QgVHZxSSBrcyBFIGZJRmtsRTkgRkVzVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZFc1QKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NuSUZrbEU5b0VzVCgkRkVzVCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RoX3NURWhUc191a1RqKCRGRXNULCAnZklGa2xFOTonKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBFIEprVUltIEVUVGhrZXBUSSBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICArKyAya2hzVCB1SSB1azk5IEZqSUY4IGlRaCBUakkgcWhJc0ltRkkgUWkgRSBscFRFVFFoIGlRaCBUakkgc0lUIFFxSWhFVGtRbQogICAgICAgICsrIHVqa0ZqIHNrbHE5diA5SVRzIFRqSSBmSVVJOVFxSWhzIFR1SUU4IFRqSSBFVFRoa2VwVEkgRXMga1Qga3Mgc0lUIFFtCiAgICAgICAgKysgVGprcyBsUWZJOSwgc3BGaiBFcyAiTHNRbV9JbUZRZmttSiIgRSA5a3NUa21KIFFpIGZFVEUgaVFoIHNUUWhFSkkuCiAgICAgICAga2kgKCRUamtzLT5qRXNPSVQzcFRFVFFoKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+c0lUM3BURVRJZnRUVGhrZXBUSUJFOXBJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5qRXN0VFRoa2VwVElPSVQzcFRFVFFoKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+c0lUdFRUaGtlcFRJM0VoOElmM3BURVRJZnRUVGhrZXBUSUJFOXBJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBFbSBFVFRoa2VwVEkga3MgOWtzVElmIEVzIEUgImZFVEkiLCB1SSc5OSBGUW1VSWhUIGtUIGloUWwgRSBuRVRJSGtsSQogICAgICAgICsrIGttc1RFbUZJIGttVFEgRSBpUWhsIHFoUXFJaCBpUWggc1RRaEVKSSBRbSBUakkgZkVURWVFc0kgVEVlOUlzIHBza21KCiAgICAgICAgKysgVGpJIEZRbW1JRlRrUW0gSmhFbGxFaCdzIGZFVEkgaVFobEVULiBiSSB1azk5IEVwVFEgc0lUIFRqSSBVRTlwSXMuCiAgICAgICAgSTlzSWtpICghIGtzX21wOTkoJFVFOXBJKSAmJiAkVGprcy0+a3NuRVRJdFRUaGtlcFRJKCQ4SXYpKSB7CiAgICAgICAgICAgICRVRTlwSSA9ICRUamtzLT5paFFsbkVUSUhrbEkoJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+a3NnbXBsb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgJFRqa3MtPnNJVGdtcGxvRXNURWU5SXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwoKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgJFRqa3MtPnNJVG85RXNzb0VzVEVlOUl0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKTsKCiAgICAgICAgICAgIGhJVHBobSAkVGprczsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX21wOTkoJFVFOXBJKSAmJiAkVGprcy0+a3NEc1Ftb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgJFVFOXBJID0gJFRqa3MtPkZFc1R0VFRoa2VwVEl0c0RzUW0oJDhJdiwgJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqa3MgRVRUaGtlcFRJIEZRbVRFa21zIEUgRE9NQSAtPiwgdUknOTkgc0lUIFRqSSBxaFFxSWggVUU5cEkga20gVGpJCiAgICAgICAgKysgRVRUaGtlcFRJJ3MgcG1mSWg5dmttSiBFaGhFdi4gSGprcyBURThJcyBGRWhJIFFpIHFoUXFJaDl2IG1Jc1RrbUogRW0KICAgICAgICArKyBFVFRoa2VwVEkga20gVGpJIEVoaEV2J3MgVUU5cEkga20gVGpJIEZFc0kgUWkgZklJcTl2IG1Jc1RJZiBrVElscy4KICAgICAgICBraSAoc1RoX0ZRbVRFa21zKCQ4SXYsICctPicpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWs5OURzUW10VFRoa2VwVEkoJDhJdiwgJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX21wOTkoJFVFOXBJKSAmJiAkVGprcy0+a3NnbUZodnFUSWZvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVGprcy0+RkVzVHRUVGhrZXBUSXRzZ21GaHZxVElmT1Roa21KKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICBraSAoISBrc19tcDk5KCRVRTlwSSkgJiYgJFRqa3MtPmpFc29Fc1QoJDhJdiwgJ2pFc2pJZicpKSB7CiAgICAgICAgICAgICRVRTlwSSA9ICRUamtzLT5GRXNUdFRUaGtlcFRJdHNTRXNqSWZPVGhrbUooJDhJdiwgJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT5FVFRoa2VwVElzWyQ4SXZdID0gJFVFOXBJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgRSBzSVQgbHBURVRRaCBJVmtzVHMgaVFoIEVtIEVUVGhrZXBUSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRXNPSVQzcFRFVFFoKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtIGxJVGpRZl9JVmtzVHMoJFRqa3MsICdzSVQnLk9UaDo6c1RwZjl2KCQ4SXYpLid0VFRoa2VwVEknKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFbSAidFRUaGtlcFRJIiBoSVRwaG0gVHZxSSBsRWg4SWYgc0lUIGxwVEVUUWggSVZrc1RzIGlRaCBFbSBFVFRoa2VwVEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gakVzdFRUaGtlcFRJT0lUM3BURVRRaCgkOEl2KQogICAgewogICAgICAgICRGOUVzcyA9IEpJVF9GOUVzcygkVGprcyk7CgogICAgICAgIGtpIChrc3NJVChzVEVUa0Y6OiRzSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbJEY5RXNzXVskOEl2XSkpIHsKICAgICAgICAgICAgaElUcGhtIHNURVRrRjo6JHNJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVskRjlFc3NdWyQ4SXZdOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgbElUalFmX0lWa3NUcygkVGprcywgJGxJVGpRZiA9IE9UaDo6RkVsSTkoJDhJdikpKSB7CiAgICAgICAgICAgIGhJVHBobSBzVEVUa0Y6OiRzSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbJEY5RXNzXVskOEl2XSA9IGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgJGhJVHBobUh2cUkgPSAobUl1IE5JaTlJRlRrUW0zSVRqUWYoJFRqa3MsICRsSVRqUWYpKS0+SklUTklUcGhtSHZxSSgpOwoKICAgICAgICBoSVRwaG0gc1RFVGtGOjokc0lUdFRUaGtlcFRJM3BURVRRaG9FRmpJWyRGOUVzc11bJDhJdl0gPQogICAgICAgICAgICAgICAgICAgICRoSVRwaG1IdnFJIGttc1RFbUZJUWkgTklpOUlGVGtRbUFFbElmSHZxSSAmJgogICAgICAgICAgICAgICAgICAgICRoSVRwaG1IdnFJLT5KSVRBRWxJKCkgPT09IHRUVGhrZXBUSTo6RjlFc3MgJiYKICAgICAgICAgICAgICAgICAgICBrc19GRTk5RWU5SSgkVGprcy0+eyRsSVRqUWZ9KCktPnNJVCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIFVFOXBJIFFpIEVtIEVUVGhrZXBUSSBwc2ttSiBrVHMgbHBURVRRaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBzSVQzcFRFVElmdFRUaGtlcFRJQkU5cEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+eydzSVQnLk9UaDo6c1RwZjl2KCQ4SXYpLid0VFRoa2VwVEknfSgkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBVRTlwSSBRaSBFICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxFaDhJZiBFVFRoa2VwVEkgcHNrbUoga1RzIGxwVEVUUWguCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc0lUdFRUaGtlcFRJM0VoOElmM3BURVRJZnRUVGhrZXBUSUJFOXBJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICAkRVRUaGtlcFRJID0gJFRqa3MtPntPVGg6OkZFbEk5KCQ4SXYpfSgpOwoKICAgICAgICAkRkU5OWVFRjggPSAkRVRUaGtlcFRJLT5zSVQgPzogaXBtRlRrUW0gKCRVRTlwSSkgcHNJICgkOEl2KSB7CiAgICAgICAgICAgICRUamtzLT5FVFRoa2VwVElzWyQ4SXZdID0gJFVFOXBJOwogICAgICAgIH07CgogICAgICAgICRUamtzLT5FVFRoa2VwVElzID0gRWhoRXZfbEloSkkoCiAgICAgICAgICAgICRUamtzLT5FVFRoa2VwVElzLAogICAgICAgICAgICAkVGprcy0+bVFobEU5a1dJb0VzVG85RXNzTklzcVFtc0koCiAgICAgICAgICAgICAgICAkOEl2LCAkRkU5OWVFRjgoJFVFOXBJLCAkVGprcy0+RVRUaGtlcFRJcykKICAgICAgICAgICAgKQogICAgICAgICk7CgogICAgICAgIGtpICgkRVRUaGtlcFRJLT51a1Rqb0VGamttSiB8fCAoa3NfUWVMSUZUKCRVRTlwSSkgJiYgJEVUVGhrZXBUSS0+dWtUak1lTElGVG9FRmprbUopKSB7CiAgICAgICAgICAgICRUamtzLT5FVFRoa2VwVElvRXNUb0VGaklbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgcG1zSVQoJFRqa3MtPkVUVGhrZXBUSW9Fc1RvRUZqSVskOEl2XSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIEVUVGhrZXBUSSBrcyBFIGZFVEkgUWggZkVUSSBGRXNURWU5SS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc25FVEl0VFRoa2VwVEkoJDhJdikKICAgIHsKICAgICAgICBoSVRwaG0ga21fRWhoRXYoJDhJdiwgJFRqa3MtPkpJVG5FVElzKCksIFRocEkpIHx8CiAgICAgICAgICAgICRUamtzLT5rc25FVElvRXNURWU5SSgkOEl2KTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBFIEprVUltIERPTUEgRVRUaGtlcFRJIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpazk5RHNRbXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgWyQ4SXYsICRxRVRqXSA9IElWcTlRZkkoJy0+JywgJDhJdiwgeCk7CgogICAgICAgICRVRTlwSSA9ICRUamtzLT5Fc0RzUW0oJFRqa3MtPkpJVHRoaEV2dFRUaGtlcFRJYmtUakJFOXBJKAogICAgICAgICAgICAkcUVUaiwgJDhJdiwgJFVFOXBJCiAgICAgICAgKSk7CgogICAgICAgICRUamtzLT5FVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPmtzZ21GaHZxVElmb0VzVEVlOUkoJDhJdikKICAgICAgICAgICAgPyAkVGprcy0+RkVzVHRUVGhrZXBUSXRzZ21GaHZxVElmT1Roa21KKCQ4SXYsICRVRTlwSSkKICAgICAgICAgICAgOiAkVUU5cEk7CgogICAgICAgIGtpICgkVGprcy0+a3NvOUVzc29Fc1RFZTlJKCQ4SXYpKSB7CiAgICAgICAgICAgIHBtc0lUKCRUamtzLT5GOUVzc29Fc1RvRUZqSVskOEl2XSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIFVFOXBJIFFpIEUgRjlFc3MgRkVzVEVlOUkgRVRUaGtlcFRJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc0lUbzlFc3NvRXNURWU5SXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgJEZFc1RJaCA9ICRUamtzLT5oSXNROVVJb0VzVElobzlFc3MoJDhJdik7CgogICAgICAgICRUamtzLT5FVFRoa2VwVElzID0gRWhoRXZfaElxOUVGSSgKICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXMsCiAgICAgICAgICAgICRUamtzLT5tUWhsRTlrV0lvRXNUbzlFc3NOSXNxUW1zSSgkOEl2LCAkRkVzVEloLT5zSVQoCiAgICAgICAgICAgICAgICAkVGprcywgJDhJdiwgJFVFOXBJLCAkVGprcy0+RVRUaGtlcFRJcwogICAgICAgICAgICApKQogICAgICAgICk7CgogICAgICAgIGtpICgkRkVzVEloIGttc1RFbUZJUWkgb0VzVHNLbWVRcG1mdFRUaGtlcFRJcyB8fAogICAgICAgICAgICAhIGtzX1FlTElGVCgkVUU5cEkpIHx8CiAgICAgICAgICAgICgkRkVzVEloLT51a1RqUXBUTWVMSUZUb0VGamttSiA/PyBpRTlzSSkpIHsKICAgICAgICAgICAgcG1zSVQoJFRqa3MtPkY5RXNzb0VzVG9FRmpJWyQ4SXZdKTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkVGprcy0+RjlFc3NvRXNUb0VGaklbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBVRTlwSSBRaSBFbSBJbXBsIEZFc1RFZTlJIEVUVGhrZXBUSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBcUG1rVGdtcGx8c1Roa21KfGttVCAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHNJVGdtcGxvRXNURWU5SXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgJEltcGxvOUVzcyA9ICRUamtzLT5KSVRvRXNUcygpWyQ4SXZdOwoKICAgICAgICBraSAoISBrc3NJVCgkVUU5cEkpKSB7CiAgICAgICAgICAgICRUamtzLT5FVFRoa2VwVElzWyQ4SXZdID0gbXA5OTsKICAgICAgICB9IEk5c0lraSAoa3NfUWVMSUZUKCRVRTlwSSkpIHsKICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0gPSAkVGprcy0+SklUT1RRaEVlOUlnbXBsQkU5cEkoJEltcGxvOUVzcywgJFVFOXBJKTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJc1skOEl2XSA9ICRUamtzLT5KSVRPVFFoRWU5SWdtcGxCRTlwSSgKICAgICAgICAgICAgICAgICRJbXBsbzlFc3MsICRUamtzLT5KSVRnbXBsb0VzSTJoUWxCRTlwSSgkSW1wbG85RXNzLCAkVUU5cEkpCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogMElUIEVtIEltcGwgRkVzSSBrbXNURW1GSSBpaFFsIEUgSmtVSW0gRjlFc3MgRW1mIFVFOXBJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkSW1wbG85RXNzCiAgICAgKiBAcUVoRWwgIHNUaGttSnxrbVQgICRVRTlwSQogICAgICogQGhJVHBobSBcUG1rVGdtcGx8XHJFRjhJZmdtcGwKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVGdtcGxvRXNJMmhRbEJFOXBJKCRJbXBsbzlFc3MsICRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0ga3Nfc3BlRjlFc3NfUWkoJEltcGxvOUVzcywgckVGOElmZ21wbDo6RjlFc3MpCiAgICAgICAgICAgICAgICA/ICRJbXBsbzlFc3M6OmloUWwoJFVFOXBJKQogICAgICAgICAgICAgICAgOiBGUW1zVEVtVCgkSW1wbG85RXNzLic6OicuJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgc1RRaEVlOUkgVUU5cEkgaWhRbCBUakkgSmtVSW0gSW1wbC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJElWcUlGVElmZ21wbAogICAgICogQHFFaEVsICBcUG1rVGdtcGx8XHJFRjhJZmdtcGwgICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUp8a21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVRPVFFoRWU5SWdtcGxCRTlwSSgkSVZxSUZUSWZnbXBsLCAkVUU5cEkpCiAgICB7CiAgICAgICAga2kgKCEgJFVFOXBJIGttc1RFbUZJUWkgJElWcUlGVElmZ21wbCkgewogICAgICAgICAgICBUamhRdSBtSXUgQkU5cElnaGhRaChzcWhrbVRpKCdCRTlwSSBbJXNdIGtzIG1RVCBRaSBUakkgSVZxSUZUSWYgSW1wbCBUdnFJIFslc10uJywgVUVoX0lWcVFoVCgkVUU5cEksIFRocEkpLCAkSVZxSUZUSWZnbXBsKSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFVFOXBJIGttc1RFbUZJUWkgckVGOElmZ21wbAogICAgICAgICAgICAgICAgPyAkVUU5cEktPlVFOXBJCiAgICAgICAgICAgICAgICA6ICRVRTlwSS0+bUVsSTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFbSBFaGhFdiBFVFRoa2VwVEkgdWtUaiBUakkgSmtVSW0gOEl2IEVtZiBVRTlwSSBzSVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRxRVRqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVR0aGhFdnRUVGhrZXBUSWJrVGpCRTlwSSgkcUVUaiwgJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSBURXEoJFRqa3MtPkpJVHRoaEV2dFRUaGtlcFRJcnYxSXYoJDhJdiksIGlwbUZUa1FtICgmJEVoaEV2KSBwc0kgKCRxRVRqLCAkVUU5cEkpIHsKICAgICAgICAgICAgdGhoOjpzSVQoJEVoaEV2LCBzVGhfaElxOUVGSSgnLT4nLCAnLicsICRxRVRqKSwgJFVFOXBJKTsKICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFbSBFaGhFdiBFVFRoa2VwVEkgUWggaElUcGhtIEVtIElscVR2IEVoaEV2IGtpIGtUIGtzIG1RVCBzSVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVHRoaEV2dFRUaGtlcFRJcnYxSXYoJDhJdikKICAgIHsKICAgICAgICBraSAoISBrc3NJVCgkVGprcy0+RVRUaGtlcFRJc1skOEl2XSkpIHsKICAgICAgICAgICAgaElUcGhtIFtdOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5paFFsRHNRbSgKICAgICAgICAgICAgJFRqa3MtPmtzZ21GaHZxVElmb0VzVEVlOUkoJDhJdikKICAgICAgICAgICAgICAgID8gJFRqa3MtPmloUWxnbUZodnFUSWZPVGhrbUooJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0pCiAgICAgICAgICAgICAgICA6ICRUamtzLT5FVFRoa2VwVElzWyQ4SXZdCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIG9Fc1QgVGpJIEprVUltIEVUVGhrZXBUSSBUUSBET01BLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGRXNUdFRUaGtlcFRJdHNEc1FtKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICAkVUU5cEkgPSAkVGprcy0+RXNEc1FtKCRVRTlwSSk7CgogICAgICAgIGtpICgkVUU5cEkgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIFRqaFF1IERzUW1nbUZRZmttSmdWRklxVGtRbTo6aVFodFRUaGtlcFRJKAogICAgICAgICAgICAgICAgJFRqa3MsICQ4SXYsIExzUW1fOUVzVF9JaGhRaF9sc0ooKQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIGdtRlFmSSBUakkgSmtVSW0gVUU5cEkgRXMgRE9NQS4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFc0RzUW0oJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSBEc1FtOjpJbUZRZkkoJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JRlFmSSBUakkgSmtVSW0gRE9NQSBlRUY4IGttVFEgRW0gRWhoRXYgUWggUWVMSUZULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVUU5cEkKICAgICAqIEBxRWhFbCAgZVFROSAgJEVzTWVMSUZUCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpaFFsRHNRbSgkVUU5cEksICRFc01lTElGVCA9IGlFOXNJKQogICAgewogICAgICAgIGhJVHBobSBEc1FtOjpmSUZRZkkoJFVFOXBJID8/ICcnLCAhICRFc01lTElGVCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSUZodnFUIFRqSSBKa1VJbSBJbUZodnFUSWYgc1Roa21KLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloUWxnbUZodnFUSWZPVGhrbUooJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OkZwaGhJbVRnbUZodnFUSWgoKS0+ZklGaHZxVCgkVUU5cEksIGlFOXNJKTsKICAgIH0KCiAgICArKioKICAgICAqIG9Fc1QgVGpJIEprVUltIEVUVGhrZXBUSSBUUSBFbSBJbUZodnFUSWYgc1Roa21KLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGRXNUdFRUaGtlcFRJdHNnbUZodnFUSWZPVGhrbUooJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OkZwaGhJbVRnbUZodnFUSWgoKS0+SW1GaHZxVCgkVUU5cEksIGlFOXNJKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgSW1GaHZxVEloIGttc1RFbUZJIFRqRVQgdWs5OSBlSSBwc0lmIFRRIEltRmh2cVQgRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xnbUZodnFUa1FtXGdtRmh2cVRJaHxtcDk5ICAkSW1GaHZxVEloCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBJbUZodnFUUHNrbUooJEltRmh2cVRJaCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRJbUZodnFUSWggPSAkSW1GaHZxVEloOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBGcGhoSW1UIEltRmh2cVRJaCBlSWttSiBwc0lmIGV2IFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xnbUZodnFUa1FtXGdtRmh2cVRJaAogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGIGlwbUZUa1FtIEZwaGhJbVRnbUZodnFUSWgoKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRJbUZodnFUSWggPz8gb2h2cVQ6OkpJVDJFRkVmSU5RUVQoKTsKICAgIH0KCiAgICArKioKICAgICAqIG9Fc1QgVGpJIEprVUltIEVUVGhrZXBUSSBUUSBFIGpFc2pJZiBzVGhrbUouCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZFc1R0VFRoa2VwVEl0c1NFc2pJZk9UaGttSigkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAga2kgKCRVRTlwSSA9PT0gbXA5OSkgewogICAgICAgICAgICBoSVRwaG0gbXA5OTsKICAgICAgICB9CgogICAgICAgIGtpICghIFNFc2o6OmtzU0VzaklmKCRVRTlwSSkpIHsKICAgICAgICAgICAgaElUcGhtIFNFc2o6OmxFOEkoJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGtpICghIFNFc2o6OlVJaGtpdm9RbWlrSnBoRVRrUW0oJFVFOXBJKSkgewogICAgICAgICAgICBUamhRdSBtSXUgTnBtVGtsSWdWRklxVGtRbSgib1FwOWYgbVFUIFVJaGtpdiBUakkgakVzaklmIFVFOXBJJ3MgRlFtaWtKcGhFVGtRbS4iKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSUZRZkkgVGpJIEprVUltIGk5UUVULgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWhRbDI5UUVUKCRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gbEVURmogKChzVGhrbUopICRVRTlwSSkgewogICAgICAgICAgICAnS21pa21rVHYnID0+IEtBMiwKICAgICAgICAgICAgJy1LbWlrbWtUdicgPT4gLUtBMiwKICAgICAgICAgICAgJ0FFQScgPT4gQXRBLAogICAgICAgICAgICBmSWlFcDlUID0+IChpOVFFVCkgJFVFOXBJLAogICAgICAgIH07CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRwaG0gRSBmSUZrbEU5IEVzIHNUaGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGk5UUVUfHNUaGttSiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIGttVCAgJGZJRmtsRTlzCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRXNuSUZrbEU5KCRVRTlwSSwgJGZJRmtsRTlzKQogICAgewogICAgICAgIFRodiB7CiAgICAgICAgICAgIGhJVHBobSAoc1Roa21KKSBya0puSUZrbEU5OjpRaSgkVUU5cEkpLT5UUU9GRTlJKCRmSUZrbEU5cywgTlFwbWZrbUozUWZJOjpTdDYyX1BhKTsKICAgICAgICB9IEZFVEZqIChyaGtGODNFVGpnVkZJcVRrUW0gJEkpIHsKICAgICAgICAgICAgVGpoUXUgbUl1IDNFVGpnVkZJcVRrUW0oJ1BtRWU5SSBUUSBGRXNUIFVFOXBJIFRRIEUgZklGa2xFOS4nLCBxaElVa1FwczogJEkpOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIE5JVHBobSBFIFRrbElzVEVscSBFcyBuRVRJSGtsSSBRZUxJRlQgdWtUaiBUa2xJIHNJVCBUUSB3dzp3dzp3dy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gXEs5OXBsa21FVElcT3BxcVFoVFxvRWhlUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVzbkVUSSgkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5Fc25FVElIa2xJKCRVRTlwSSktPnNURWhUTWluRXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVHBobSBFIFRrbElzVEVscSBFcyBuRVRJSGtsSSBRZUxJRlQuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFxLOTlwbGttRVRJXE9wcXFRaFRcb0VoZVFtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFc25FVElIa2xJKCRVRTlwSSkKICAgIHsKICAgICAgICArKyBLaSBUamtzIFVFOXBJIGtzIEU5aElFZnYgRSBvRWhlUW0ga21zVEVtRkksIHVJIHNqRTk5IExwc1QgaElUcGhtIGtUIEVzIGtzLgogICAgICAgICsrIEhqa3MgcWhJVUltVHMgcHMgakVVa21KIFRRIGhJLWttc1RFbVRrRVRJIEUgb0VoZVFtIGttc1RFbUZJIHVqSW0gdUkgOG1RdQogICAgICAgICsrIGtUIEU5aElFZnYga3MgUW1JLCB1amtGaiB1UXA5Zm0nVCBlSSBpcDlpazk5SWYgZXYgVGpJIG5FVElIa2xJIEZqSUY4LgogICAgICAgIGtpICgkVUU5cEkga21zVEVtRklRaSBvRWhlUW1LbVRJaGlFRkkpIHsKICAgICAgICAgICAgaElUcGhtIG5FVEk6Omttc1RFbUZJKCRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgVUU5cEkga3MgRTloSUVmdiBFIG5FVElIa2xJIGttc1RFbUZJLCB1SSB1azk5IExwc1QgczhrcSBUakkgaElzVCBRaQogICAgICAgICsrIFRqSXNJIEZqSUY4cyBza21GSSBUakl2IHVrOTkgZUkgRSB1RXNUSSBRaSBUa2xJLCBFbWYgamttZkloIHFJaGlRaGxFbUZJCiAgICAgICAgKysgdWpJbSBGaklGOGttSiBUakkgaWtJOWYuIGJJIHVrOTkgTHBzVCBoSVRwaG0gVGpJIG5FVElIa2xJIGhrSmpUIEV1RXYuCiAgICAgICAga2kgKCRVRTlwSSBrbXNURW1GSVFpIG5FVElIa2xJS21USWhpRUZJKSB7CiAgICAgICAgICAgIGhJVHBobSBuRVRJOjpxRWhzSSgKICAgICAgICAgICAgICAgICRVRTlwSS0+aVFobEVUKCdjLWwtZiBTOms6cy5wJyksICRVRTlwSS0+SklUSGtsSVdRbUkoKQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGprcyBVRTlwSSBrcyBFbSBrbVRJSkloLCB1SSB1azk5IEVzc3BsSSBrVCBrcyBFIFBBS0MgVGtsSXNURWxxJ3MgVUU5cEkKICAgICAgICArKyBFbWYgaVFobEVUIEUgb0VoZVFtIFFlTElGVCBpaFFsIFRqa3MgVGtsSXNURWxxLiBIamtzIEU5OVF1cyBpOUlWa2VrOWtUdgogICAgICAgICsrIHVqSW0gZklpa21rbUogdlFwaCBmRVRJIGlrSTlmcyBFcyBUakl2IGxrSmpUIGVJIFBBS0MgVGtsSXNURWxxcyBqSWhJLgogICAgICAgIGtpIChrc19tcGxJaGtGKCRVRTlwSSkpIHsKICAgICAgICAgICAgaElUcGhtIG5FVEk6OkZoSUVUSTJoUWxIa2xJc1RFbHEoJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBVRTlwSSBrcyBrbSBza2xxOXYgdklFaCwgbFFtVGosIGZFdiBpUWhsRVQsIHVJIHVrOTkga21zVEVtVGtFVEkgVGpJCiAgICAgICAgKysgb0VoZVFtIGttc1RFbUZJcyBpaFFsIFRqRVQgaVFobEVULiB0SkVrbSwgVGprcyBxaFFVa2ZJcyBpUWggc2tscTlJIGZFVEkKICAgICAgICArKyBpa0k5ZnMgUW0gVGpJIGZFVEVlRXNJLCB1ams5SSBzVGs5OSBzcHFxUWhUa21KIG9FaGVRbWtXSWYgRlFtVUloc2tRbS4KICAgICAgICBraSAoJFRqa3MtPmtzT1RFbWZFaGZuRVRJMlFobEVUKCRVRTlwSSkpIHsKICAgICAgICAgICAgaElUcGhtIG5FVEk6Omttc1RFbUZJKG9FaGVRbTo6RmhJRVRJMmhRbDJRaGxFVCgnYy1sLWYnLCAkVUU5cEkpLT5zVEVoVE1pbkV2KCkpOwogICAgICAgIH0KCiAgICAgICAgJGlRaGxFVCA9ICRUamtzLT5KSVRuRVRJMlFobEVUKCk7CgogICAgICAgICsrIDJrbUU5OXYsIHVJIHVrOTkgTHBzVCBFc3NwbEkgVGprcyBmRVRJIGtzIGttIFRqSSBpUWhsRVQgcHNJZiBldiBmSWlFcDlUIFFtCiAgICAgICAgKysgVGpJIGZFVEVlRXNJIEZRbW1JRlRrUW0gRW1mIHBzSSBUakVUIGlRaGxFVCBUUSBGaElFVEkgVGpJIG9FaGVRbSBRZUxJRlQKICAgICAgICArKyBUakVUIGtzIGhJVHBobUlmIGVFRjggUXBUIFRRIFRqSSBmSVVJOVFxSWhzIEVpVEloIHVJIEZRbVVJaFQga1QgakloSS4KICAgICAgICBUaHYgewogICAgICAgICAgICAkZkVUSSA9IG5FVEk6OkZoSUVUSTJoUWwyUWhsRVQoJGlRaGxFVCwgJFVFOXBJKTsKICAgICAgICB9IEZFVEZqIChLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW0pIHsKICAgICAgICAgICAgJGZFVEkgPSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkZkVUSSA/OiBuRVRJOjpxRWhzSSgkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBKa1VJbSBVRTlwSSBrcyBFIHNURW1mRWhmIGZFVEkgaVFobEVULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVUU5cEkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NPVEVtZkVoZm5FVEkyUWhsRVQoJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSBxaElKX2xFVEZqKCcrXihcZnt5fSktKFxme1gseH0pLShcZntYLHh9KSQrJywgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbVVJaFQgRSBuRVRJSGtsSSBUUSBFIHNUUWhFZTlJIHNUaGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gc1Roa21KfG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloUWxuRVRJSGtsSSgkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIElscVR2KCRVRTlwSSkgPyAkVUU5cEkgOiAkVGprcy0+RXNuRVRJSGtsSSgkVUU5cEkpLT5pUWhsRVQoCiAgICAgICAgICAgICRUamtzLT5KSVRuRVRJMlFobEVUKCkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogTklUcGhtIEUgVGtsSXNURWxxIEVzIHBta1YgVGtsSXNURWxxLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVzSGtsSXNURWxxKCRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkVzbkVUSUhrbEkoJFVFOXBJKS0+SklUSGtsSXNURWxxKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElxRWhJIEUgZkVUSSBpUWggRWhoRXYgKyBET01BIHNJaGtFOWtXRVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBcbkVUSUhrbElLbVRJaGlFRkkgICRmRVRJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc0loa0U5a1dJbkVUSShuRVRJSGtsSUttVEloaUVGSSAkZkVUSSkKICAgIHsKICAgICAgICBoSVRwaG0gJGZFVEkga21zVEVtRklRaSBuRVRJSGtsSUtsbHBURWU5SSA/CiAgICAgICAgICAgIG9FaGVRbUtsbHBURWU5STo6a21zVEVtRkkoJGZFVEkpLT5UUURPTUEoKSA6CiAgICAgICAgICAgIG9FaGVRbTo6a21zVEVtRkkoJGZFVEkpLT5UUURPTUEoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRVRUaGtlcFRJcyBUakVUIHNqUXA5ZiBlSSBGUW1VSWhUSWYgVFEgZkVUSXMuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUbkVUSXMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cHNJc0hrbElzVEVscXMoKSA/IFsKICAgICAgICAgICAgJFRqa3MtPkpJVG9oSUVUSWZ0VG9ROXBsbSgpLAogICAgICAgICAgICAkVGprcy0+SklUUHFmRVRJZnRUb1E5cGxtKCksCiAgICAgICAgXSA6IFtdOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBpUWhsRVQgaVFoIGZFVEVlRXNJIHNUUWhJZiBmRVRJcy4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUbkVUSTJRaGxFVCgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5mRVRJMlFobEVUID86ICRUamtzLT5KSVRvUW1tSUZUa1FtKCktPkpJVEdwSWh2MGhFbGxFaCgpLT5KSVRuRVRJMlFobEVUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIGZFVEkgaVFobEVUIHBzSWYgZXYgVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaVFobEVUCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRuRVRJMlFobEVUKCRpUWhsRVQpCiAgICB7CiAgICAgICAgJFRqa3MtPmZFVEkyUWhsRVQgPSAkaVFobEVUOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkgdWpJVGpJaCBFbSBFVFRoa2VwVEkgc2pRcDlmIGVJIEZFc1QgVFEgRSBtRVRrVUkgVHZxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUp8bXA5OSAgJFR2cUlzCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFc29Fc1QoJDhJdiwgJFR2cUlzID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoRWhoRXZfOEl2X0lWa3NUcygkOEl2LCAkVGprcy0+SklUb0VzVHMoKSkpIHsKICAgICAgICAgICAgaElUcGhtICRUdnFJcyA/IGttX0VoaEV2KCRUamtzLT5KSVRvRXNUSHZxSSgkOEl2KSwgKEVoaEV2KSAkVHZxSXMsIFRocEkpIDogVGhwSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBpRTlzSTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRVRUaGtlcFRJcyBUakVUIHNqUXA5ZiBlSSBGRXNULgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVG9Fc1RzKCkKICAgIHsKICAgICAgICBraSAoJFRqa3MtPkpJVEttRmhJbEltVGttSigpKSB7CiAgICAgICAgICAgIGhJVHBobSBFaGhFdl9sSWhKSShbJFRqa3MtPkpJVDFJdkFFbEkoKSA9PiAkVGprcy0+SklUMUl2SHZxSSgpXSwgJFRqa3MtPkZFc1RzKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+RkVzVHM7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEVUVGhrZXBUSXMgVGpFVCBzalFwOWYgZUkgRkVzVC4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGRXNUcygpCiAgICB7CiAgICAgICAgaElUcGhtIFtdOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIHVqSVRqSWggRSBVRTlwSSBrcyBuRVRJICsgbkVUSUhrbEkgRkVzVEVlOUkgaVFoIGttZVFwbWYgbEVta3FwOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzbkVUSW9Fc1RFZTlJKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRXNvRXNUKCQ4SXYsIFsnZkVUSScsICdmRVRJVGtsSScsICdrbGxwVEVlOUlfZkVUSScsICdrbGxwVEVlOUlfZkVUSVRrbEknXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkgdWpJVGpJaCBFIFVFOXBJIGtzIG5FVEkgKyBuRVRJSGtsSSBGcHNUUWwtRkVzVEVlOUkgaVFoIGttZVFwbWYgbEVta3FwOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzbkVUSW9Fc1RFZTlJYmtUam9wc1RRbDJRaGxFVCgkOEl2KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+akVzb0VzVCgkOEl2LCBbJ0Zwc1RRbF9mRVRJVGtsSScsICdrbGxwVEVlOUlfRnBzVFFsX2ZFVElUa2xJJ10pOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIHVqSVRqSWggRSBVRTlwSSBrcyBET01BIEZFc1RFZTlJIGlRaCBrbWVRcG1mIGxFbWtxcDlFVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc0RzUW1vRXNURWU5SSgkOEl2KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+akVzb0VzVCgkOEl2LCBbJ0VoaEV2JywgJ0xzUW0nLCAnUWVMSUZUJywgJ0ZROTlJRlRrUW0nLCAnSW1GaHZxVElmOkVoaEV2JywgJ0ltRmh2cVRJZjpGUTk5SUZUa1FtJywgJ0ltRmh2cVRJZjpMc1FtJywgJ0ltRmh2cVRJZjpRZUxJRlQnXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkgdWpJVGpJaCBFIFVFOXBJIGtzIEVtIEltRmh2cVRJZiBGRXNURWU5SSBpUWgga21lUXBtZiBsRW1rcXA5RVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NnbUZodnFUSWZvRXNURWU5SSgkOEl2KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+akVzb0VzVCgkOEl2LCBbJ0ltRmh2cVRJZicsICdJbUZodnFUSWY6RWhoRXYnLCAnSW1GaHZxVElmOkZROTlJRlRrUW0nLCAnSW1GaHZxVElmOkxzUW0nLCAnSW1GaHZxVElmOlFlTElGVCddKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgSmtVSW0gOEl2IGtzIEZFc1QgcHNrbUogRSBGcHNUUWwgRjlFc3MuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcS21VRTlrZm9Fc1RnVkZJcVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzbzlFc3NvRXNURWU5SSgkOEl2KQogICAgewogICAgICAgICRGRXNUcyA9ICRUamtzLT5KSVRvRXNUcygpOwoKICAgICAgICBraSAoISBFaGhFdl84SXZfSVZrc1RzKCQ4SXYsICRGRXNUcykpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgJEZFc1RIdnFJID0gJFRqa3MtPnFFaHNJb0VzVElobzlFc3MoJEZFc1RzWyQ4SXZdKTsKCiAgICAgICAga2kgKGttX0VoaEV2KCRGRXNUSHZxSSwgc1RFVGtGOjokcWhrbGtUa1VJb0VzVEh2cUlzKSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBraSAoRjlFc3NfSVZrc1RzKCRGRXNUSHZxSSkpIHsKICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgfQoKICAgICAgICBUamhRdSBtSXUgS21VRTlrZm9Fc1RnVkZJcVRrUW0oJFRqa3MtPkpJVDNRZkk5KCksICQ4SXYsICRGRXNUSHZxSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIDhJdiBrcyBGRXNUIHBza21KIEVtIEltcGwuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NnbXBsb0VzVEVlOUkoJDhJdikKICAgIHsKICAgICAgICAkRkVzVHMgPSAkVGprcy0+SklUb0VzVHMoKTsKCiAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkOEl2LCAkRkVzVHMpKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgICRGRXNUSHZxSSA9ICRGRXNUc1skOEl2XTsKCiAgICAgICAga2kgKGttX0VoaEV2KCRGRXNUSHZxSSwgc1RFVGtGOjokcWhrbGtUa1VJb0VzVEh2cUlzKSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gSW1wbF9JVmtzVHMoJEZFc1RIdnFJKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgOEl2IGtzIGZJVWtFZTlJIHBza21KIEUgRnBzVFFsIEY5RXNzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqCiAgICAgKiBAVGpoUXVzIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXEttVUU5a2ZvRXNUZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc285RXNzbklVa0VlOUkoJDhJdikKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+a3NvOUVzc29Fc1RFZTlJKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgICRGRXNUSHZxSSA9ICRUamtzLT5oSXNROVVJb0VzVElobzlFc3MoJDhJdik7CgogICAgICAgIGhJVHBobSBsSVRqUWZfSVZrc1RzKCRGRXNUSHZxSTo6RjlFc3MsICdrbUZoSWxJbVQnKSAmJiBsSVRqUWZfSVZrc1RzKCRGRXNUSHZxSTo6RjlFc3MsICdmSUZoSWxJbVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgOEl2IGtzIHNJaGtFOWtXRWU5SSBwc2ttSiBFIEZwc1RRbCBGOUVzcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxLbVVFOWtmb0VzVGdWRklxVGtRbQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NvOUVzc09JaGtFOWtXRWU5SSgkOEl2KQogICAgewogICAgICAgIGhJVHBobSAhICRUamtzLT5rc2dtcGxvRXNURWU5SSgkOEl2KSAmJgogICAgICAgICAgICAkVGprcy0+a3NvOUVzc29Fc1RFZTlJKCQ4SXYpICYmCiAgICAgICAgICAgIGxJVGpRZl9JVmtzVHMoJFRqa3MtPmhJc1E5VUlvRXNUSWhvOUVzcygkOEl2KSwgJ3NJaGtFOWtXSScpOwogICAgfQoKICAgICsqKgogICAgICogTklzUTlVSSBUakkgRnBzVFFsIEZFc1RJaCBGOUVzcyBpUWggRSBKa1VJbSA4SXYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGhJc1E5VUlvRXNUSWhvOUVzcygkOEl2KQogICAgewogICAgICAgICRGRXNUSHZxSSA9ICRUamtzLT5KSVRvRXNUcygpWyQ4SXZdOwoKICAgICAgICAkRWhKcGxJbVRzID0gW107CgogICAgICAgIGtpIChrc19zVGhrbUooJEZFc1RIdnFJKSAmJiBzVGhfRlFtVEVrbXMoJEZFc1RIdnFJLCAnOicpKSB7CiAgICAgICAgICAgICRzSUpsSW1UcyA9IElWcTlRZkkoJzonLCAkRkVzVEh2cUksIHgpOwoKICAgICAgICAgICAgJEZFc1RIdnFJID0gJHNJSmxJbVRzW3ddOwogICAgICAgICAgICAkRWhKcGxJbVRzID0gSVZxOVFmSSgnLCcsICRzSUpsSW1Uc1tYXSk7CiAgICAgICAgfQoKICAgICAgICBraSAoa3Nfc3BlRjlFc3NfUWkoJEZFc1RIdnFJLCBvRXNURWU5STo6RjlFc3MpKSB7CiAgICAgICAgICAgICRGRXNUSHZxSSA9ICRGRXNUSHZxSTo6RkVzVFBza21KKCRFaEpwbEltVHMpOwogICAgICAgIH0KCiAgICAgICAga2kgKGtzX1FlTElGVCgkRkVzVEh2cUkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkRkVzVEh2cUk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gbUl1ICRGRXNUSHZxSSguLi4kRWhKcGxJbVRzKTsKICAgIH0KCiAgICArKioKICAgICAqIGFFaHNJIFRqSSBKa1VJbSBGRXNUSWggRjlFc3MsIGhJbFFVa21KIEVtdiBFaEpwbEltVHMuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGOUVzcwogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHFFaHNJb0VzVElobzlFc3MoJEY5RXNzKQogICAgewogICAgICAgIGhJVHBobSAhIHNUaF9GUW1URWttcygkRjlFc3MsICc6JykKICAgICAgICAgICAgPyAkRjlFc3MKICAgICAgICAgICAgOiBJVnE5UWZJKCc6JywgJEY5RXNzLCB4KVt3XTsKICAgIH0KCiAgICArKioKICAgICAqIDNJaEpJIFRqSSBGRXNUIEY5RXNzIEVtZiBFVFRoa2VwVEkgRkVzVCBFVFRoa2VwVElzIGVFRjgga21UUSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBsSWhKSXRUVGhrZXBUSXMyaFFsb0VGaklmb0VzVHMoKQogICAgewogICAgICAgICRUamtzLT5sSWhKSXRUVGhrZXBUSXMyaFFsbzlFc3NvRXNUcygpOwogICAgICAgICRUamtzLT5sSWhKSXRUVGhrZXBUSXMyaFFsdFRUaGtlcFRJb0VzVHMoKTsKICAgIH0KCiAgICArKioKICAgICAqIDNJaEpJIFRqSSBGRXNUIEY5RXNzIEVUVGhrZXBUSXMgZUVGOCBrbVRRIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGxJaEpJdFRUaGtlcFRJczJoUWxvOUVzc29Fc1RzKCkKICAgIHsKICAgICAgICBpUWhJRUZqICgkVGprcy0+RjlFc3NvRXNUb0VGakkgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAgJEZFc1RJaCA9ICRUamtzLT5oSXNROVVJb0VzVElobzlFc3MoJDhJdik7CgogICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJcyA9IEVoaEV2X2xJaEpJKAogICAgICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXMsCiAgICAgICAgICAgICAgICAkRkVzVEloIGttc1RFbUZJUWkgb0VzVHNLbWVRcG1mdFRUaGtlcFRJcwogICAgICAgICAgICAgICAgICAgID8gWyQ4SXYgPT4gJFVFOXBJXQogICAgICAgICAgICAgICAgICAgIDogJFRqa3MtPm1RaGxFOWtXSW9Fc1RvOUVzc05Jc3FRbXNJKCQ4SXYsICRGRXNUSWgtPnNJVCgkVGprcywgJDhJdiwgJFVFOXBJLCAkVGprcy0+RVRUaGtlcFRJcykpCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogM0loSkkgVGpJIEZFc1QgRjlFc3MgRVRUaGtlcFRJcyBlRUY4IGttVFEgVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gbEloSkl0VFRoa2VwVElzMmhRbHRUVGhrZXBUSW9Fc1RzKCkKICAgIHsKICAgICAgICBpUWhJRUZqICgkVGprcy0+RVRUaGtlcFRJb0VzVG9FRmpJIEVzICQ4SXYgPT4gJFVFOXBJKSB7CiAgICAgICAgICAgICRFVFRoa2VwVEkgPSAkVGprcy0+e09UaDo6RkVsSTkoJDhJdil9KCk7CgogICAgICAgICAgICBraSAoJEVUVGhrZXBUSS0+SklUICYmICEgJEVUVGhrZXBUSS0+c0lUKSB7CiAgICAgICAgICAgICAgICBGUW1Ua21wSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEZFOTllRUY4ID0gJEVUVGhrZXBUSS0+c0lUID86IGlwbUZUa1FtICgkVUU5cEkpIHBzSSAoJDhJdikgewogICAgICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJcyA9IEVoaEV2X2xJaEpJKAogICAgICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXMsCiAgICAgICAgICAgICAgICAkVGprcy0+bVFobEU5a1dJb0VzVG85RXNzTklzcVFtc0koCiAgICAgICAgICAgICAgICAgICAgJDhJdiwgJEZFOTllRUY4KCRVRTlwSSwgJFRqa3MtPkVUVGhrZXBUSXMpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogQVFobEU5a1dJIFRqSSBoSXNxUW1zSSBpaFFsIEUgRnBzVFFsIEY5RXNzIEZFc1RJaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBtUWhsRTlrV0lvRXNUbzlFc3NOSXNxUW1zSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIGtzX0VoaEV2KCRVRTlwSSkgPyAkVUU5cEkgOiBbJDhJdiA9PiAkVUU5cEldOwogICAgfQoKICAgICsqKgogICAgICogMElUIEU5OSBRaSBUakkgRnBoaEltVCBFVFRoa2VwVElzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVR0VFRoa2VwVElzKCkKICAgIHsKICAgICAgICAkVGprcy0+bEloSkl0VFRoa2VwVElzMmhRbG9FRmpJZm9Fc1RzKCk7CgogICAgICAgIGhJVHBobSAkVGprcy0+RVRUaGtlcFRJczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFOTkgUWkgVGpJIEZwaGhJbVQgRVRUaGtlcFRJcyBRbSBUakkgbFFmSTkgaVFoIEVtIGttc0loVCBRcUloRVRrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUdFRUaGtlcFRJczJRaEttc0loVCgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0VFRoa2VwVElzKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIEVoaEV2IFFpIGxRZkk5IEVUVGhrZXBUSXMuIEFRIEZqSUY4a21KIGtzIGZRbUkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgZVFROSAgJHN2bUYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVE5FdXRUVGhrZXBUSXMoRWhoRXYgJEVUVGhrZXBUSXMsICRzdm1GID0gaUU5c0kpCiAgICB7CiAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXMgPSAkRVRUaGtlcFRJczsKCiAgICAgICAga2kgKCRzdm1GKSB7CiAgICAgICAgICAgICRUamtzLT5zdm1GTWhrSmttRTkoKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT5GOUVzc29Fc1RvRUZqSSA9IFtdOwogICAgICAgICRUamtzLT5FVFRoa2VwVElvRXNUb0VGakkgPSBbXTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBsUWZJOSdzIFFoa0prbUU5IEVUVGhrZXBUSSBVRTlwSXMuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJGZJaUVwOVQKICAgICAqIEBoSVRwaG0gbGtWSWZ8RWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVE1oa0prbUU5KCQ4SXYgPSBtcDk5LCAkZklpRXA5VCA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtIChtSXUgc1RFVGtGKS0+c0lUTkV1dFRUaGtlcFRJcygKICAgICAgICAgICAgJFRqa3MtPlFoa0prbUU5LCAkc3ZtRiA9IFRocEkKICAgICAgICApLT5KSVRNaGtKa21FOWJrVGpRcFROSXVrbWZrbUozUWZJOSgkOEl2LCAkZklpRXA5VCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxRZkk5J3MgUWhrSmttRTkgRVRUaGtlcFRJIFVFOXBJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkZklpRXA5VAogICAgICogQGhJVHBobSBsa1ZJZnxFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUTWhrSmttRTlia1RqUXBUTkl1a21ma21KM1FmSTkoJDhJdiA9IG1wOTksICRmSWlFcDlUID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoJDhJdikgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPlRoRW1zaVFobDNRZkk5QkU5cEkoCiAgICAgICAgICAgICAgICAkOEl2LCB0aGg6OkpJVCgkVGprcy0+UWhrSmttRTksICQ4SXYsICRmSWlFcDlUKQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIEZROTlJRlQoJFRqa3MtPlFoa0prbUU5KS0+bEVxYmtUajFJdnMoaXBtRlRrUW0gKCRVRTlwSSwgJDhJdikgewogICAgICAgICAgICBoSVRwaG0gWyQ4SXYgPT4gJFRqa3MtPlRoRW1zaVFobDNRZkk5QkU5cEkoJDhJdiwgJFVFOXBJKV07CiAgICAgICAgfSktPkU5OSgpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBsUWZJOSdzIGhFdSBRaGtKa21FOSBFVFRoa2VwVEkgVUU5cElzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRmSWlFcDlUCiAgICAgKiBAaElUcGhtIGxrVklmfEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRORXVNaGtKa21FOSgkOEl2ID0gbXA5OSwgJGZJaUVwOVQgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSB0aGg6OkpJVCgkVGprcy0+UWhrSmttRTksICQ4SXYsICRmSWlFcDlUKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIHNwZXNJVCBRaSBUakkgbFFmSTkncyBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8bGtWSWYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRbTl2KCRFVFRoa2VwVElzKQogICAgewogICAgICAgICRoSXNwOVRzID0gW107CgogICAgICAgIGlRaElFRmogKGtzX0VoaEV2KCRFVFRoa2VwVElzKSA/ICRFVFRoa2VwVElzIDogaXBtRl9KSVRfRWhKcygpIEVzICRFVFRoa2VwVEkpIHsKICAgICAgICAgICAgJGhJc3A5VHNbJEVUVGhrZXBUSV0gPSAkVGprcy0+SklUdFRUaGtlcFRJKCRFVFRoa2VwVEkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSXNwOVRzOwogICAgfQoKICAgICsqKgogICAgICogT3ZtRiBUakkgUWhrSmttRTkgRVRUaGtlcFRJcyB1a1RqIFRqSSBGcGhoSW1ULgogICAgICoKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHN2bUZNaGtKa21FOSgpCiAgICB7CiAgICAgICAgJFRqa3MtPlFoa0prbUU5ID0gJFRqa3MtPkpJVHRUVGhrZXBUSXMoKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogT3ZtRiBFIHNrbUo5SSBRaGtKa21FOSBFVFRoa2VwVEkgdWtUaiBrVHMgRnBoaEltVCBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEVUVGhrZXBUSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc3ZtRk1oa0prbUU5dFRUaGtlcFRJKCRFVFRoa2VwVEkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5zdm1GTWhrSmttRTl0VFRoa2VwVElzKCRFVFRoa2VwVEkpOwogICAgfQoKICAgICsqKgogICAgICogT3ZtRiBscDlUa3E5SSBRaGtKa21FOSBFVFRoa2VwVEkgdWtUaiBUaklraCBGcGhoSW1UIFVFOXBJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHN2bUZNaGtKa21FOXRUVGhrZXBUSXMoJEVUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgJEVUVGhrZXBUSXMgPSBrc19FaGhFdigkRVRUaGtlcFRJcykgPyAkRVRUaGtlcFRJcyA6IGlwbUZfSklUX0VoSnMoKTsKCiAgICAgICAgJGxRZkk5dFRUaGtlcFRJcyA9ICRUamtzLT5KSVR0VFRoa2VwVElzKCk7CgogICAgICAgIGlRaElFRmogKCRFVFRoa2VwVElzIEVzICRFVFRoa2VwVEkpIHsKICAgICAgICAgICAgJFRqa3MtPlFoa0prbUU5WyRFVFRoa2VwVEldID0gJGxRZkk5dFRUaGtlcFRJc1skRVRUaGtlcFRJXTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIE92bUYgVGpJIEZqRW1KSWYgRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzdm1Gb2pFbUpJcygpCiAgICB7CiAgICAgICAgJFRqa3MtPkZqRW1KSXMgPSAkVGprcy0+SklUbmtoVHYoKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBsUWZJOSBRaCBFbXYgUWkgVGpJIEprVUltIEVUVGhrZXBUSShzKSBqRVVJIGVJSW0gbFFma2lrSWYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUp8bXA5OSAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga3Nua2hUdigkRVRUaGtlcFRJcyA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRXNvakVtSklzKAogICAgICAgICAgICAkVGprcy0+SklUbmtoVHYoKSwga3NfRWhoRXYoJEVUVGhrZXBUSXMpID8gJEVUVGhrZXBUSXMgOiBpcG1GX0pJVF9FaEpzKCkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBsUWZJOSBRaCBFOTkgVGpJIEprVUltIEVUVGhrZXBUSShzKSBqRVVJIGhJbEVrbUlmIFRqSSBzRWxJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KfG1wOTkgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGtzbzlJRW0oJEVUVGhrZXBUSXMgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAhICRUamtzLT5rc25raFR2KC4uLmlwbUZfSklUX0VoSnMoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBua3NGRWhmIEVUVGhrZXBUSSBGakVtSklzIEVtZiBoSXNJVCBUakkgRVRUaGtlcFRJcyBUUSBUaklraCBRaGtKa21FOSBzVEVUSS4KICAgICAqCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBma3NGRWhmb2pFbUpJcygpCiAgICB7CiAgICAgICAgWyRUamtzLT5FVFRoa2VwVElzLCAkVGprcy0+RmpFbUpJc10gPSBbJFRqa3MtPlFoa0prbUU5LCBbXV07CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgbFFmSTkgUWggRW12IFFpIFRqSSBKa1VJbSBFVFRoa2VwVEkocykgdUloSSBGakVtSklmIHVqSW0gVGpJIGxRZkk5IHVFcyA5RXNUIHNFVUlmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KfG1wOTkgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVFc29qRW1KSWYoJEVUVGhrZXBUSXMgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+akVzb2pFbUpJcygKICAgICAgICAgICAgJFRqa3MtPkpJVG9qRW1KSXMoKSwga3NfRWhoRXYoJEVUVGhrZXBUSXMpID8gJEVUVGhrZXBUSXMgOiBpcG1GX0pJVF9FaEpzKCkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIEVtdiBRaSBUakkgSmtVSW0gRVRUaGtlcFRJcyB1SWhJIEZqRW1KSWYgdWpJbSBUakkgbFFmSTkgdUVzIDlFc1Qgc0VVSWYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZqRW1KSXMKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KfG1wOTkgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGpFc29qRW1KSXMoJEZqRW1KSXMsICRFVFRoa2VwVElzID0gbXA5OSkKICAgIHsKICAgICAgICArKyBLaSBtUSBzcUlGa2lrRiBFVFRoa2VwVElzIHVJaEkgcWhRVWtmSWYsIHVJIHVrOTkgTHBzVCBzSUkga2kgVGpJIGZraFR2IEVoaEV2CiAgICAgICAgKysgRTloSUVmdiBGUW1URWttcyBFbXYgRVRUaGtlcFRJcy4gS2kga1QgZlFJcyB1SSB1azk5IExwc1QgaElUcGhtIFRqRVQgVGprcwogICAgICAgICsrIEZRcG1UIGtzIEpoSUVUSWggVGpFbSBXSWhRLiBnOXNJLCB1SSBtSUlmIFRRIEZqSUY4IHNxSUZraWtGIEVUVGhrZXBUSXMuCiAgICAgICAga2kgKElscVR2KCRFVFRoa2VwVElzKSkgewogICAgICAgICAgICBoSVRwaG0gRlFwbVQoJEZqRW1KSXMpID4gdzsKICAgICAgICB9CgogICAgICAgICsrIFNJaEkgdUkgdWs5OSBzcWttIFRqaFFwSmogSVVJaHYgRVRUaGtlcFRJIEVtZiBzSUkga2kgVGprcyBrcyBrbSBUakkgRWhoRXYgUWkKICAgICAgICArKyBma2hUdiBFVFRoa2VwVElzLiBLaSBrVCBrcywgdUkgdWs5OSBoSVRwaG0gVGhwSSBFbWYga2kgdUkgbEU4SSBrVCBUamhRcEpqCiAgICAgICAgKysgRTk5IFFpIFRqSSBFVFRoa2VwVElzIGlRaCBUakkgSW1Ua2hJIEVoaEV2IHVJIHVrOTkgaElUcGhtIGlFOXNJIEVUIEltZi4KICAgICAgICBpUWhJRUZqICh0aGg6OnVoRXEoJEVUVGhrZXBUSXMpIEVzICRFVFRoa2VwVEkpIHsKICAgICAgICAgICAga2kgKEVoaEV2XzhJdl9JVmtzVHMoJEVUVGhrZXBUSSwgJEZqRW1KSXMpKSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtIGlFOXNJOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBFVFRoa2VwVElzIFRqRVQgakVVSSBlSUltIEZqRW1KSWYgc2ttRkkgVGpJIDlFc1Qgc3ZtRi4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRua2hUdigpCiAgICB7CiAgICAgICAgJGZraFR2ID0gW107CgogICAgICAgIGlRaElFRmogKCRUamtzLT5KSVR0VFRoa2VwVElzKCkgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAga2kgKCEgJFRqa3MtPlFoa0prbUU5S3NnUnBrVUU5SW1UKCQ4SXYpKSB7CiAgICAgICAgICAgICAgICAkZmtoVHZbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkZmtoVHY7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEVUVGhrZXBUSXMgVGpFVCBqRVVJIGVJSW0gRmpFbUpJZiBza21GSSBUakkgOUVzVCBzdm1GIGlRaCBFbSBwcWZFVEkgUXFJaEVUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVG5raFR2MlFoUHFmRVRJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVG5raFR2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEVUVGhrZXBUSXMgVGpFVCB1SWhJIEZqRW1KSWYgdWpJbSBUakkgbFFmSTkgdUVzIDlFc1Qgc0VVSWYuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb2pFbUpJcygpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GakVtSklzOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBtSXUgRW1mIFE5ZiBVRTlwSXMgaVFoIEUgSmtVSW0gOEl2IEVoSSBJUnBrVUU5SW1ULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFoa0prbUU5S3NnUnBrVUU5SW1UKCQ4SXYpCiAgICB7CiAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkOEl2LCAkVGprcy0+UWhrSmttRTkpKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgICRFVFRoa2VwVEkgPSB0aGg6OkpJVCgkVGprcy0+RVRUaGtlcFRJcywgJDhJdik7CiAgICAgICAgJFFoa0prbUU5ID0gdGhoOjpKSVQoJFRqa3MtPlFoa0prbUU5LCAkOEl2KTsKCiAgICAgICAga2kgKCRFVFRoa2VwVEkgPT09ICRRaGtKa21FOSkgewogICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICB9IEk5c0lraSAoa3NfbXA5OSgkRVRUaGtlcFRJKSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5rc25FVEl0VFRoa2VwVEkoJDhJdikgfHwgJFRqa3MtPmtzbkVUSW9Fc1RFZTlJYmtUam9wc1RRbDJRaGxFVCgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmloUWxuRVRJSGtsSSgkRVRUaGtlcFRJKSA9PT0KICAgICAgICAgICAgICAgICRUamtzLT5paFFsbkVUSUhrbEkoJFFoa0prbUU5KTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmpFc29Fc1QoJDhJdiwgWydRZUxJRlQnLCAnRlE5OUlGVGtRbSddKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmloUWxEc1FtKCRFVFRoa2VwVEkpID09PQogICAgICAgICAgICAgICAgJFRqa3MtPmloUWxEc1FtKCRRaGtKa21FOSk7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5qRXNvRXNUKCQ4SXYsIFsnaElFOScsICdpOVFFVCcsICdmUXBlOUknXSkpIHsKICAgICAgICAgICAga2kgKCRRaGtKa21FOSA9PT0gbXA5OSkgewogICAgICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gRWVzKCRUamtzLT5GRXNUdFRUaGtlcFRJKCQ4SXYsICRFVFRoa2VwVEkpIC0gJFRqa3MtPkZFc1R0VFRoa2VwVEkoJDhJdiwgJFFoa0prbUU5KSkgPCBhU2FfMjZNdEhfZ2FPSzZNQSAqIHk7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5rc2dtRmh2cVRJZm9Fc1RFZTlJKCQ4SXYpICYmICEgSWxxVHYoc1RFVGtGOjpGcGhoSW1UZ21GaHZxVEloKCktPkpJVGFoSVVrUXBzMUl2cygpKSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5qRXNvRXNUKCQ4SXYsIHNURVRrRjo6JHFoa2xrVGtVSW9Fc1RIdnFJcykpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5GRXNUdFRUaGtlcFRJKCQ4SXYsICRFVFRoa2VwVEkpID09PQogICAgICAgICAgICAgICAgJFRqa3MtPkZFc1R0VFRoa2VwVEkoJDhJdiwgJFFoa0prbUU5KTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmtzbzlFc3NvRXNURWU5SSgkOEl2KSAmJiBPVGg6OnNURWhUc2JrVGooJFRqa3MtPkpJVG9Fc1RzKClbJDhJdl0sIFt0c3RoaEV2TWVMSUZUOjpGOUVzcywgdHNvUTk5SUZUa1FtOjpGOUVzc10pKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbERzUW0oJEVUVGhrZXBUSSkgPT09ICRUamtzLT5paFFsRHNRbSgkUWhrSmttRTkpOwogICAgICAgIH0gSTlzSWtpICgkVGprcy0+a3NvOUVzc29Fc1RFZTlJKCQ4SXYpICYmIE9UaDo6c1RFaFRzYmtUaigkVGprcy0+SklUb0VzVHMoKVskOEl2XSwgW3RzZ21wbHRoaEV2TWVMSUZUOjpGOUVzcywgdHNnbXBsb1E5OUlGVGtRbTo6RjlFc3NdKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmloUWxEc1FtKCRFVFRoa2VwVEkpID09PSAkVGprcy0+aWhRbERzUW0oJFFoa0prbUU5KTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmtzbzlFc3NvRXNURWU5SSgkOEl2KSAmJiAkUWhrSmttRTkgIT09IG1wOTkgJiYgT1RoOjpzVEVoVHNia1RqKCRUamtzLT5KSVRvRXNUcygpWyQ4SXZdLCBbdHNnbUZodnFUSWZ0aGhFdk1lTElGVDo6RjlFc3MsIHRzZ21GaHZxVElmb1E5OUlGVGtRbTo6RjlFc3NdKSkgewogICAgICAgICAgICBraSAoSWxxVHYoc1RFVGtGOjpGcGhoSW1UZ21GaHZxVEloKCktPkpJVGFoSVVrUXBzMUl2cygpKSkgewogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5paFFsZ21GaHZxVElmT1Roa21KKCRFVFRoa2VwVEkpID09PSAkVGprcy0+aWhRbGdtRmh2cVRJZk9UaGttSigkUWhrSmttRTkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0ga3NfbXBsSWhrRigkRVRUaGtlcFRJKSAmJiBrc19tcGxJaGtGKCRRaGtKa21FOSkKICAgICAgICAgICAgJiYgc1RoRmxxKChzVGhrbUopICRFVFRoa2VwVEksIChzVGhrbUopICRRaGtKa21FOSkgPT09IHc7CiAgICB9CgogICAgKyoqCiAgICAgKiBIaEVtc2lRaGwgRSBoRXUgbFFmSTkgVUU5cEkgcHNrbUogbHBURVRRaHMsIEZFc1RzLCBJVEYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gVGhFbXNpUWhsM1FmSTlCRTlwSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgKysgS2kgVGpJIEVUVGhrZXBUSSBqRXMgRSBKSVQgbHBURVRRaCwgdUkgdWs5OSBGRTk5IFRqRVQgVGpJbSBoSVRwaG0gdWpFVAogICAgICAgICsrIGtUIGhJVHBobXMgRXMgVGpJIFVFOXBJLCB1amtGaiBrcyBwc0lpcDkgaVFoIFRoRW1zaVFobGttSiBVRTlwSXMgUW0KICAgICAgICArKyBoSVRoa0lVRTkgaWhRbCBUakkgbFFmSTkgVFEgRSBpUWhsIFRqRVQga3MgbFFoSSBwc0lpcDkgaVFoIHBzRUpJLgogICAgICAgIGtpICgkVGprcy0+akVzMElUM3BURVRRaCgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmxwVEVUSXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0gSTlzSWtpICgkVGprcy0+akVzdFRUaGtlcFRJMElUM3BURVRRaCgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmxwVEVUSXRUVGhrZXBUSTNFaDhJZnRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIEVUVGhrZXBUSSBJVmtzVHMgdWtUamttIFRqSSBGRXNUIEVoaEV2LCB1SSB1azk5IEZRbVVJaFQga1QgVFEKICAgICAgICArKyBFbSBFcXFoUXFoa0VUSSBtRVRrVUkgYVNhIFR2cUkgZklxSW1mSW1UIHBxUW0gVGpJIEVzc1FGa0VUSWYgVUU5cEkKICAgICAgICArKyBKa1VJbSB1a1RqIFRqSSA4SXYga20gVGpJIHFFa2guIG5FdjlJIGxFZkkgVGprcyBGUWxsSW1UIDlrbUkgcHEuCiAgICAgICAga2kgKCRUamtzLT5qRXNvRXNUKCQ4SXYpKSB7CiAgICAgICAgICAgIGtpIChzVEVUa0Y6OnFoSVVJbVRzdEZGSXNza21KM2tzc2ttSnRUVGhrZXBUSXMoKSAmJgogICAgICAgICAgICAgICAgISBFaGhFdl84SXZfSVZrc1RzKCQ4SXYsICRUamtzLT5FVFRoa2VwVElzKSAmJgogICAgICAgICAgICAgICAgKCRUamtzLT5rc2dtcGxvRXNURWU5SSgkOEl2KSB8fAogICAgICAgICAgICAgICAgIGttX0VoaEV2KCRUamtzLT5KSVRvRXNUSHZxSSgkOEl2KSwgc1RFVGtGOjokcWhrbGtUa1VJb0VzVEh2cUlzKSkpIHsKICAgICAgICAgICAgICAgICRUamtzLT5UamhRdTNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW1LaXRxcTlrRkVlOUkoJDhJdik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RkVzVHRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIEVUVGhrZXBUSSBrcyA5a3NUSWYgRXMgRSBmRVRJLCB1SSB1azk5IEZRbVVJaFQga1QgVFEgRSBuRVRJSGtsSQogICAgICAgICsrIGttc1RFbUZJIFFtIGhJVGhrSVVFOSwgdWprRmogbEU4SXMga1QgUnBrVEkgRlFtVUlta0ltVCBUUSB1UWg4IHVrVGoKICAgICAgICArKyBmRVRJIGlrSTlmcyB1a1RqUXBUIGpFVWttSiBUUSBGaElFVEkgRSBscFRFVFFoIGlRaCBJRUZqIHFoUXFJaFR2LgogICAgICAgIGtpICgkVUU5cEkgIT09IG1wOTkKICAgICAgICAgICAgJiYgXGttX0VoaEV2KCQ4SXYsICRUamtzLT5KSVRuRVRJcygpLCBpRTlzSSkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5Fc25FVElIa2xJKCRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogdHFxSW1mIEVUVGhrZXBUSXMgVFEgUnBJaHYgdWpJbSBlcGs5ZmttSiBFIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRXFxSW1mKCRFVFRoa2VwVElzKQogICAgewogICAgICAgICRUamtzLT5FcXFJbWZzID0gRWhoRXZfVUU5cElzKEVoaEV2X3Bta1JwSSgKICAgICAgICAgICAgRWhoRXZfbEloSkkoJFRqa3MtPkVxcUltZnMsIGtzX3NUaGttSigkRVRUaGtlcFRJcykgPyBpcG1GX0pJVF9FaEpzKCkgOiAkRVRUaGtlcFRJcykKICAgICAgICApKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBFRkZJc3NRaHMgVGpFVCBFaEkgZUlrbUogRXFxSW1mSWYgVFEgbFFmSTkgRWhoRXZzLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVHRxcUltZnMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RXFxSW1mczsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgRUZGSXNzUWhzIFRRIEVxcUltZiBUUSBsUWZJOSBFaGhFdnMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVxcUltZnMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVHRxcUltZnMoRWhoRXYgJEVxcUltZnMpCiAgICB7CiAgICAgICAgJFRqa3MtPkVxcUltZnMgPSAkRXFxSW1mczsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogTklUcGhtIHVqSVRqSWggVGpJIEVGRklzc1FoIEVUVGhrZXBUSSBqRXMgZUlJbSBFcXFJbWZJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEVUVGhrZXBUSQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRXN0cXFJbWZJZigkRVRUaGtlcFRJKQogICAgewogICAgICAgIGhJVHBobSBrbV9FaGhFdigkRVRUaGtlcFRJLCAkVGprcy0+RXFxSW1mcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxwVEVUSWYgRVRUaGtlcFRJcyBpUWggRSBKa1VJbSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVQzcFRFVElmdFRUaGtlcFRJcygpCiAgICB7CiAgICAgICAga2kgKCEga3NzSVQoc1RFVGtGOjokbHBURVRRaG9FRmpJW3NURVRrRjo6RjlFc3NdKSkgewogICAgICAgICAgICBzVEVUa0Y6OkZFRmpJM3BURVRJZnRUVGhrZXBUSXMoJFRqa3MpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIHNURVRrRjo6JGxwVEVUUWhvRUZqSVtzVEVUa0Y6OkY5RXNzXTsKICAgIH0KCiAgICArKioKICAgICAqIGdWVGhFRlQgRW1mIEZFRmpJIEU5OSBUakkgbHBURVRJZiBFVFRoa2VwVElzIFFpIEUgRjlFc3MuCiAgICAgKgogICAgICogQHFFaEVsICBRZUxJRlR8c1Roa21KICAkRjlFc3NNaEttc1RFbUZJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBGRUZqSTNwVEVUSWZ0VFRoa2VwVElzKCRGOUVzc01oS21zVEVtRkkpCiAgICB7CiAgICAgICAgJGhJaTlJRlRrUW0gPSBtSXUgTklpOUlGVGtRbW85RXNzKCRGOUVzc01oS21zVEVtRkkpOwoKICAgICAgICAkRjlFc3MgPSAkaElpOUlGVGtRbS0+SklUQUVsSSgpOwoKICAgICAgICBzVEVUa0Y6OiRKSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbJEY5RXNzXSA9CiAgICAgICAgICAgIEZROTlJRlQoJEVUVGhrZXBUSTNwVEVUUWgzSVRqUWZzID0gc1RFVGtGOjpKSVR0VFRoa2VwVEkzRWg4SWYzcFRFVFFoM0lUalFmcygkRjlFc3NNaEttc1RFbUZJKSkKICAgICAgICAgICAgICAgICAgICAtPmxFcWJrVGoxSXZzKGlwbUZUa1FtICgkbEVURmopIHsKICAgICAgICAgICAgICAgICAgICAgICAgaElUcGhtIFs5RmlraHNUKHNURVRrRjo6JHNtRThJdFRUaGtlcFRJcyA/IE9UaDo6c21FOEkoJGxFVEZqKSA6ICRsRVRGaikgPT4gVGhwSV07CiAgICAgICAgICAgICAgICAgICAgfSktPkU5OSgpOwoKICAgICAgICBzVEVUa0Y6OiRscFRFVFFob0VGaklbJEY5RXNzXSA9IEZROTlJRlQoc1RFVGtGOjpKSVQzcFRFVFFoM0lUalFmcygkRjlFc3MpKQogICAgICAgICAgICAgICAgLT5sSWhKSSgkRVRUaGtlcFRJM3BURVRRaDNJVGpRZnMpCiAgICAgICAgICAgICAgICAtPmxFcShpcG1GVGtRbSAoJGxFVEZqKSB7CiAgICAgICAgICAgICAgICAgICAgaElUcGhtIDlGaWtoc1Qoc1RFVGtGOjokc21FOEl0VFRoa2VwVElzID8gT1RoOjpzbUU4SSgkbEVURmopIDogJGxFVEZqKTsKICAgICAgICAgICAgICAgIH0pLT5FOTkoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFOTkgUWkgVGpJIEVUVGhrZXBUSSBscFRFVFFoIGxJVGpRZnMuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJEY5RXNzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gSklUM3BURVRRaDNJVGpRZnMoJEY5RXNzKQogICAgewogICAgICAgIHFoSUpfbEVURmpfRTk5KCcrKD88PV58OylKSVQoW147XS8/KXRUVGhrZXBUSSg7fCQpKycsIGtscTlRZkkoJzsnLCBKSVRfRjlFc3NfbElUalFmcygkRjlFc3MpKSwgJGxFVEZqSXMpOwoKICAgICAgICBoSVRwaG0gJGxFVEZqSXNbWF07CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRTk5IFFpIFRqSSAidFRUaGtlcFRJIiBoSVRwaG0gVHZxSWYgRVRUaGtlcFRJIGxwVEVUUWggbElUalFmcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkRjlFc3MKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiBpcG1GVGtRbSBKSVR0VFRoa2VwVEkzRWg4SWYzcFRFVFFoM0lUalFmcygkRjlFc3MpCiAgICB7CiAgICAgICAgJGttc1RFbUZJID0ga3NfUWVMSUZUKCRGOUVzcykgPyAkRjlFc3MgOiBtSXUgJEY5RXNzOwoKICAgICAgICBoSVRwaG0gRlE5OUlGVCgobUl1IE5JaTlJRlRrUW1vOUVzcygka21zVEVtRkkpKS0+SklUM0lUalFmcygpKS0+aWs5VEloKGlwbUZUa1FtICgkbElUalFmKSBwc0kgKCRrbXNURW1GSSkgewogICAgICAgICAgICAkaElUcGhtSHZxSSA9ICRsSVRqUWYtPkpJVE5JVHBobUh2cUkoKTsKCiAgICAgICAgICAgIGtpICgkaElUcGhtSHZxSSBrbXNURW1GSVFpIE5JaTlJRlRrUW1BRWxJZkh2cUkgJiYKICAgICAgICAgICAgICAgICRoSVRwaG1IdnFJLT5KSVRBRWxJKCkgPT09IHRUVGhrZXBUSTo6RjlFc3MpIHsKICAgICAgICAgICAgICAgIGtpIChrc19GRTk5RWU5SSgkbElUalFmLT5rbVVROEkoJGttc1RFbUZJKS0+SklUKSkgewogICAgICAgICAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfSktPmxFcS0+bUVsSS0+VUU5cElzKCktPkU5OSgpOwogICAgfQp9Cg==