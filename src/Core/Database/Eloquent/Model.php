<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IFguWC5YIAogKiBuRVRJIFg1LXc3LXh3eHkKICogxJDDonYgOcOgIFTDoGsgc+G6o20gRuG7p0Ugb8OUQTAgSGMgSEFTUyBIMyBuQiBBS0F0LiBCcGsgOcOybUogOGrDtG1KIHPhu60gZuG7pW1KIDhqayBGasawRSDEkcaw4bujRiBxasOpcS4KICorCgoKbUVsSXNxRUZJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVQ7Cgpwc0kgdGhoRXZ0RkZJc3M7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xyaFFFZkZFc1RrbUpcU0VzcmhRRWZGRXNUb2pFbW1JOTsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXEdwSXBJXEdwSXBJRWU5SW9ROTlJRlRrUW07CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xHcElwSVxHcElwSUVlOUlnbVRrVHY7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xOUXBUa21KXFBoOU5RcFRFZTlJOwpwc0kgSzk5cGxrbUVUSVxvUW1UaEVGVHNcT3BxcVFoVFx0aGhFdkVlOUk7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXG9FbXJJZ3NGRXFJZmJqSW1vRXNUSFFPVGhrbUo7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXERzUW1FZTlJOwpwc0kgQUtBdFxuRVRFZUVzSVxvUW1tSUZUa1FtTklzUTlVSWhLbVRJaGlFRkkgRXMgTklzUTlVSWg7CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9ROTlJRlRrUW0gRXMgZzlRUnBJbVRvUTk5SUZUa1FtOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxOSTlFVGtRbXNcckk5UW1Kc0hRM0VtdjsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcTkk5RVRrUW1zXG9RbUZJaG1zXHRzYWtVUVQ7CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xTRXMzRW12SGpoUXBKajsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcTkk5RVRrUW1zXGFrVVFUOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXHRoaDsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtIEVzIHJFc0lvUTk5SUZUa1FtOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXE9UaDsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxIaEVrVHNcMlFodUVoZnNvRTk5czsKcHNJIERzUW1PSWhrRTlrV0VlOUk7CnBzSSA2UUprRmdWRklxVGtRbTsKcHNJIE9UaGttSkVlOUk7CgpFZXNUaEVGVCBGOUVzcyAzUWZJOSBrbHE5SWxJbVRzIHRoaEV2RWU5SSwgdGhoRXZ0RkZJc3MsIG9FbXJJZ3NGRXFJZmJqSW1vRXNUSFFPVGhrbUosIFNFc3JoUUVmRkVzVG9qRW1tSTksIERzUW1FZTlJLCBEc1FtT0loa0U5a1dFZTlJLCBHcElwSUVlOUlnbVRrVHYsIE9UaGttSkVlOUksIFBoOU5RcFRFZTlJCnsKICAgIHBzSSBvUW1GSWhtc1xTRXN0VFRoa2VwVElzLAogICAgICAgIG9RbUZJaG1zXFNFc2dVSW1UcywKICAgICAgICBvUW1GSWhtc1xTRXMwOVFlRTlPRlFxSXMsCiAgICAgICAgb1FtRklobXNcU0VzTkk5RVRrUW1zamtxcywKICAgICAgICBvUW1GSWhtc1xTRXNIa2xJc1RFbHFzLAogICAgICAgIG9RbUZJaG1zXFNFc1Bta1JwSUtmcywKICAgICAgICBvUW1GSWhtc1xTa2ZJc3RUVGhrZXBUSXMsCiAgICAgICAgb1FtRklobXNcMHBFaGZzdFRUaGtlcFRJcywKICAgICAgICBvUW1GSWhtc1wwSVR0VFRoa2VwVEksCiAgICAgICAgMlFodUVoZnNvRTk5czsKCiAgICArKioKICAgICAqIEhqSSBGUW1tSUZUa1FtIG1FbEkgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSnxtcDk5CiAgICAgKisKICAgIHFoUVRJRlRJZiAkRlFtbUlGVGtRbTsKCiAgICArKioKICAgICAqIEhqSSBURWU5SSBFc3NRRmtFVElmIHVrVGogVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiAkVEVlOUk7CgogICAgKyoqCiAgICAgKiBIakkgcWhrbEVodiA4SXYgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgJHFoa2xFaHYxSXYgPSAna2YnOwoKICAgICsqKgogICAgICogSGpJICJUdnFJIiBRaSBUakkgcWhrbEVodiA4SXYgS24uCiAgICAgKgogICAgICogQFVFaCBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmICQ4SXZIdnFJID0gJ2ttVCc7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMga2kgVGpJIEtucyBFaEkgRXBUUS1rbUZoSWxJbVRrbUouCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiAka21GaElsSW1Ua21KID0gVGhwSTsKCiAgICArKioKICAgICAqIEhqSSBoSTlFVGtRbXMgVFEgSUVKSWggOVFFZiBRbSBJVUlodiBScElodi4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkdWtUaiA9IFtdOwoKICAgICsqKgogICAgICogSGpJIGhJOUVUa1Ftc2prcSBGUXBtVHMgVGpFVCBzalFwOWYgZUkgSUVKSWggOVFFZklmIFFtIElVSWh2IFJwSWh2LgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICR1a1Rqb1FwbVQgPSBbXTsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyB1aklUakloIDlFV3YgOVFFZmttSiB1azk5IGVJIHFoSVVJbVRJZiBRbSBUamtzIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggZVFROQogICAgICorCiAgICBxcGU5a0YgJHFoSVVJbVRzNkVXdjZRRWZrbUogPSBpRTlzSTsKCiAgICArKioKICAgICAqIEhqSSBtcGxlSWggUWkgbFFmSTlzIFRRIGhJVHBobSBpUWggcUVKa21FVGtRbS4KICAgICAqCiAgICAgKiBAVUVoIGttVAogICAgICorCiAgICBxaFFUSUZUSWYgJHFJaGFFSkkgPSBYWjsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBraSBUakkgbFFmSTkgSVZrc1RzLgogICAgICoKICAgICAqIEBVRWggZVFROQogICAgICorCiAgICBxcGU5a0YgJElWa3NUcyA9IGlFOXNJOwoKICAgICsqKgogICAgICogS21ma0ZFVElzIGtpIFRqSSBsUWZJOSB1RXMga21zSWhUSWYgZnBoa21KIFRqSSBRZUxJRlQncyA5a2lJRnZGOUkuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiAkdUVzTklGSW1UOXZvaElFVElmID0gaUU5c0k7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMgVGpFVCBUakkgUWVMSUZUJ3Mgc1Roa21KIGhJcWhJc0ltVEVUa1FtIHNqUXA5ZiBlSSBJc0ZFcUlmIHVqSW0gX19UUU9UaGttSiBrcyBrbVVROElmLgogICAgICoKICAgICAqIEBVRWggZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgJElzRkVxSWJqSW1vRXNUa21KSFFPVGhrbUogPSBpRTlzSTsKCiAgICArKioKICAgICAqIEhqSSBGUW1tSUZUa1FtIGhJc1E5VUloIGttc1RFbUZJLgogICAgICoKICAgICAqIEBVRWggXEFLQXRcbkVURWVFc0lcb1FtbUlGVGtRbU5Jc1E5VUloS21USWhpRUZJCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGhJc1E5VUloOwoKICAgICsqKgogICAgICogSGpJIElVSW1UIGZrc3FFVEZqSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQFVFaCBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcZ1VJbVRzXG5rc3FFVEZqSWgKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkZmtzcUVURmpJaDsKCiAgICArKioKICAgICAqIEhqSSBFaGhFdiBRaSBlUVFUSWYgbFFmSTlzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkZVFRVElmID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRWhoRXYgUWkgVGhFa1Qga21rVGtFOWtXSWhzIFRqRVQgdWs5OSBlSSBGRTk5SWYgUW0gSUVGaiBtSXUga21zVEVtRkkuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRUaEVrVEtta1RrRTlrV0locyA9IFtdOwoKICAgICsqKgogICAgICogSGpJIEVoaEV2IFFpIEo5UWVFOSBzRlFxSXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkSjlRZUU5T0ZRcUlzID0gW107CgogICAgKyoqCiAgICAgKiBIakkgOWtzVCBRaSBsUWZJOXMgRjlFc3NJcyBUakVUIHNqUXA5ZiBtUVQgZUkgRWlpSUZUSWYgdWtUaiBUUXBGai4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGtKbVFoSU1tSFFwRmogPSBbXTsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyB1aklUakloIDlFV3YgOVFFZmttSiBzalFwOWYgZUkgaElzVGhrRlRJZiBRbSBFOTkgbFFmSTlzLgogICAgICoKICAgICAqIEBVRWggZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRsUWZJOXNPalFwOWZhaElVSW1UNkVXdjZRRWZrbUogPSBpRTlzSTsKCiAgICArKioKICAgICAqIEhqSSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiA5RVd2IDlRRWZrbUogVWtROUVUa1Ftcy4KICAgICAqCiAgICAgKiBAVUVoIEZFOTlFZTlJfG1wOTkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkOUVXdjZRRWZrbUpCa1E5RVRrUW1vRTk5ZUVGODsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBraSBFbSBJVkZJcVRrUW0gc2pRcDlmIGVJIFRqaFF1bSBrbXNUSUVmIFFpIHNrOUltVDl2IGZrc0ZFaGZrbUogbVFtLWlrOTlFZTlJIEVUVGhrZXBUSXMuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGxRZkk5c09qUXA5ZmFoSVVJbVRPazlJbVQ5dm5rc0ZFaGZrbUp0VFRoa2VwVElzID0gaUU5c0k7CgogICAgKyoqCiAgICAgKiBIakkgRkU5OWVFRjggVGpFVCBrcyBoSXNxUW1za2U5SSBpUWggakVtZjlrbUogZmtzRkVoZklmIEVUVGhrZXBUSSBVa1E5RVRrUW1zLgogICAgICoKICAgICAqIEBVRWggRkU5OUVlOUl8bXA5OQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRma3NGRWhmSWZ0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGODsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBraSBFbSBJVkZJcVRrUW0gc2pRcDlmIGVJIFRqaFF1bSB1akltIFRodmttSiBUUSBFRkZJc3MgRSBsa3Nza21KIEVUVGhrZXBUSSBRbSBFIGhJVGhrSVVJZiBsUWZJOS4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkbFFmSTlzT2pRcDlmYWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzID0gaUU5c0k7CgogICAgKyoqCiAgICAgKiBIakkgRkU5OWVFRjggVGpFVCBrcyBoSXNxUW1za2U5SSBpUWggakVtZjlrbUogbGtzc2ttSiBFVFRoa2VwVEkgVWtROUVUa1Ftcy4KICAgICAqCiAgICAgKiBAVUVoIEZFOTlFZTlJfG1wOTkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkbGtzc2ttSnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4OwoKICAgICsqKgogICAgICogS21ma0ZFVElzIGtpIGVoUUVmRkVzVGttSiBrcyBGcGhoSW1UOXYgSW1FZTlJZi4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAka3NyaFFFZkZFc1RrbUogPSBUaHBJOwoKICAgICsqKgogICAgICogSGpJIG1FbEkgUWkgVGpJICJGaElFVElmIEVUIiBGUTlwbG0uCiAgICAgKgogICAgICogQFVFaCBzVGhrbUp8bXA5OQogICAgICorCiAgICBGUW1zVCBvTmd0SGduX3RIID0gJ0ZoSUVUSWZfRVQnOwoKICAgICsqKgogICAgICogSGpJIG1FbEkgUWkgVGpJICJwcWZFVElmIEVUIiBGUTlwbG0uCiAgICAgKgogICAgICogQFVFaCBzVGhrbUp8bXA5OQogICAgICorCiAgICBGUW1zVCBQYW50SGduX3RIID0gJ3BxZkVUSWZfRVQnOwoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IGc5UVJwSW1UIGxRZkk5IGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fRlFtc1RocEZUKEVoaEV2ICRFVFRoa2VwVElzID0gW10pCiAgICB7CiAgICAgICAgJFRqa3MtPmVRUVRLaUFRVHJRUVRJZigpOwoKICAgICAgICAkVGprcy0+a21rVGtFOWtXSUhoRWtUcygpOwoKICAgICAgICAkVGprcy0+c3ZtRk1oa0prbUU5KCk7CgogICAgICAgICRUamtzLT5pazk5KCRFVFRoa2VwVElzKTsKICAgIH0KCiAgICArKioKICAgICAqIG9qSUY4IGtpIFRqSSBsUWZJOSBtSUlmcyBUUSBlSSBlUVFUSWYgRW1mIGtpIHNRLCBmUSBrVC4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGVRUVRLaUFRVHJRUVRJZigpCiAgICB7CiAgICAgICAga2kgKCEga3NzSVQoc1RFVGtGOjokZVFRVElmW3NURVRrRjo6RjlFc3NdKSkgewogICAgICAgICAgICBzVEVUa0Y6OiRlUVFUSWZbc1RFVGtGOjpGOUVzc10gPSBUaHBJOwoKICAgICAgICAgICAgJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdlUVFUa21KJywgaUU5c0kpOwoKICAgICAgICAgICAgc1RFVGtGOjplUVFUa21KKCk7CiAgICAgICAgICAgIHNURVRrRjo6ZVFRVCgpOwogICAgICAgICAgICBzVEVUa0Y6OmVRUVRJZigpOwoKICAgICAgICAgICAgJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdlUVFUSWYnLCBpRTlzSSk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFbXYgRUZUa1FtcyBoSVJwa2hJZiBlSWlRaEkgVGpJIGxRZkk5IGVRUVRzLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGIGlwbUZUa1FtIGVRUVRrbUooKQogICAgewogICAgICAgICsrCiAgICB9CgogICAgKyoqCiAgICAgKiByUVFUc1RoRXEgVGpJIGxRZkk5IEVtZiBrVHMgVGhFa1RzLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGIGlwbUZUa1FtIGVRUVQoKQogICAgewogICAgICAgIHNURVRrRjo6ZVFRVEhoRWtUcygpOwogICAgfQoKICAgICsqKgogICAgICogclFRVCBFOTkgUWkgVGpJIGVRUVRFZTlJIFRoRWtUcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gZVFRVEhoRWtUcygpCiAgICB7CiAgICAgICAgJEY5RXNzID0gc1RFVGtGOjpGOUVzczsKCiAgICAgICAgJGVRUVRJZiA9IFtdOwoKICAgICAgICBzVEVUa0Y6OiRUaEVrVEtta1RrRTlrV0loc1skRjlFc3NdID0gW107CgogICAgICAgIGlRaElFRmogKEY5RXNzX3BzSXNfaElGcGhza1VJKCRGOUVzcykgRXMgJFRoRWtUKSB7CiAgICAgICAgICAgICRsSVRqUWYgPSAnZVFRVCcuRjlFc3NfZUVzSW1FbEkoJFRoRWtUKTsKCiAgICAgICAgICAgIGtpIChsSVRqUWZfSVZrc1RzKCRGOUVzcywgJGxJVGpRZikgJiYgISBrbV9FaGhFdigkbElUalFmLCAkZVFRVElmKSkgewogICAgICAgICAgICAgICAgaVFodUVoZl9zVEVUa0ZfRkU5OShbJEY5RXNzLCAkbElUalFmXSk7CgogICAgICAgICAgICAgICAgJGVRUVRJZltdID0gJGxJVGpRZjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAga2kgKGxJVGpRZl9JVmtzVHMoJEY5RXNzLCAkbElUalFmID0gJ2tta1RrRTlrV0knLkY5RXNzX2VFc0ltRWxJKCRUaEVrVCkpKSB7CiAgICAgICAgICAgICAgICBzVEVUa0Y6OiRUaEVrVEtta1RrRTlrV0loc1skRjlFc3NdW10gPSAkbElUalFmOwoKICAgICAgICAgICAgICAgIHNURVRrRjo6JFRoRWtUS21rVGtFOWtXSWhzWyRGOUVzc10gPSBFaGhFdl9wbWtScEkoCiAgICAgICAgICAgICAgICAgICAgc1RFVGtGOjokVGhFa1RLbWtUa0U5a1dJaHNbJEY5RXNzXQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIEtta1RrRTlrV0kgRW12IGtta1RrRTlrV0VlOUkgVGhFa1RzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtta1RrRTlrV0lIaEVrVHMoKQogICAgewogICAgICAgIGlRaElFRmogKHNURVRrRjo6JFRoRWtUS21rVGtFOWtXSWhzW3NURVRrRjo6RjlFc3NdIEVzICRsSVRqUWYpIHsKICAgICAgICAgICAgJFRqa3MtPnskbElUalFmfSgpOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIGFJaGlRaGwgRW12IEVGVGtRbXMgaElScGtoSWYgRWlUSWggVGpJIGxRZkk5IGVRUVRzLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGIGlwbUZUa1FtIGVRUVRJZigpCiAgICB7CiAgICAgICAgKysKICAgIH0KCiAgICArKioKICAgICAqIG85SUVoIFRqSSA5a3NUIFFpIGVRUVRJZiBsUWZJOXMgc1EgVGpJdiB1azk5IGVJIGhJLWVRUVRJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBGOUlFaHJRUVRJZjNRZkk5cygpCiAgICB7CiAgICAgICAgc1RFVGtGOjokZVFRVElmID0gW107CgogICAgICAgIHNURVRrRjo6JEo5UWVFOU9GUXFJcyA9IFtdOwogICAgfQoKICAgICsqKgogICAgICogbmtzRWU5SXMgaEk5RVRrUW1zamtxIGxRZkk5IFRRcEZqa21KIGlRaCBUakkgRnBoaEltVCBGOUVzcyBmcGhrbUogSmtVSW0gRkU5OWVFRjggc0ZRcUkuCiAgICAgKgogICAgICogQHFFaEVsICBGRTk5RWU5SSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSB1a1RqUXBUSFFwRmprbUooRkU5OUVlOUkgJEZFOTllRUY4KQogICAgewogICAgICAgIHNURVRrRjo6dWtUalFwVEhRcEZqa21KTW0oW3NURVRrRjo6RjlFc3NdLCAkRkU5OWVFRjgpOwogICAgfQoKICAgICsqKgogICAgICogbmtzRWU5SXMgaEk5RVRrUW1zamtxIGxRZkk5IFRRcEZqa21KIGlRaCBUakkgSmtVSW0gbFFmSTkgRjlFc3NJcyBmcGhrbUogSmtVSW0gRkU5OWVFRjggc0ZRcUkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJGxRZkk5cwogICAgICogQHFFaEVsICBGRTk5RWU5SSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSB1a1RqUXBUSFFwRmprbUpNbShFaGhFdiAkbFFmSTlzLCBGRTk5RWU5SSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgc1RFVGtGOjoka0ptUWhJTW1IUXBGaiA9IEVoaEV2X1VFOXBJcyhFaGhFdl9sSWhKSShzVEVUa0Y6OiRrSm1RaElNbUhRcEZqLCAkbFFmSTlzKSk7CgogICAgICAgIFRodiB7CiAgICAgICAgICAgICRGRTk5ZUVGOCgpOwogICAgICAgIH0gaWttRTk5diB7CiAgICAgICAgICAgIHNURVRrRjo6JGtKbVFoSU1tSFFwRmogPSBFaGhFdl9VRTlwSXMoRWhoRXZfZmtpaShzVEVUa0Y6OiRrSm1RaElNbUhRcEZqLCAkbFFmSTlzKSk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBKa1VJbSBsUWZJOSBrcyBrSm1RaGttSiBUUXBGaklzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRGOUVzcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0ga3NLSm1RaGttSkhRcEZqKCRGOUVzcyA9IG1wOTkpCiAgICB7CiAgICAgICAgJEY5RXNzID0gJEY5RXNzID86IHNURVRrRjo6RjlFc3M7CgogICAgICAgIGtpICghIEpJVF9GOUVzc19VRWhzKCRGOUVzcylbJ1RrbElzVEVscXMnXSB8fCAhICRGOUVzczo6UGFudEhnbl90SCkgewogICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICB9CgogICAgICAgIGlRaElFRmogKHNURVRrRjo6JGtKbVFoSU1tSFFwRmogRXMgJGtKbVFoSWZvOUVzcykgewogICAgICAgICAgICBraSAoJEY5RXNzID09PSAka0ptUWhJZm85RXNzIHx8IGtzX3NwZUY5RXNzX1FpKCRGOUVzcywgJGtKbVFoSWZvOUVzcykpIHsKICAgICAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSSBUakVUIGxRZkk5cyBzalFwOWYgcWhJVUltVCA5RVd2IDlRRWZrbUosIHNrOUltVDl2IGZrc0ZFaGZrbUogRVRUaGtlcFRJcywgRW1mIEVGRklzc2ttSiBsa3Nza21KIEVUVGhrZXBUSXMuCiAgICAgKgogICAgICogQHFFaEVsICBlUVE5ICAkc2pRcDlmcklPVGhrRlQKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHNqUXA5ZnJJT1Roa0ZUKGVRUTkgJHNqUXA5ZnJJT1Roa0ZUID0gVGhwSSkKICAgIHsKICAgICAgICBzVEVUa0Y6OnFoSVVJbVQ2RVd2NlFFZmttSigkc2pRcDlmcklPVGhrRlQpOwogICAgICAgIHNURVRrRjo6cWhJVUltVE9rOUltVDl2bmtzRkVoZmttSnRUVGhrZXBUSXMoJHNqUXA5ZnJJT1Roa0ZUKTsKICAgICAgICBzVEVUa0Y6OnFoSVVJbVR0RkZJc3NrbUoza3Nza21KdFRUaGtlcFRJcygkc2pRcDlmcklPVGhrRlQpOwogICAgfQoKICAgICsqKgogICAgICogYWhJVUltVCBsUWZJOSBoSTlFVGtRbXNqa3FzIGloUWwgZUlrbUogOUVXdiA5UUVmSWYuCiAgICAgKgogICAgICogQHFFaEVsICBlUVE5ICAkVUU5cEkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHFoSVVJbVQ2RVd2NlFFZmttSigkVUU5cEkgPSBUaHBJKQogICAgewogICAgICAgIHNURVRrRjo6JGxRZkk5c09qUXA5ZmFoSVVJbVQ2RVd2NlFFZmttSiA9ICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIEUgRkU5OWVFRjggVGpFVCBrcyBoSXNxUW1za2U5SSBpUWggakVtZjlrbUogOUVXdiA5UUVma21KIFVrUTlFVGtRbXMuCiAgICAgKgogICAgICogQHFFaEVsICBGRTk5RWU5SXxtcDk5ICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGpFbWY5STZFV3Y2UUVma21KQmtROUVUa1FtUHNrbUooP0ZFOTlFZTlJICRGRTk5ZUVGOCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiQ5RVd2NlFFZmttSkJrUTlFVGtRbW9FOTllRUY4ID0gJEZFOTllRUY4OwogICAgfQoKICAgICsqKgogICAgICogYWhJVUltVCBtUW0taWs5OUVlOUkgRVRUaGtlcFRJcyBpaFFsIGVJa21KIHNrOUltVDl2IGZrc0ZFaGZJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVE9rOUltVDl2bmtzRkVoZmttSnRUVGhrZXBUSXMoJFVFOXBJID0gVGhwSSkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRsUWZJOXNPalFwOWZhaElVSW1UT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcyA9ICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIEUgRkU5OWVFRjggVGpFVCBrcyBoSXNxUW1za2U5SSBpUWggakVtZjlrbUogZmtzRkVoZklmIEVUVGhrZXBUSSBVa1E5RVRrUW1zLgogICAgICoKICAgICAqIEBxRWhFbCAgRkU5OUVlOUl8bXA5OSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBqRW1mOUlua3NGRWhmSWZ0VFRoa2VwVElCa1E5RVRrUW1Qc2ttSig/RkU5OUVlOUkgJEZFOTllRUY4KQogICAgewogICAgICAgIHNURVRrRjo6JGZrc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4ID0gJEZFOTllRUY4OwogICAgfQoKICAgICsqKgogICAgICogYWhJVUltVCBFRkZJc3NrbUogbGtzc2ttSiBFVFRoa2VwVElzIFFtIGhJVGhrSVVJZiBsUWZJOXMuCiAgICAgKgogICAgICogQHFFaEVsICBlUVE5ICAkVUU5cEkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHFoSVVJbVR0RkZJc3NrbUoza3Nza21KdFRUaGtlcFRJcygkVUU5cEkgPSBUaHBJKQogICAgewogICAgICAgIHNURVRrRjo6JGxRZkk5c09qUXA5ZmFoSVVJbVR0RkZJc3NrbUoza3Nza21KdFRUaGtlcFRJcyA9ICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIEUgRkU5OWVFRjggVGpFVCBrcyBoSXNxUW1za2U5SSBpUWggakVtZjlrbUogbGtzc2ttSiBFVFRoa2VwVEkgVWtROUVUa1Ftcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJfG1wOTkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gakVtZjlJM2tzc2ttSnRUVGhrZXBUSUJrUTlFVGtRbVBza21KKD9GRTk5RWU5SSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgc1RFVGtGOjokbGtzc2ttSnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4ID0gJEZFOTllRUY4OwogICAgfQoKICAgICsqKgogICAgICogZ1ZJRnBUSSBFIEZFOTllRUY4IHVrVGpRcFQgZWhRRWZGRXNUa21KIEVtdiBsUWZJOSBJVUltVHMgaVFoIEU5OSBsUWZJOSBUdnFJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSB1a1RqUXBUcmhRRWZGRXNUa21KKEZFOTlFZTlJICRGRTk5ZUVGOCkKICAgIHsKICAgICAgICAka3NyaFFFZkZFc1RrbUogPSBzVEVUa0Y6OiRrc3JoUUVmRkVzVGttSjsKCiAgICAgICAgc1RFVGtGOjoka3NyaFFFZkZFc1RrbUogPSBpRTlzSTsKCiAgICAgICAgVGh2IHsKICAgICAgICAgICAgaElUcGhtICRGRTk5ZUVGOCgpOwogICAgICAgIH0gaWttRTk5diB7CiAgICAgICAgICAgIHNURVRrRjo6JGtzcmhRRWZGRXNUa21KID0gJGtzcmhRRWZGRXNUa21KOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIDJrOTkgVGpJIGxRZkk5IHVrVGogRW0gRWhoRXYgUWkgRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSAkVGprcwogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM0Vzc3Rzc2tKbWxJbVRnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlrOTkoRWhoRXYgJEVUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgJFRRVEU5OXYwcEVoZklmID0gJFRqa3MtPlRRVEU5OXYwcEVoZklmKCk7CgogICAgICAgICRpazk5RWU5SSA9ICRUamtzLT5pazk5RWU5STJoUWx0aGhFdigkRVRUaGtlcFRJcyk7CgogICAgICAgIGlRaElFRmogKCRpazk5RWU5SSBFcyAkOEl2ID0+ICRVRTlwSSkgewogICAgICAgICAgICArKyBIakkgZklVSTlRcUlocyBsRXYgRmpRUXNJIFRRIHE5RUZJIHNRbEkgRVRUaGtlcFRJcyBrbSBUakkgImlrOTlFZTlJIiBFaGhFdgogICAgICAgICAgICArKyB1amtGaiBsSUVtcyBRbTl2IFRqUXNJIEVUVGhrZXBUSXMgbEV2IGVJIHNJVCBUamhRcEpqIGxFc3MgRXNza0ptbEltVCBUUQogICAgICAgICAgICArKyBUakkgbFFmSTksIEVtZiBFOTkgUVRqSWhzIHVrOTkgTHBzVCBKSVQga0ptUWhJZiBpUWggc0lGcGhrVHYgaElFc1Ftcy4KICAgICAgICAgICAga2kgKCRUamtzLT5rczJrOTlFZTlJKCQ4SXYpKSB7CiAgICAgICAgICAgICAgICAkVGprcy0+c0lUdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgICAgIH0gSTlzSWtpICgkVFFURTk5djBwRWhmSWYgfHwgc1RFVGtGOjpxaElVSW1Uc09rOUltVDl2bmtzRkVoZmttSnRUVGhrZXBUSXMoKSkgewogICAgICAgICAgICAgICAga2kgKGtzc0lUKHNURVRrRjo6JGZrc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4KSkgewogICAgICAgICAgICAgICAgICAgIEZFOTlfcHNJaF9pcG1GKHNURVRrRjo6JGZrc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4LCAkVGprcywgWyQ4SXZdKTsKICAgICAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICAgICAgVGpoUXUgbUl1IDNFc3N0c3NrSm1sSW1UZ1ZGSXFUa1FtKHNxaGttVGkoCiAgICAgICAgICAgICAgICAgICAgICAgICd0ZmYgWyVzXSBUUSBpazk5RWU5SSBxaFFxSWhUdiBUUSBFOTlRdSBsRXNzIEVzc2tKbWxJbVQgUW0gWyVzXS4nLAogICAgICAgICAgICAgICAgICAgICAgICAkOEl2LCBKSVRfRjlFc3MoJFRqa3MpCiAgICAgICAgICAgICAgICAgICAgKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGtpIChGUXBtVCgkRVRUaGtlcFRJcykgIT09IEZRcG1UKCRpazk5RWU5SSkgJiYKICAgICAgICAgICAgc1RFVGtGOjpxaElVSW1Uc09rOUltVDl2bmtzRkVoZmttSnRUVGhrZXBUSXMoKSkgewogICAgICAgICAgICAkOEl2cyA9IEVoaEV2X2ZraWkoRWhoRXZfOEl2cygkRVRUaGtlcFRJcyksIEVoaEV2XzhJdnMoJGlrOTlFZTlJKSk7CgogICAgICAgICAgICBraSAoa3NzSVQoc1RFVGtGOjokZmtzRkVoZklmdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjgpKSB7CiAgICAgICAgICAgICAgICBGRTk5X3BzSWhfaXBtRihzVEVUa0Y6OiRma3NGRWhmSWZ0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGOCwgJFRqa3MsICQ4SXZzKTsKICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgIFRqaFF1IG1JdSAzRXNzdHNza0ptbEltVGdWRklxVGtRbShzcWhrbVRpKAogICAgICAgICAgICAgICAgICAgICd0ZmYgaWs5OUVlOUkgcWhRcUloVHYgWyVzXSBUUSBFOTlRdSBsRXNzIEVzc2tKbWxJbVQgUW0gWyVzXS4nLAogICAgICAgICAgICAgICAgICAgIGtscTlRZkkoJywgJywgJDhJdnMpLAogICAgICAgICAgICAgICAgICAgIEpJVF9GOUVzcygkVGprcykKICAgICAgICAgICAgICAgICkpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAyazk5IFRqSSBsUWZJOSB1a1RqIEVtIEVoaEV2IFFpIEVUVGhrZXBUSXMuIDJRaEZJIGxFc3MgRXNza0ptbEltVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaVFoRkkyazk5KEVoaEV2ICRFVFRoa2VwVElzKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OnBtSnBFaGZJZihpbSAoKSA9PiAkVGprcy0+aWs5OSgkRVRUaGtlcFRJcykpOwogICAgfQoKICAgICsqKgogICAgICogR3BFOWtpdiBUakkgSmtVSW0gRlE5cGxtIG1FbEkgZXYgVGpJIGxRZkk5J3MgVEVlOUkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBScEU5a2l2b1E5cGxtKCRGUTlwbG0pCiAgICB7CiAgICAgICAga2kgKHNUaF9GUW1URWttcygkRlE5cGxtLCAnLicpKSB7CiAgICAgICAgICAgIGhJVHBobSAkRlE5cGxtOwogICAgICAgIH0KICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVEhFZTlJKCkuJy4nLiRGUTlwbG07CiAgICB9CgogICAgKyoqCiAgICAgKiBHcEU5a2l2IFRqSSBKa1VJbSBGUTlwbG1zIHVrVGogVGpJIGxRZkk5J3MgVEVlOUkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFJwRTlraXZvUTlwbG1zKCRGUTlwbG1zKQogICAgewogICAgICAgIGhJVHBobSBGUTk5SUZUKCRGUTlwbG1zKS0+bEVxKGlwbUZUa1FtICgkRlE5cGxtKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+UnBFOWtpdm9ROXBsbSgkRlE5cGxtKTsKICAgICAgICB9KS0+RTk5KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUga21zVEVtRkkgUWkgVGpJIEprVUltIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIGVRUTkgICRJVmtzVHMKICAgICAqIEBoSVRwaG0gc1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVLbXNURW1GSSgkRVRUaGtlcFRJcyA9IFtdLCAkSVZrc1RzID0gaUU5c0kpCiAgICB7CiAgICAgICAgKysgSGprcyBsSVRqUWYgTHBzVCBxaFFVa2ZJcyBFIEZRbVVJbWtJbVQgdUV2IGlRaCBwcyBUUSBKSW1JaEVUSSBpaElzaiBsUWZJOQogICAgICAgICsrIGttc1RFbUZJcyBRaSBUamtzIEZwaGhJbVQgbFFmSTkuIEtUIGtzIHFFaFRrRnA5RWg5diBwc0lpcDkgZnBoa21KIFRqSQogICAgICAgICsrIGp2ZmhFVGtRbSBRaSBtSXUgUWVMSUZUcyBVa0UgVGpJIGc5UVJwSW1UIFJwSWh2IGVwazlmSWgga21zVEVtRklzLgogICAgICAgICRsUWZJOSA9IG1JdSBzVEVUa0Y7CgogICAgICAgICRsUWZJOS0+SVZrc1RzID0gJElWa3NUczsKCiAgICAgICAgJGxRZkk5LT5zSVRvUW1tSUZUa1FtKAogICAgICAgICAgICAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKQogICAgICAgICk7CgogICAgICAgICRsUWZJOS0+c0lUSEVlOUkoJFRqa3MtPkpJVEhFZTlJKCkpOwoKICAgICAgICAkbFFmSTktPmxJaEpJb0VzVHMoJFRqa3MtPkZFc1RzKTsKCiAgICAgICAgJGxRZkk5LT5pazk5KChFaGhFdikgJEVUVGhrZXBUSXMpOwoKICAgICAgICBoSVRwaG0gJGxRZkk5OwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IGxRZkk5IGttc1RFbUZJIFRqRVQga3MgSVZrc1RrbUouCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRGUW1tSUZUa1FtCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1MmhRbHJwazlmSWgoJEVUVGhrZXBUSXMgPSBbXSwgJEZRbW1JRlRrUW0gPSBtcDk5KQogICAgewogICAgICAgICRsUWZJOSA9ICRUamtzLT5tSXVLbXNURW1GSShbXSwgVGhwSSk7CgogICAgICAgICRsUWZJOS0+c0lUTkV1dFRUaGtlcFRJcygoRWhoRXYpICRFVFRoa2VwVElzLCBUaHBJKTsKCiAgICAgICAgJGxRZkk5LT5zSVRvUW1tSUZUa1FtKCRGUW1tSUZUa1FtID86ICRUamtzLT5KSVRvUW1tSUZUa1FtQUVsSSgpKTsKCiAgICAgICAgJGxRZkk5LT5pa2hJM1FmSTlnVUltVCgnaElUaGtJVUlmJywgaUU5c0kpOwoKICAgICAgICBoSVRwaG0gJGxRZkk5OwogICAgfQoKICAgICsqKgogICAgICogcklKa20gUnBJaHZrbUogVGpJIGxRZkk5IFFtIEUgSmtVSW0gRlFtbUlGVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkRlFtbUlGVGtRbQogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gUW0oJEZRbW1JRlRrUW0gPSBtcDk5KQogICAgewogICAgICAgICsrIDJraHNUIHVJIHVrOTkgTHBzVCBGaElFVEkgRSBpaElzaiBrbXNURW1GSSBRaSBUamtzIGxRZkk5LCBFbWYgVGpJbSB1SSBGRW0gc0lUIFRqSQogICAgICAgICsrIEZRbW1JRlRrUW0gUW0gVGpJIGxRZkk5IHNRIFRqRVQga1Qga3MgcHNJZiBpUWggVGpJIFJwSWhrSXMgdUkgSVZJRnBUSSwgRXMgdUk5OQogICAgICAgICsrIEVzIGVJa21KIHNJVCBRbSBJVUlodiBoSTlFVGtRbSB1SSBoSVRoa0lVSSB1a1RqUXBUIEUgRnBzVFFsIEZRbW1JRlRrUW0gbUVsSS4KICAgICAgICAka21zVEVtRkkgPSBtSXUgc1RFVGtGOwoKICAgICAgICAka21zVEVtRkktPnNJVG9RbW1JRlRrUW0oJEZRbW1JRlRrUW0pOwoKICAgICAgICBoSVRwaG0gJGttc1RFbUZJLT5tSXVHcElodigpOwogICAgfQoKICAgICsqKgogICAgICogcklKa20gUnBJaHZrbUogVGpJIGxRZkk5IFFtIFRqSSB1aGtUSSBGUW1tSUZUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIFFtYmhrVElvUW1tSUZUa1FtKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjpScElodigpLT5wc0liaGtUSWFmUSgpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEU5OSBRaSBUakkgbFFmSTlzIGloUWwgVGpJIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvUTk5SUZUa1FtPGttVCwgc1RFVGtGPgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIEU5OSgkRlE5cGxtcyA9IFsnKiddKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OlJwSWh2KCktPkpJVCgKICAgICAgICAgICAga3NfRWhoRXYoJEZROXBsbXMpID8gJEZROXBsbXMgOiBpcG1GX0pJVF9FaEpzKCkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogcklKa20gUnBJaHZrbUogRSBsUWZJOSB1a1RqIElFSkloIDlRRWZrbUouCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGooJGhJOUVUa1FtcykKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjpScElodigpLT51a1RqKAogICAgICAgICAgICBrc19zVGhrbUooJGhJOUVUa1FtcykgPyBpcG1GX0pJVF9FaEpzKCkgOiAkaEk5RVRrUW1zCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZigkaEk5RVRrUW1zKQogICAgewogICAgICAgICRScElodiA9ICRUamtzLT5tSXVHcElodmJrVGpRcFROSTlFVGtRbXNqa3FzKCktPnVrVGooCiAgICAgICAgICAgIGtzX3NUaGttSigkaEk5RVRrUW1zKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRoSTlFVGtRbXMKICAgICAgICApOwoKICAgICAgICAkUnBJaHYtPklFSkloNlFFZk5JOUVUa1FtcyhbJFRqa3NdKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXNqa3FzIFFtIFRqSSBxUTl2bFFocWprRiBoSTlFVGtRbSBRaSBFIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYzUWhxaigkaEk5RVRrUW0sICRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPnskaEk5RVRrUW19KSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprczsKICAgICAgICB9CgogICAgICAgICRGOUVzc0FFbEkgPSBKSVRfRjlFc3MoJFRqa3MtPnskaEk5RVRrUW19KTsKCiAgICAgICAgJFRqa3MtPnskaEk5RVRrUW19LT45UUVmKCRoSTlFVGtRbXNbJEY5RXNzQUVsSV0gPz8gW10pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1FtcyBRbSBUakkgbFFmSTkga2kgVGpJdiBFaEkgbVFUIEU5aElFZnYgSUVKSWggOVFFZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM2tzc2ttSigkaEk5RVRrUW1zKQogICAgewogICAgICAgICRoSTlFVGtRbXMgPSBrc19zVGhrbUooJGhJOUVUa1FtcykgPyBpcG1GX0pJVF9FaEpzKCkgOiAkaEk5RVRrUW1zOwoKICAgICAgICAkVGprcy0+bUl1b1E5OUlGVGtRbShbJFRqa3NdKS0+OVFFZjNrc3NrbUooJGhJOUVUa1Ftcyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0ncyBGUTlwbG0gRUpKaElKRVRrUW1zIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRpcG1GVGtRbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAkRlE5cGxtLCAkaXBtRlRrUW0gPSBtcDk5KQogICAgewogICAgICAgICRUamtzLT5tSXVvUTk5SUZUa1FtKFskVGprc10pLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICRpcG1GVGtRbSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0gRlFwbVRzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZm9RcG1UKCRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAgJGhJOUVUa1FtcyA9IGtzX3NUaGttSigkaEk5RVRrUW1zKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRoSTlFVGtRbXM7CgogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAnKicsICdGUXBtVCcpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbSBsRVYgRlE5cGxtIFVFOXBJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM0VWKCRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICdsRVYnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0gbGttIEZROXBsbSBVRTlwSXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNrbSgkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAkRlE5cGxtLCAnbGttJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1FtJ3MgRlE5cGxtIHNwbGxFVGtRbXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZk9wbCgkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAkRlE5cGxtLCAnc3BsJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1FtIEVVSWhFSkkgRlE5cGxtIFVFOXBJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmdFVKKCRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICdFVUonKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRJZiBsUWZJOSBJVmtzVEltRkkgVUU5cElzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZmdWa3NUcygkaEk5RVRrUW1zKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zLCAnKicsICdJVmtzVHMnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIEZROXBsbSBFSkpoSUpFVGtRbSBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlwbUZUa1FtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM1FocWp0SkpoSUpFVEkoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtLCAkaXBtRlRrUW0gPSBtcDk5KQogICAgewogICAgICAgIGtpICghICRUamtzLT57JGhJOUVUa1FtfSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICAgICAgfQoKICAgICAgICAkRjlFc3NBRWxJID0gSklUX0Y5RXNzKCRUamtzLT57JGhJOUVUa1FtfSk7CgogICAgICAgICRUamtzLT57JGhJOUVUa1FtfS0+OVFFZnRKSmhJSkVUSSgkaEk5RVRrUW1zWyRGOUVzc0FFbEldID8/IFtdLCAkRlE5cGxtLCAkaXBtRlRrUW0pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1Ftc2prcSBGUXBtVHMgUW0gVGpJIHFROXZsUWhxamtGIGhJOUVUa1FtIFFpIEUgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRoSTlFVGtRbQogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqb1FwbVQoJGhJOUVUa1FtLCAkaEk5RVRrUW1zKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZjNRaHFqdEpKaElKRVRJKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJyonLCAnRlFwbVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIGxFViBGUTlwbG0gVUU5cElzIFFtIFRqSSBxUTl2bFFocWprRiBoSTlFVGtRbSBRaSBFIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM1FocWozRVYoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZjNRaHFqdEpKaElKRVRJKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSwgJ2xFVicpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXNqa3EgbGttIEZROXBsbSBVRTlwSXMgUW0gVGpJIHFROXZsUWhxamtGIGhJOUVUa1FtIFFpIEUgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRoSTlFVGtRbQogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYzUWhxajNrbSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmM1FocWp0SkpoSUpFVEkoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtLCAnbGttJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1Ftc2prcSBGUTlwbG0gc3BsbEVUa1FtcyBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqT3BsKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRWYzUWhxanRKSmhJSkVUSSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0sICdzcGwnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIEVVSWhFSkkgRlE5cGxtIFVFOXBJcyBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqdFVKKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRWYzUWhxanRKSmhJSkVUSSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0sICdFVUonKTsKICAgIH0KCiAgICArKioKICAgICAqIEttRmhJbEltVCBFIEZROXBsbSdzIFVFOXBJIGV2IEUgSmtVSW0gRWxRcG1ULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGk5UUVUfGttVCAgJEVsUXBtVAogICAgICogQHFFaEVsICBFaGhFdiAgJElWVGhFCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga21GaElsSW1UKCRGUTlwbG0sICRFbFFwbVQgPSBYLCBFaGhFdiAkSVZUaEUgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmttRmhJbEltVE1obklGaElsSW1UKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSwgJ2ttRmhJbEltVCcpOwogICAgfQoKICAgICsqKgogICAgICogbklGaElsSW1UIEUgRlE5cGxtJ3MgVUU5cEkgZXYgRSBKa1VJbSBFbFFwbVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgaTlRRVR8a21UICAkRWxRcG1UCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkSVZUaEUKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBmSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCA9IFgsIEVoaEV2ICRJVlRoRSA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+a21GaElsSW1UTWhuSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCwgJElWVGhFLCAnZklGaElsSW1UJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOcG0gVGpJIGttRmhJbEltVCBRaCBmSUZoSWxJbVQgbElUalFmIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrbUZoSWxJbVRNaG5JRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUsICRsSVRqUWYpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdUdwSWh2YmtUalFwVE5JOUVUa1Ftc2prcXMoKS0+eyRsSVRqUWZ9KCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+eyRGUTlwbG19ID0gJFRqa3MtPmtzbzlFc3NuSVVrRWU5SSgkRlE5cGxtKQogICAgICAgICAgICA/ICRUamtzLT5mSVVrRVRJbzlFc3NvRXNURWU5SXRUVGhrZXBUSSgkbElUalFmLCAkRlE5cGxtLCAkRWxRcG1UKQogICAgICAgICAgICA6ICRUamtzLT57JEZROXBsbX0gLyAoJGxJVGpRZiA9PT0gJ2ttRmhJbEltVCcgPyAkRWxRcG1UIDogJEVsUXBtVCAqIC1YKTsKCiAgICAgICAgJFRqa3MtPmlRaEZJMms5OSgkSVZUaEUpOwoKICAgICAgICBraSAoJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdwcWZFVGttSicpID09PSBpRTlzSSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmtzbzlFc3NuSVVrRWU5SSgkRlE5cGxtKSkgewogICAgICAgICAgICAkRWxRcG1UID0gKEY5UW1JICRUamtzKS0+c0lUdFRUaGtlcFRJKCRGUTlwbG0sICRFbFFwbVQpLT5KSVR0VFRoa2VwVEkyaFFsdGhoRXYoJEZROXBsbSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gVEVxKCRUamtzLT5zSVQxSXZzMlFoT0VVSUdwSWh2KCRUamtzLT5tSXVHcElodmJrVGpRcFRPRlFxSXMoKSktPnskbElUalFmfSgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUpLCBpcG1GVGtRbSAoKSBwc0kgKCRGUTlwbG0pIHsKICAgICAgICAgICAgJFRqa3MtPnN2bUZvakVtSklzKCk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ3BxZkVUSWYnLCBpRTlzSSk7CgogICAgICAgICAgICAkVGprcy0+c3ZtRk1oa0prbUU5dFRUaGtlcFRJKCRGUTlwbG0pOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogUHFmRVRJIFRqSSBsUWZJOSBrbSBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBxZkVUSShFaGhFdiAkRVRUaGtlcFRJcyA9IFtdLCBFaGhFdiAkUXFUa1FtcyA9IFtdKQogICAgewogICAgICAgIGtpICghICRUamtzLT5JVmtzVHMpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5pazk5KCRFVFRoa2VwVElzKS0+c0VVSSgkUXFUa1Ftcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBQcWZFVEkgVGpJIGxRZkk5IGttIFRqSSBmRVRFZUVzSSB1a1Rqa20gRSBUaEVtc0VGVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQHFFaEVsICBFaGhFdiAgJFFxVGtRbXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICoKICAgICAqIEBUamhRdXMgXEhqaFF1RWU5SQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcHFmRVRJTWgyRWs5KEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlrOTkoJEVUVGhrZXBUSXMpLT5zRVVJTWgyRWs5KCRRcVRrUW1zKTsKICAgIH0KCiAgICArKioKICAgICAqIFBxZkVUSSBUakkgbFFmSTkga20gVGpJIGZFVEVlRXNJIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBwcWZFVElHcGtJVDl2KEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlrOTkoJEVUVGhrZXBUSXMpLT5zRVVJR3BrSVQ5digkUXFUa1Ftcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbUZoSWxJbVQgRSBGUTlwbG0ncyBVRTlwSSBldiBFIEprVUltIEVsUXBtVCB1a1RqUXBUIGhFa3NrbUogRW12IElVSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGttRmhJbEltVEdwa0lUOXYoJEZROXBsbSwgJEVsUXBtVCA9IFgsIEVoaEV2ICRJVlRoRSA9IFtdKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OnVrVGpRcFRnVUltVHMoaXBtRlRrUW0gKCkgcHNJICgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5rbUZoSWxJbVRNaG5JRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUsICdrbUZoSWxJbVQnKTsKICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIG5JRmhJbEltVCBFIEZROXBsbSdzIFVFOXBJIGV2IEUgSmtVSW0gRWxRcG1UIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGk5UUVUfGttVCAgJEVsUXBtVAogICAgICogQHFFaEVsICBFaGhFdiAgJElWVGhFCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gZklGaElsSW1UR3BrSVQ5digkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpcG1GVGtRbSAoKSBwc0kgKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmttRmhJbEltVE1obklGaElsSW1UKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSwgJ2ZJRmhJbEltVCcpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogT0VVSSBUakkgbFFmSTkgRW1mIEU5OSBRaSBrVHMgaEk5RVRrUW1zamtxcy4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHFwc2ooKQogICAgewogICAgICAgIGtpICghICRUamtzLT5zRVVJKCkpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgKysgSFEgc3ZtRiBFOTkgUWkgVGpJIGhJOUVUa1Ftc2prcXMgVFEgVGpJIGZFVEVlRXNJLCB1SSB1azk5IHNrbHE5diBzcWttIFRqaFFwSmoKICAgICAgICArKyBUakkgaEk5RVRrUW1zamtxcyBFbWYgc0VVSSBJRUZqIGxRZkk5IFVrRSBUamtzICJxcHNqIiBsSVRqUWYsIHVqa0ZqIEU5OVF1cwogICAgICAgICsrIHBzIFRRIGhJRnBoc0kga21UUSBFOTkgUWkgVGpJc0kgbUlzVElmIGhJOUVUa1FtcyBpUWggVGpJIGxRZkk5IGttc1RFbUZJLgogICAgICAgIGlRaElFRmogKCRUamtzLT5oSTlFVGtRbXMgRXMgJGxRZkk5cykgewogICAgICAgICAgICAkbFFmSTlzID0gJGxRZkk5cyBrbXNURW1GSVFpIG9ROTlJRlRrUW0KICAgICAgICAgICAgICAgID8gJGxRZkk5cy0+RTk5KCkgOiBbJGxRZkk5c107CgogICAgICAgICAgICBpUWhJRUZqIChFaGhFdl9pazlUSWgoJGxRZkk5cykgRXMgJGxRZkk5KSB7CiAgICAgICAgICAgICAgICBraSAoISAkbFFmSTktPnFwc2ooKSkgewogICAgICAgICAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPRVVJIFRqSSBsUWZJOSBFbWYgRTk5IFFpIGtUcyBoSTlFVGtRbXNqa3FzIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzIFRRIFRqSSBxRWhJbVQgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBxcHNqR3BrSVQ5digpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpbSAoKSA9PiAkVGprcy0+cXBzaigpKTsKICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgVGpJIGxRZkk5IFRRIFRqSSBmRVRFZUVzSSB1a1RqUXBUIGhFa3NrbUogRW12IElVSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzRVVJR3BrSVQ5dihFaGhFdiAkUXFUa1FtcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OnVrVGpRcFRnVUltVHMoaW0gKCkgPT4gJFRqa3MtPnNFVUkoJFFxVGtRbXMpKTsKICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgVGpJIGxRZkk5IFRRIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzRVVJKEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAgJFRqa3MtPmxJaEpJdFRUaGtlcFRJczJoUWxvRUZqSWZvRXNUcygpOwoKICAgICAgICAkUnBJaHYgPSAkVGprcy0+bUl1M1FmSTlHcElodigpOwoKICAgICAgICArKyBLaSBUakkgInNFVWttSiIgSVVJbVQgaElUcGhtcyBpRTlzSSB1SSc5OSBlRWs5IFFwVCBRaSBUakkgc0VVSSBFbWYgaElUcGhtCiAgICAgICAgKysgaUU5c0ksIGttZmtGRVRrbUogVGpFVCBUakkgc0VVSSBpRWs5SWYuIEhqa3MgcWhRVWtmSXMgRSBGakVtRkkgaVFoIEVtdgogICAgICAgICsrIDlrc1RJbUlocyBUUSBGRW1GSTkgc0VVSSBRcUloRVRrUW1zIGtpIFVFOWtmRVRrUW1zIGlFazkgUWggdWpFVElVSWguCiAgICAgICAga2kgKCRUamtzLT5pa2hJM1FmSTlnVUltVCgnc0VVa21KJykgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CiAgICAgICAgKysgS2kgVGpJIGxRZkk5IEU5aElFZnYgSVZrc1RzIGttIFRqSSBmRVRFZUVzSSB1SSBGRW0gTHBzVCBwcWZFVEkgUXBoIGhJRlFoZgogICAgICAgICsrIFRqRVQga3MgRTloSUVmdiBrbSBUamtzIGZFVEVlRXNJIHBza21KIFRqSSBGcGhoSW1UIEtucyBrbSBUamtzICJ1akloSSIKICAgICAgICArKyBGOUVwc0kgVFEgUW05diBwcWZFVEkgVGprcyBsUWZJOS4gTVRqSWh1a3NJLCB1SSc5OSBMcHNUIGttc0loVCBUaklsLgogICAgICAgIGtpICgkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgICRzRVVJZiA9ICRUamtzLT5rc25raFR2KCkgPwogICAgICAgICAgICAgICAgJFRqa3MtPnFJaGlRaGxQcWZFVEkoJFJwSWh2KSA6IFRocEk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgbFFmSTkga3MgZWhFbWYgbUl1LCB1SSc5OSBrbXNJaFQga1Qga21UUSBRcGggZkVURWVFc0kgRW1mIHNJVCBUakkKICAgICAgICArKyBLbiBFVFRoa2VwVEkgUW0gVGpJIGxRZkk5IFRRIFRqSSBVRTlwSSBRaSBUakkgbUl1OXYga21zSWhUSWYgaFF1J3MgS24KICAgICAgICArKyB1amtGaiBrcyBUdnFrRkU5OXYgRW0gRXBUUS1rbUZoSWxJbVQgVUU5cEkgbEVtRUpJZiBldiBUakkgZkVURWVFc0kuCiAgICAgICAgSTlzSSB7CiAgICAgICAgICAgICRzRVVJZiA9ICRUamtzLT5xSWhpUWhsS21zSWhUKCRScElodik7CgogICAgICAgICAgICBraSAoISAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKSAmJgogICAgICAgICAgICAgICAgJEZRbW1JRlRrUW0gPSAkUnBJaHYtPkpJVG9RbW1JRlRrUW0oKSkgewogICAgICAgICAgICAgICAgJFRqa3MtPnNJVG9RbW1JRlRrUW0oJEZRbW1JRlRrUW0tPkpJVEFFbEkoKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBsUWZJOSBrcyBzcEZGSXNzaXA5OXYgc0VVSWYsIHVJIG1JSWYgVFEgZlEgRSBpSXUgbFFoSSBUamttSnMgUW1GSQogICAgICAgICsrIFRqRVQga3MgZlFtSS4gYkkgdWs5OSBGRTk5IFRqSSAic0VVSWYiIGxJVGpRZiBqSWhJIFRRIGhwbSBFbXYgRUZUa1FtcwogICAgICAgICsrIHVJIG1JSWYgVFEgakVxcUltIEVpVEloIEUgbFFmSTkgSklUcyBzcEZGSXNzaXA5OXYgc0VVSWYgaGtKalQgakloSS4KICAgICAgICBraSAoJHNFVUlmKSB7CiAgICAgICAgICAgICRUamtzLT5pa21rc2pPRVVJKCRRcVRrUW1zKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkc0VVSWY7CiAgICB9CgogICAgKyoqCiAgICAgKiBPRVVJIFRqSSBsUWZJOSBUUSBUakkgZkVURWVFc0kgdWtUamttIEUgVGhFbXNFRlRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFFxVGtRbXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICoKICAgICAqIEBUamhRdXMgXEhqaFF1RWU5SQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0VVSU1oMkVrOShFaGhFdiAkUXFUa1FtcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FtbUlGVGtRbSgpLT5UaEVtc0VGVGtRbShpbSAoKSA9PiAkVGprcy0+c0VVSSgkUXFUa1FtcykpOwogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFbXYgRUZUa1FtcyBUakVUIEVoSSBtSUZJc3NFaHYgRWlUSWggVGpJIGxRZkk5IGtzIHNFVUlmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGlrbWtzak9FVUkoRWhoRXYgJFFxVGtRbXMpCiAgICB7CiAgICAgICAgJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdzRVVJZicsIGlFOXNJKTsKCiAgICAgICAga2kgKCRUamtzLT5rc25raFR2KCkgJiYgKCRRcVRrUW1zWydUUXBGaiddID8/IFRocEkpKSB7CiAgICAgICAgICAgICRUamtzLT5UUXBGak11bUlocygpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPnN2bUZNaGtKa21FOSgpOwogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFIGxRZkk5IHBxZkVUSSBRcUloRVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcUloaVFobFBxZkVUSShycGs5ZkloICRScElodikKICAgIHsKICAgICAgICArKyBLaSBUakkgcHFmRVRrbUogSVVJbVQgaElUcGhtcyBpRTlzSSwgdUkgdWs5OSBGRW1GSTkgVGpJIHBxZkVUSSBRcUloRVRrUW0gc1EKICAgICAgICArKyBmSVVJOVFxSWhzIEZFbSBqUVE4IEJFOWtmRVRrUW0gc3ZzVElscyBrbVRRIFRqSWtoIGxRZkk5cyBFbWYgRkVtRkk5IFRqa3MKICAgICAgICArKyBRcUloRVRrUW0ga2kgVGpJIGxRZkk5IGZRSXMgbVFUIHFFc3MgVUU5a2ZFVGtRbS4gTVRqSWh1a3NJLCB1SSBwcWZFVEkuCiAgICAgICAga2kgKCRUamtzLT5pa2hJM1FmSTlnVUltVCgncHFmRVRrbUonKSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgKysgMmtoc1QgdUkgbUlJZiBUUSBGaElFVEkgRSBpaElzaiBScElodiBrbXNURW1GSSBFbWYgVFFwRmogVGpJIEZoSUVUa1FtIEVtZgogICAgICAgICsrIHBxZkVUSSBUa2xJc1RFbHEgUW0gVGpJIGxRZkk5IHVqa0ZqIEVoSSBsRWttVEVrbUlmIGV2IHBzIGlRaCBmSVVJOVFxSWgKICAgICAgICArKyBGUW1VSW1rSW1GSS4gSGpJbSB1SSB1azk5IExwc1QgRlFtVGttcEkgc0VVa21KIFRqSSBsUWZJOSBrbXNURW1GSXMuCiAgICAgICAga2kgKCRUamtzLT5wc0lzSGtsSXNURWxxcygpKSB7CiAgICAgICAgICAgICRUamtzLT5wcWZFVElIa2xJc1RFbHFzKCk7CiAgICAgICAgfQoKICAgICAgICArKyBNbUZJIHVJIGpFVUkgaHBtIFRqSSBwcWZFVEkgUXFJaEVUa1FtLCB1SSB1azk5IGlraEkgVGpJICJwcWZFVElmIiBJVUltVCBpUWgKICAgICAgICArKyBUamtzIGxRZkk5IGttc1RFbUZJLiBIamtzIHVrOTkgRTk5UXUgZklVSTlRcUlocyBUUSBqUVE4IGttVFEgVGpJc0kgRWlUSWgKICAgICAgICArKyBsUWZJOXMgRWhJIHBxZkVUSWYsIEprVWttSiBUaklsIEUgRmpFbUZJIFRRIGZRIEVtdiBzcUlGa0U5IHFoUUZJc3NrbUouCiAgICAgICAgJGZraFR2ID0gJFRqa3MtPkpJVG5raFR2MlFoUHFmRVRJKCk7CgogICAgICAgIGtpIChGUXBtVCgkZmtoVHYpID4gdykgewogICAgICAgICAgICAkVGprcy0+c0lUMUl2czJRaE9FVUlHcElodigkUnBJaHYpLT5wcWZFVEkoJGZraFR2KTsKCiAgICAgICAgICAgICRUamtzLT5zdm1Gb2pFbUpJcygpOwoKICAgICAgICAgICAgJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdwcWZFVElmJywgaUU5c0kpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIDhJdnMgaVFoIEUgc0k5SUZUIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaCAgJFJwSWh2CiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHNJVDFJdnMyUWhPSTlJRlRHcElodigkUnBJaHYpCiAgICB7CiAgICAgICAgJFJwSWh2LT51akloSSgkVGprcy0+SklUMUl2QUVsSSgpLCAnPScsICRUamtzLT5KSVQxSXYyUWhPSTlJRlRHcElodigpKTsKCiAgICAgICAgaElUcGhtICRScElodjsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgcWhrbEVodiA4SXYgVUU5cEkgaVFoIEUgc0k5SUZUIFJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVDFJdjJRaE9JOUlGVEdwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlFoa0prbUU5WyRUamtzLT5KSVQxSXZBRWxJKCldID8/ICRUamtzLT5KSVQxSXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgOEl2cyBpUWggRSBzRVVJIHBxZkVUSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBzSVQxSXZzMlFoT0VVSUdwSWh2KCRScElodikKICAgIHsKICAgICAgICAkUnBJaHYtPnVqSWhJKCRUamtzLT5KSVQxSXZBRWxJKCksICc9JywgJFRqa3MtPkpJVDFJdjJRaE9FVUlHcElodigpKTsKCiAgICAgICAgaElUcGhtICRScElodjsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgcWhrbEVodiA4SXYgVUU5cEkgaVFoIEUgc0VVSSBScElodi4KICAgICAqCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVQxSXYyUWhPRVVJR3BJaHYoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UWhrSmttRTlbJFRqa3MtPkpJVDFJdkFFbEkoKV0gPz8gJFRqa3MtPkpJVDFJdigpOwogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFIGxRZkk5IGttc0loVCBRcUloRVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcUloaVFobEttc0loVChycGs5ZkloICRScElodikKICAgIHsKICAgICAgICBraSAoJFRqa3MtPnBzSXNQbWtScElLZnMoKSkgewogICAgICAgICAgICAkVGprcy0+c0lUUG1rUnBJS2ZzKCk7CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdGaElFVGttSicpID09PSBpRTlzSSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICArKyAya2hzVCB1SSc5OSBtSUlmIFRRIEZoSUVUSSBFIGloSXNqIFJwSWh2IGttc1RFbUZJIEVtZiBUUXBGaiBUakkgRmhJRVRrUW0gRW1mCiAgICAgICAgKysgcHFmRVRJIFRrbElzVEVscXMgUW0gVGprcyBsUWZJOSwgdWprRmogRWhJIGxFa21URWttSWYgZXYgcHMgaVFoIGZJVUk5UXFJaAogICAgICAgICsrIEZRbVVJbWtJbUZJLiB0aVRJaCwgdUkgdWs5OSBMcHNUIEZRbVRrbXBJIHNFVWttSiBUaklzSSBsUWZJOSBrbXNURW1GSXMuCiAgICAgICAga2kgKCRUamtzLT5wc0lzSGtsSXNURWxxcygpKSB7CiAgICAgICAgICAgICRUamtzLT5wcWZFVElIa2xJc1RFbHFzKCk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgbFFmSTkgakVzIEVtIGttRmhJbEltVGttSiA4SXYsIHVJIEZFbSBwc0kgVGpJICJrbXNJaFQwSVRLZiIgbElUalFmIFFtCiAgICAgICAgKysgVGpJIFJwSWh2IGVwazlmSWgsIHVqa0ZqIHVrOTkgSmtVSSBwcyBlRUY4IFRqSSBpa21FOSBrbXNJaFRJZiBLbiBpUWggVGprcwogICAgICAgICsrIFRFZTlJIGloUWwgVGpJIGZFVEVlRXNJLiBBUVQgRTk5IFRFZTlJcyBqRVVJIFRRIGVJIGttRmhJbEltVGttSiBUalFwSmouCiAgICAgICAgJEVUVGhrZXBUSXMgPSAkVGprcy0+SklUdFRUaGtlcFRJczJRaEttc0loVCgpOwoKICAgICAgICBraSAoJFRqa3MtPkpJVEttRmhJbEltVGttSigpKSB7CiAgICAgICAgICAgICRUamtzLT5rbXNJaFR0bWZPSVRLZigkUnBJaHYsICRFVFRoa2VwVElzKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBURWU5SSBrc20nVCBrbUZoSWxJbVRrbUogdUknOTkgc2tscTl2IGttc0loVCBUaklzSSBFVFRoa2VwVElzIEVzIFRqSXYKICAgICAgICArKyBFaEkuIEhqSXNJIEVUVGhrZXBUSSBFaGhFdnMgbHBzVCBGUW1URWttIEVtICJrZiIgRlE5cGxtIHFoSVVrUXBzOXYgcTlFRklmCiAgICAgICAgKysgVGpJaEkgZXYgVGpJIGZJVUk5UXFJaCBFcyBUakkgbEVtcEU5OXYgZklUSWhsa21JZiA4SXYgaVFoIFRqSXNJIGxRZkk5cy4KICAgICAgICBJOXNJIHsKICAgICAgICAgICAga2kgKElscVR2KCRFVFRoa2VwVElzKSkgewogICAgICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRScElodi0+a21zSWhUKCRFVFRoa2VwVElzKTsKICAgICAgICB9CgogICAgICAgICsrIGJJIHVrOTkgSlEgRWpJRWYgRW1mIHNJVCBUakkgSVZrc1RzIHFoUXFJaFR2IFRRIFRocEksIHNRIFRqRVQga1Qga3Mgc0lUIHVqSW0KICAgICAgICArKyBUakkgRmhJRVRJZiBJVUltVCBrcyBpa2hJZiwgTHBzVCBrbSBGRXNJIFRqSSBmSVVJOVFxSWggVGhrSXMgVFEgcHFmRVRJIGtUCiAgICAgICAgKysgZnBoa21KIFRqSSBJVUltVC4gSGprcyB1azk5IEU5OVF1IFRqSWwgVFEgZlEgc1EgRW1mIGhwbSBFbSBwcWZFVEkgakloSS4KICAgICAgICAkVGprcy0+SVZrc1RzID0gVGhwSTsKCiAgICAgICAgJFRqa3MtPnVFc05JRkltVDl2b2hJRVRJZiA9IFRocEk7CgogICAgICAgICRUamtzLT5pa2hJM1FmSTlnVUltVCgnRmhJRVRJZicsIGlFOXNJKTsKCiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbXNJaFQgVGpJIEprVUltIEVUVGhrZXBUSXMgRW1mIHNJVCBUakkgS24gUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaCAgJFJwSWh2CiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrbXNJaFR0bWZPSVRLZihycGs5ZkloICRScElodiwgJEVUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgJGtmID0gJFJwSWh2LT5rbXNJaFQwSVRLZigkRVRUaGtlcFRJcywgJDhJdkFFbEkgPSAkVGprcy0+SklUMUl2QUVsSSgpKTsKCiAgICAgICAgJFRqa3MtPnNJVHRUVGhrZXBUSSgkOEl2QUVsSSwgJGtmKTsKICAgIH0KCiAgICArKioKICAgICAqIG5Jc1RoUXYgVGpJIGxRZkk5cyBpUWggVGpJIEprVUltIEtucy4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxLOTlwbGttRVRJXE9wcXFRaFRcb1E5OUlGVGtRbXxFaGhFdnxrbVR8c1Roa21KICAka2ZzCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGZJc1RoUXYoJGtmcykKICAgIHsKICAgICAgICBraSAoJGtmcyBrbXNURW1GSVFpIGc5UVJwSW1Ub1E5OUlGVGtRbSkgewogICAgICAgICAgICAka2ZzID0gJGtmcy0+bFFmSTkxSXZzKCk7CiAgICAgICAgfQoKICAgICAgICBraSAoJGtmcyBrbXNURW1GSVFpIHJFc0lvUTk5SUZUa1FtKSB7CiAgICAgICAgICAgICRrZnMgPSAka2ZzLT5FOTkoKTsKICAgICAgICB9CgogICAgICAgICRrZnMgPSBrc19FaGhFdigka2ZzKSA/ICRrZnMgOiBpcG1GX0pJVF9FaEpzKCk7CgogICAgICAgIGtpIChGUXBtVCgka2ZzKSA9PT0gdykgewogICAgICAgICAgICBoSVRwaG0gdzsKICAgICAgICB9CgogICAgICAgICsrIGJJIHVrOTkgRUZUcEU5OXYgcXA5OSBUakkgbFFmSTlzIGloUWwgVGpJIGZFVEVlRXNJIFRFZTlJIEVtZiBGRTk5IGZJOUlUSSBRbQogICAgICAgICsrIElFRmogUWkgVGpJbCBrbWZrVWtmcEU5OXYgc1EgVGpFVCBUaklraCBJVUltVHMgSklUIGlraElmIHFoUXFJaDl2IHVrVGogRQogICAgICAgICsrIEZRaGhJRlQgc0lUIFFpIEVUVGhrZXBUSXMga20gRkVzSSBUakkgZklVSTlRcUlocyB1RW1UcyBUUSBGaklGOCBUaklzSS4KICAgICAgICAkOEl2ID0gKCRrbXNURW1GSSA9IG1JdSBzVEVUa0YpLT5KSVQxSXZBRWxJKCk7CgogICAgICAgICRGUXBtVCA9IHc7CgogICAgICAgIGlRaElFRmogKCRrbXNURW1GSS0+dWpJaElLbSgkOEl2LCAka2ZzKS0+SklUKCkgRXMgJGxRZkk5KSB7CiAgICAgICAgICAgIGtpICgkbFFmSTktPmZJOUlUSSgpKSB7CiAgICAgICAgICAgICAgICAkRlFwbVQvLzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRGUXBtVDsKICAgIH0KCiAgICArKioKICAgICAqIG5JOUlUSSBUakkgbFFmSTkgaWhRbCBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5fG1wOTkKICAgICAqCiAgICAgKiBAVGpoUXVzIFw2UUprRmdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZkk5SVRJKCkKICAgIHsKICAgICAgICAkVGprcy0+bEloSkl0VFRoa2VwVElzMmhRbG9FRmpJZm9Fc1RzKCk7CgogICAgICAgIGtpIChrc19tcDk5KCRUamtzLT5KSVQxSXZBRWxJKCkpKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSA2UUprRmdWRklxVGtRbSgnQVEgcWhrbEVodiA4SXYgZklpa21JZiBRbSBsUWZJOS4nKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBsUWZJOSBmUUlzbSdUIElWa3NULCBUakloSSBrcyBtUVRqa21KIFRRIGZJOUlUSSBzUSB1SSc5OSBMcHNUIGhJVHBobQogICAgICAgICsrIGtsbElma0VUSTl2IEVtZiBtUVQgZlEgRW12VGprbUogSTlzSS4gTVRqSWh1a3NJLCB1SSB1azk5IEZRbVRrbXBJIHVrVGogRQogICAgICAgICsrIGZJOUlUa1FtIHFoUUZJc3MgUW0gVGpJIGxRZkk5LCBpa2hrbUogVGpJIHFoUXFJaCBJVUltVHMsIEVtZiBzUSBpUWhUai4KICAgICAgICBraSAoISAkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgIGhJVHBobTsKICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ2ZJOUlUa21KJykgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgICsrIFNJaEksIHVJJzk5IFRRcEZqIFRqSSBRdW1rbUogbFFmSTlzLCBVSWhraXZrbUogVGpJc0kgVGtsSXNURWxxcyBKSVQgcHFmRVRJZgogICAgICAgICsrIGlRaCBUakkgbFFmSTlzLiBIamtzIHVrOTkgRTk5UXUgRW12IEZFRmprbUogVFEgSklUIGVoUThJbSBRbSBUakkgcUVoSW1UcwogICAgICAgICsrIGV2IFRqSSBUa2xJc1RFbHEuIEhqSW0gdUkgdWs5OSBKUSBFaklFZiBFbWYgZkk5SVRJIFRqSSBsUWZJOSBrbXNURW1GSS4KICAgICAgICAkVGprcy0+VFFwRmpNdW1JaHMoKTsKCiAgICAgICAgJFRqa3MtPnFJaGlRaGxuSTlJVElNbTNRZkk5KCk7CgogICAgICAgICsrIE1tRkkgVGpJIGxRZkk5IGpFcyBlSUltIGZJOUlUSWYsIHVJIHVrOTkgaWtoSSBRaWkgVGpJIGZJOUlUSWYgSVVJbVQgc1EgVGpFVAogICAgICAgICsrIFRqSSBmSVVJOVFxSWhzIGxFdiBqUVE4IGttVFEgcVFzVC1mSTlJVEkgUXFJaEVUa1Ftcy4gYkkgdWs5OSBUakltIGhJVHBobQogICAgICAgICsrIEUgZVFROUlFbSBUaHBJIEVzIFRqSSBmSTlJVEkga3MgcWhJc3BsRWU5diBzcEZGSXNzaXA5IFFtIFRqSSBmRVRFZUVzSS4KICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ2ZJOUlUSWYnLCBpRTlzSSk7CgogICAgICAgIGhJVHBobSBUaHBJOwogICAgfQoKICAgICsqKgogICAgICogbkk5SVRJIFRqSSBsUWZJOSBpaFFsIFRqSSBmRVRFZUVzSSB1a1RqUXBUIGhFa3NrbUogRW12IElVSW1Ucy4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZJOUlUSUdwa0lUOXYoKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OnVrVGpRcFRnVUltVHMoaW0gKCkgPT4gJFRqa3MtPmZJOUlUSSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JOUlUSSBUakkgbFFmSTkgaWhRbCBUakkgZkVURWVFc0kgdWtUamttIEUgVGhFbXNFRlRrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5fG1wOTkKICAgICAqCiAgICAgKiBAVGpoUXVzIFxIamhRdUVlOUkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZJOUlUSU1oMkVrOSgpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVG9RbW1JRlRrUW0oKS0+VGhFbXNFRlRrUW0oaW0gKCkgPT4gJFRqa3MtPmZJOUlUSSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIDJRaEZJIEUgakVoZiBmSTlJVEkgUW0gRSBzUWlUIGZJOUlUSWYgbFFmSTkuCiAgICAgKgogICAgICogSGprcyBsSVRqUWYgcWhRVElGVHMgZklVSTlRcUlocyBpaFFsIGhwbW1rbUogaVFoRkluSTlJVEkgdWpJbSBUakkgVGhFa1Qga3MgbGtzc2ttSi4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTl8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaVFoRkluSTlJVEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+Zkk5SVRJKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhSWhpUWhsIFRqSSBFRlRwRTkgZkk5SVRJIFJwSWh2IFFtIFRqa3MgbFFmSTkga21zVEVtRkkuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxSWhpUWhsbkk5SVRJTW0zUWZJOSgpCiAgICB7CiAgICAgICAgJFRqa3MtPnNJVDFJdnMyUWhPRVVJR3BJaHYoJFRqa3MtPm1JdTNRZkk5R3BJaHYoKSktPmZJOUlUSSgpOwoKICAgICAgICAkVGprcy0+SVZrc1RzID0gaUU5c0k7CiAgICB9CgogICAgKyoqCiAgICAgKiBySUprbSBScElodmttSiBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gUnBJaHYoKQogICAgewogICAgICAgIGhJVHBobSAobUl1IHNURVRrRiktPm1JdUdwSWh2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBtSXUgUnBJaHYgZXBrOWZJaCBpUWggVGpJIGxRZkk5J3MgVEVlOUkuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVHcElodigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSUprc1RJaDA5UWVFOU9GUXFJcygkVGprcy0+bUl1R3BJaHZia1RqUXBUT0ZRcUlzKCkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGVwazlmSWggVGpFVCBmUUlzbSdUIGpFVUkgRW12IEo5UWVFOSBzRlFxSXMgUWggSUVKSWggOVFFZmttSi4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWh8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXUzUWZJOUdwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdWc5UVJwSW1UcnBrOWZJaCgKICAgICAgICAgICAgJFRqa3MtPm1JdXJFc0lHcElodnJwazlmSWgoKQogICAgICAgICktPnNJVDNRZkk5KCRUamtzKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBScElodiBlcGs5ZkloIHVrVGogbVEgaEk5RVRrUW1zamtxcyA5UUVmSWYuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVHcElodmJrVGpRcFROSTlFVGtRbXNqa3FzKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJSmtzVEloMDlRZUU5T0ZRcUlzKCRUamtzLT5tSXUzUWZJOUdwSWh2KCkpOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggVGpJIEo5UWVFOSBzRlFxSXMgaVFoIFRqa3MgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWggICRlcGs5ZkloCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJSmtzVEloMDlRZUU5T0ZRcUlzKCRlcGs5ZkloKQogICAgewogICAgICAgIGlRaElFRmogKCRUamtzLT5KSVQwOVFlRTlPRlFxSXMoKSBFcyAka2ZJbVRraWtJaCA9PiAkc0ZRcUkpIHsKICAgICAgICAgICAgJGVwazlmSWgtPnVrVGowOVFlRTlPRlFxSSgka2ZJbVRraWtJaCwgJHNGUXFJKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkZXBrOWZJaDsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBScElodiBlcGs5ZkloIFRqRVQgZlFJc20nVCBqRVVJIEVtdiBKOVFlRTkgc0ZRcUlzLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaHxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUdwSWh2YmtUalFwVE9GUXFJcygpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5tSXUzUWZJOUdwSWh2KCkKICAgICAgICAgICAgLT51a1RqKCRUamtzLT51a1RqKQogICAgICAgICAgICAtPnVrVGpvUXBtVCgkVGprcy0+dWtUam9RcG1UKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBScElodiBrbXNURW1GSSB1a1RqUXBUIEUgSmtVSW0gc0ZRcUkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxPRlFxSXxzVGhrbUogICRzRlFxSQogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVHcElodmJrVGpRcFRPRlFxSSgkc0ZRcUkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5tSXVHcElodigpLT51a1RqUXBUMDlRZUU5T0ZRcUkoJHNGUXFJKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBScElodiBUUSBoSXNUUWhJIFFtSSBRaCBsUWhJIGxRZkk5cyBldiBUaklraCBScElwSUVlOUkgS25zLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8a21UICAka2ZzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUdwSWh2MlFoTklzVFFoRVRrUW0oJGtmcykKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdUdwSWh2YmtUalFwVE9GUXFJcygpLT51akloSTFJdigka2ZzKTsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFIG1JdSBnOVFScEltVCBScElodiBlcGs5ZkloIGlRaCBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxHcElodlxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaHxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdWc5UVJwSW1UcnBrOWZJaCgkUnBJaHYpCiAgICB7CiAgICAgICAgaElUcGhtIG1JdSBycGs5ZkloKCRScElodik7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBtSXUgUnBJaHYgZXBrOWZJaCBrbXNURW1GSSBpUWggVGpJIEZRbW1JRlRrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxHcElodlxycGs5ZkloCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBtSXVyRXNJR3BJaHZycGs5ZkloKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVG9RbW1JRlRrUW0oKS0+UnBJaHYoKTsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFIG1JdSBnOVFScEltVCBvUTk5SUZUa1FtIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRsUWZJOXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb1E5OUlGVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1b1E5OUlGVGtRbShFaGhFdiAkbFFmSTlzID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtIG1JdSBvUTk5SUZUa1FtKCRsUWZJOXMpOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IHFrVVFUIGxRZkk5IGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTkgICRxRWhJbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFRFZTlJCiAgICAgKiBAcUVoRWwgIGVRUTkgICRJVmtzVHMKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRwc2ttSgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxOSTlFVGtRbXNcYWtVUVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdWFrVVFUKHNJOWkgJHFFaEltVCwgRWhoRXYgJEVUVGhrZXBUSXMsICRURWU5SSwgJElWa3NUcywgJHBza21KID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gJHBza21KID8gJHBza21KOjppaFFsTkV1dFRUaGtlcFRJcygkcUVoSW1ULCAkRVRUaGtlcFRJcywgJFRFZTlJLCAkSVZrc1RzKQogICAgICAgICAgICA6IGFrVVFUOjppaFFsdFRUaGtlcFRJcygkcUVoSW1ULCAkRVRUaGtlcFRJcywgJFRFZTlJLCAkSVZrc1RzKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgbFFmSTkgakVzIEUgSmtVSW0gc0ZRcUkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRzRlFxSQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRXNBRWxJZk9GUXFJKCRzRlFxSSkKICAgIHsKICAgICAgICBoSVRwaG0gbElUalFmX0lWa3NUcygkVGprcywgJ3NGUXFJJy5wRmlraHNUKCRzRlFxSSkpOwogICAgfQoKICAgICsqKgogICAgICogdHFxOXYgVGpJIEprVUltIG1FbElmIHNGUXFJIGtpIHFRc3NrZTlJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkc0ZRcUkKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGRTk5QUVsSWZPRlFxSSgkc0ZRcUksIEVoaEV2ICRxRWhFbElUSWhzID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT57J3NGUXFJJy5wRmlraHNUKCRzRlFxSSl9KC4uLiRxRWhFbElUSWhzKTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbVVJaFQgVGpJIGxRZkk5IGttc1RFbUZJIFRRIEVtIEVoaEV2LgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFRRdGhoRXYoKQogICAgewogICAgICAgIGhJVHBobSBFaGhFdl9sSWhKSSgkVGprcy0+RVRUaGtlcFRJc0hRdGhoRXYoKSwgJFRqa3MtPmhJOUVUa1Ftc0hRdGhoRXYoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUW1VSWhUIFRqSSBsUWZJOSBrbXNURW1GSSBUUSBET01BLgogICAgICoKICAgICAqIEBxRWhFbCAga21UICAkUXFUa1FtcwogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqCiAgICAgKiBAVGpoUXVzIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXERzUW1nbUZRZmttSmdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gVFFEc1FtKCRRcVRrUW1zID0gdykKICAgIHsKICAgICAgICAkTHNRbSA9IExzUW1fSW1GUWZJKCRUamtzLT5Mc1FtT0loa0U5a1dJKCksICRRcVRrUW1zKTsKCiAgICAgICAga2kgKExzUW1fOUVzVF9JaGhRaCgpICE9PSBET01BX2dOTk1OX0FNQWcpIHsKICAgICAgICAgICAgVGpoUXUgRHNRbWdtRlFma21KZ1ZGSXFUa1FtOjppUWgzUWZJOSgkVGprcywgTHNRbV85RXNUX0loaFFoX2xzSigpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkTHNRbTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbVVJaFQgVGpJIFFlTElGVCBrbVRRIHNRbElUamttSiBET01BIHNJaGtFOWtXRWU5SS4KICAgICAqCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBMc1FtT0loa0U5a1dJKCk6IGxrVklmCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5UUXRoaEV2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSTlRRWYgRSBpaElzaiBsUWZJOSBrbXNURW1GSSBpaFFsIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJHVrVGoKICAgICAqIEBoSVRwaG0gc1RFVGtGfG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloSXNqKCR1a1RqID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG07CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnNJVDFJdnMyUWhPSTlJRlRHcElodigkVGprcy0+bUl1R3BJaHZia1RqUXBUT0ZRcUlzKCkpCiAgICAgICAgICAgIC0+cHNJYmhrVElhZlEoKQogICAgICAgICAgICAtPnVrVGooa3Nfc1Roa21KKCR1a1RqKSA/IGlwbUZfSklUX0VoSnMoKSA6ICR1a1RqKQogICAgICAgICAgICAtPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSTlRRWYgVGpJIEZwaGhJbVQgbFFmSTkga21zVEVtRkkgdWtUaiBpaElzaiBFVFRoa2VwVElzIGloUWwgVGpJIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJaWhJc2ooKQogICAgewogICAgICAgIGtpICghICRUamtzLT5JVmtzVHMpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPnNJVE5FdXRUVGhrZXBUSXMoCiAgICAgICAgICAgICRUamtzLT5zSVQxSXZzMlFoT0k5SUZUR3BJaHYoJFRqa3MtPm1JdUdwSWh2YmtUalFwVE9GUXFJcygpKQogICAgICAgICAgICAgICAgLT5wc0liaGtUSWFmUSgpCiAgICAgICAgICAgICAgICAtPmlraHNUTWgyRWs5KCkKICAgICAgICAgICAgICAgIC0+RVRUaGtlcFRJcwogICAgICAgICk7CgogICAgICAgICRUamtzLT45UUVmKEZROTlJRlQoJFRqa3MtPmhJOUVUa1FtcyktPmhJTElGVChpcG1GVGtRbSAoJGhJOUVUa1FtKSB7CiAgICAgICAgICAgIGhJVHBobSAkaEk5RVRrUW0ga21zVEVtRklRaSBha1VRVAogICAgICAgICAgICAgICAgfHwgKGtzX1FlTElGVCgkaEk5RVRrUW0pICYmIGttX0VoaEV2KHRzYWtVUVQ6OkY5RXNzLCBGOUVzc19wc0lzX2hJRnBoc2tVSSgkaEk5RVRrUW0pLCBUaHBJKSk7CiAgICAgICAgfSktPjhJdnMoKS0+RTk5KCkpOwoKICAgICAgICAkVGprcy0+c3ZtRk1oa0prbUU5KCk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBsUWZJOSBrbVRRIEUgbUl1LCBtUW0tSVZrc1RrbUoga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxtcDk5ICAkSVZGSXFUCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElxOWtGRVRJKEVoaEV2ICRJVkZJcVQgPSBtcDk5KQogICAgewogICAgICAgICRmSWlFcDlUcyA9IEVoaEV2X1VFOXBJcyhFaGhFdl9pazlUSWgoWwogICAgICAgICAgICAkVGprcy0+SklUMUl2QUVsSSgpLAogICAgICAgICAgICAkVGprcy0+SklUb2hJRVRJZnRUb1E5cGxtKCksCiAgICAgICAgICAgICRUamtzLT5KSVRQcWZFVElmdFRvUTlwbG0oKSwKICAgICAgICAgICAgLi4uJFRqa3MtPnBta1JwSUtmcygpLAogICAgICAgIF0pKTsKCiAgICAgICAgJEVUVGhrZXBUSXMgPSB0aGg6OklWRklxVCgKICAgICAgICAgICAgJFRqa3MtPkpJVHRUVGhrZXBUSXMoKSwgJElWRklxVCA/IEVoaEV2X3Bta1JwSShFaGhFdl9sSWhKSSgkSVZGSXFULCAkZklpRXA5VHMpKSA6ICRmSWlFcDlUcwogICAgICAgICk7CgogICAgICAgIGhJVHBobSBURXEobUl1IHNURVRrRiwgaXBtRlRrUW0gKCRrbXNURW1GSSkgcHNJICgkRVRUaGtlcFRJcykgewogICAgICAgICAgICAka21zVEVtRkktPnNJVE5FdXRUVGhrZXBUSXMoJEVUVGhrZXBUSXMpOwoKICAgICAgICAgICAgJGttc1RFbUZJLT5zSVROSTlFVGtRbXMoJFRqa3MtPmhJOUVUa1Ftcyk7CgogICAgICAgICAgICAka21zVEVtRkktPmlraEkzUWZJOWdVSW1UKCdoSXE5a0ZFVGttSicsIGlFOXNJKTsKICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIG85UW1JIFRqSSBsUWZJOSBrbVRRIEUgbUl1LCBtUW0tSVZrc1RrbUoga21zVEVtRkkgdWtUalFwVCBoRWtza21KIEVtdiBJVUltVHMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxtcDk5ICAkSVZGSXFUCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElxOWtGRVRJR3BrSVQ5dihFaGhFdiAkSVZGSXFUID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjp1a1RqUXBUZ1VJbVRzKGltICgpID0+ICRUamtzLT5oSXE5a0ZFVEkoJElWRklxVCkpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFR1USBsUWZJOXMgakVVSSBUakkgc0VsSSBLbiBFbWYgZUk5UW1KIFRRIFRqSSBzRWxJIFRFZTlJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8bXA5OSAgJGxRZkk5CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGtzKCRsUWZJOSkKICAgIHsKICAgICAgICBoSVRwaG0gISBrc19tcDk5KCRsUWZJOSkgJiYKICAgICAgICAgICAgJFRqa3MtPkpJVDFJdigpID09PSAkbFFmSTktPkpJVDFJdigpICYmCiAgICAgICAgICAgICRUamtzLT5KSVRIRWU5SSgpID09PSAkbFFmSTktPkpJVEhFZTlJKCkgJiYKICAgICAgICAgICAgJFRqa3MtPkpJVG9RbW1JRlRrUW1BRWxJKCkgPT09ICRsUWZJOS0+SklUb1FtbUlGVGtRbUFFbEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUdVEgbFFmSTlzIEVoSSBtUVQgVGpJIHNFbEkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxtcDk5ICAkbFFmSTkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga3NBUVQoJGxRZkk5KQogICAgewogICAgICAgIGhJVHBobSAhICRUamtzLT5rcygkbFFmSTkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBmRVRFZUVzSSBGUW1tSUZUa1FtIGlRaCBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxvUW1tSUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvUW1tSUZUa1FtKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjpoSXNROVVJb1FtbUlGVGtRbSgkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEZwaGhJbVQgRlFtbUlGVGtRbSBtRWxJIGlRaCBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUp8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb1FtbUlGVGtRbUFFbEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RlFtbUlGVGtRbTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgRlFtbUlGVGtRbSBFc3NRRmtFVElmIHVrVGogVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRtRWxJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRvUW1tSUZUa1FtKCRtRWxJKQogICAgewogICAgICAgICRUamtzLT5GUW1tSUZUa1FtID0gJG1FbEk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIE5Jc1E5VUkgRSBGUW1tSUZUa1FtIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRGUW1tSUZUa1FtCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXG9RbW1JRlRrUW0KICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBoSXNROVVJb1FtbUlGVGtRbSgkRlFtbUlGVGtRbSA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6JGhJc1E5VUloLT5GUW1tSUZUa1FtKCRGUW1tSUZUa1FtKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRlFtbUlGVGtRbSBoSXNROVVJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXG9RbW1JRlRrUW1OSXNROVVJaEttVEloaUVGSXxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gSklUb1FtbUlGVGtRbU5Jc1E5VUloKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjokaElzUTlVSWg7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIEZRbW1JRlRrUW0gaElzUTlVSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxvUW1tSUZUa1FtTklzUTlVSWhLbVRJaGlFRkkgICRoSXNROVVJaAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gc0lUb1FtbUlGVGtRbU5Jc1E5VUloKE5Jc1E5VUloICRoSXNROVVJaCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRoSXNROVVJaCA9ICRoSXNROVVJaDsKICAgIH0KCiAgICArKioKICAgICAqIFBtc0lUIFRqSSBGUW1tSUZUa1FtIGhJc1E5VUloIGlRaCBsUWZJOXMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcG1zSVRvUW1tSUZUa1FtTklzUTlVSWgoKQogICAgewogICAgICAgIHNURVRrRjo6JGhJc1E5VUloID0gbXA5OTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVEVlOUkgRXNzUUZrRVRJZiB1a1RqIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUSEVlOUkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+VEVlOUkgPz8gT1RoOjpzbUU4SShPVGg6OnE5cGhFOU9UcGY5dihGOUVzc19lRXNJbUVsSSgkVGprcykpKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgVEVlOUkgRXNzUUZrRVRJZiB1a1RqIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFRFZTlJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRIRWU5SSgkVEVlOUkpCiAgICB7CiAgICAgICAgJFRqa3MtPlRFZTlJID0gJFRFZTlJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIHFoa2xFaHYgOEl2IGlRaCBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDFJdkFFbEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cWhrbEVodjFJdjsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgcWhrbEVodiA4SXYgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUMUl2QUVsSSgkOEl2KQogICAgewogICAgICAgICRUamtzLT5xaGtsRWh2MUl2ID0gJDhJdjsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBURWU5SSBScEU5a2lrSWYgOEl2IG1FbEkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEdwRTlraWtJZjFJdkFFbEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UnBFOWtpdm9ROXBsbSgkVGprcy0+SklUMUl2QUVsSSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRXBUUS1rbUZoSWxJbVRrbUogOEl2IFR2cUkuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDFJdkh2cUkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OEl2SHZxSTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgZkVURSBUdnFJIGlRaCBUakkgcWhrbEVodiA4SXYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRUdnFJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVQxSXZIdnFJKCRUdnFJKQogICAgewogICAgICAgICRUamtzLT44SXZIdnFJID0gJFR2cUk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkga21ma0ZFVGttSiB1aklUakloIFRqSSBLbnMgRWhJIGttRmhJbEltVGttSi4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEttRmhJbEltVGttSigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5rbUZoSWxJbVRrbUo7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgdWpJVGpJaCBLbnMgRWhJIGttRmhJbEltVGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUS21GaElsSW1Ua21KKCRVRTlwSSkKICAgIHsKICAgICAgICAkVGprcy0+a21GaElsSW1Ua21KID0gJFVFOXBJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFVFOXBJIFFpIFRqSSBsUWZJOSdzIHFoa2xFaHYgOEl2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDFJdigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0VFRoa2VwVEkoJFRqa3MtPkpJVDFJdkFFbEkoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFJwSXBJRWU5SSBrZkltVGtUdiBpUWggVGpJIEltVGtUdi4KICAgICAqCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRHcElwSUVlOUlLZigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVQxSXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgUnBJcElFZTlJIGhJOUVUa1Ftc2prcXMgaVFoIFRqSSBJbVRrVHYuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUR3BJcElFZTlJTkk5RVRrUW1zKCkKICAgIHsKICAgICAgICAkaEk5RVRrUW1zID0gW107CgogICAgICAgIGlRaElFRmogKCRUamtzLT5KSVROSTlFVGtRbXMoKSBFcyAkOEl2ID0+ICRoSTlFVGtRbSkgewogICAgICAgICAgICBraSAoISBsSVRqUWZfSVZrc1RzKCRUamtzLCAkOEl2KSkgewogICAgICAgICAgICAgICAgRlFtVGttcEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRoSTlFVGtRbXNbXSA9ICQ4SXY7CgogICAgICAgICAgICBraSAoJGhJOUVUa1FtIGttc1RFbUZJUWkgR3BJcElFZTlJb1E5OUlGVGtRbSkgewogICAgICAgICAgICAgICAgaVFoSUVGaiAoJGhJOUVUa1FtLT5KSVRHcElwSUVlOUlOSTlFVGtRbXMoKSBFcyAkRlE5OUlGVGtRbUJFOXBJKSB7CiAgICAgICAgICAgICAgICAgICAgJGhJOUVUa1Ftc1tdID0gJDhJdi4nLicuJEZROTlJRlRrUW1CRTlwSTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAga2kgKCRoSTlFVGtRbSBrbXNURW1GSVFpIEdwSXBJRWU5SWdtVGtUdikgewogICAgICAgICAgICAgICAgaVFoSUVGaiAoJGhJOUVUa1FtLT5KSVRHcElwSUVlOUlOSTlFVGtRbXMoKSBFcyAkSW1Ua1R2QkU5cEkpIHsKICAgICAgICAgICAgICAgICAgICAkaEk5RVRrUW1zW10gPSAkOEl2LicuJy4kSW1Ua1R2QkU5cEk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSBFaGhFdl9wbWtScEkoJGhJOUVUa1Ftcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFJwSXBJRWU5SSBGUW1tSUZUa1FtIGlRaCBUakkgSW1Ua1R2LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KfG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEdwSXBJRWU5SW9RbW1JRlRrUW0oKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkgUWkgVGpJIGxRZkk5J3MgaFFwVEkgOEl2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVE5RcFRJMUl2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVHRUVGhrZXBUSSgkVGprcy0+SklUTlFwVEkxSXZBRWxJKCkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBoUXBUSSA4SXYgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUTlFwVEkxSXZBRWxJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVDFJdkFFbEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBsUWZJOSBpUWggRSBlUXBtZiBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRpa0k5ZgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSXNROVVJTlFwVElya21ma21KKCRVRTlwSSwgJGlrSTlmID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJc1E5VUlOUXBUSXJrbWZrbUpHcElodigkVGprcywgJFVFOXBJLCAkaWtJOWYpLT5pa2hzVCgpOwogICAgfQoKICAgICsqKgogICAgICogTklUaGtJVUkgVGpJIGxRZkk5IGlRaCBFIGVRcG1mIFVFOXBJLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJc1E5VUlPUWlUbkk5SVRFZTlJTlFwVElya21ma21KKCRVRTlwSSwgJGlrSTlmID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJc1E5VUlOUXBUSXJrbWZrbUpHcElodigkVGprcywgJFVFOXBJLCAkaWtJOWYpLT51a1RqSGhFc2pJZigpLT5pa2hzVCgpOwogICAgfQoKICAgICsqKgogICAgICogTklUaGtJVUkgVGpJIEZqazlmIGxRZkk5IGlRaCBFIGVRcG1mIFVFOXBJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRmprOWZIdnFJCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRpa0k5ZgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSXNROVVJb2prOWZOUXBUSXJrbWZrbUooJEZqazlmSHZxSSwgJFVFOXBJLCAkaWtJOWYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSXNROVVJb2prOWZOUXBUSXJrbWZrbUpHcElodigkRmprOWZIdnFJLCAkVUU5cEksICRpa0k5ZiktPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgRmprOWYgbFFmSTkgaVFoIEUgZVFwbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGams5Zkh2cUkKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJc1E5VUlPUWlUbkk5SVRFZTlJb2prOWZOUXBUSXJrbWZrbUooJEZqazlmSHZxSSwgJFVFOXBJLCAkaWtJOWYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSXNROVVJb2prOWZOUXBUSXJrbWZrbUpHcElodigkRmprOWZIdnFJLCAkVUU5cEksICRpa0k5ZiktPnVrVGpIaEVzaklmKCktPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgRmprOWYgbFFmSTkgUnBJaHYgaVFoIEUgZVFwbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGams5Zkh2cUkKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xOSTlFVGtRbQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gaElzUTlVSW9qazlmTlFwVElya21ma21KR3BJaHYoJEZqazlmSHZxSSwgJFVFOXBJLCAkaWtJOWYpCiAgICB7CiAgICAgICAgJGhJOUVUa1Ftc2prcSA9ICRUamtzLT57JFRqa3MtPkZqazlmTlFwVElya21ma21KTkk5RVRrUW1zamtxQUVsSSgkRmprOWZIdnFJKX0oKTsKCiAgICAgICAgJGlrSTlmID0gJGlrSTlmID86ICRoSTlFVGtRbXNqa3EtPkpJVE5JOUVUSWYoKS0+SklUTlFwVEkxSXZBRWxJKCk7CgogICAgICAgIGtpICgkaEk5RVRrUW1zamtxIGttc1RFbUZJUWkgU0VzM0VtdkhqaFFwSmogfHwKICAgICAgICAgICAgJGhJOUVUa1Ftc2prcSBrbXNURW1GSVFpIHJJOVFtSnNIUTNFbXYpIHsKICAgICAgICAgICAgJGlrSTlmID0gJGhJOUVUa1Ftc2prcS0+SklUTkk5RVRJZigpLT5KSVRIRWU5SSgpLicuJy4kaWtJOWY7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGhJOUVUa1Ftc2prcSBrbXNURW1GSVFpIDNRZkk5CiAgICAgICAgICAgID8gJGhJOUVUa1Ftc2prcS0+aElzUTlVSU5RcFRJcmttZmttSkdwSWh2KCRoSTlFVGtRbXNqa3EsICRVRTlwSSwgJGlrSTlmKQogICAgICAgICAgICA6ICRoSTlFVGtRbXNqa3EtPkpJVE5JOUVUSWYoKS0+aElzUTlVSU5RcFRJcmttZmttSkdwSWh2KCRoSTlFVGtRbXNqa3EsICRVRTlwSSwgJGlrSTlmKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBGams5ZiBoUXBUSSBsUWZJOSBla21ma21KIGhJOUVUa1Ftc2prcSBtRWxJIGlRaCBUakkgSmtVSW0gRmprOWYgVHZxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZqazlmSHZxSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZqazlmTlFwVElya21ma21KTkk5RVRrUW1zamtxQUVsSSgkRmprOWZIdnFJKQogICAgewogICAgICAgIGhJVHBobSBPVGg6OnE5cGhFOShPVGg6OkZFbEk5KCRGams5Zkh2cUkpKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBsUWZJOSBpUWggRSBlUXBtZiBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xOSTlFVGtRbSAgJFJwSWh2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRpa0k5ZgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxOSTlFVGtRbXNcTkk5RVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJc1E5VUlOUXBUSXJrbWZrbUpHcElodigkUnBJaHYsICRVRTlwSSwgJGlrSTlmID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gJFJwSWh2LT51akloSSgkaWtJOWYgPz8gJFRqa3MtPkpJVE5RcFRJMUl2QUVsSSgpLCAkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBmSWlFcDlUIGlRaElrSm0gOEl2IG1FbEkgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUMlFoSWtKbTFJdigpCiAgICB7CiAgICAgICAgaElUcGhtIE9UaDo6c21FOEkoRjlFc3NfZUVzSW1FbEkoJFRqa3MpKS4nXycuJFRqa3MtPkpJVDFJdkFFbEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgbXBsZUloIFFpIGxRZkk5cyBUUSBoSVRwaG0gcUloIHFFSkkuCiAgICAgKgogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVGFJaGFFSkkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+cUloYUVKSTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgbXBsZUloIFFpIGxRZkk5cyBUUSBoSVRwaG0gcUloIHFFSkkuCiAgICAgKgogICAgICogQHFFaEVsICBrbVQgICRxSWhhRUpJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRhSWhhRUpJKCRxSWhhRUpJKQogICAgewogICAgICAgICRUamtzLT5xSWhhRUpJID0gJHFJaGFFSkk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSA5RVd2IDlRRWZrbUoga3MgZmtzRWU5SWYuCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVHM2RVd2NlFFZmttSigpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6JGxRZkk5c09qUXA5ZmFoSVVJbVQ2RVd2NlFFZmttSjsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBma3NGRWhma21KIEpwRWhmSWYgRVRUaGtlcFRJIGlrOTlzIGtzIGZrc0VlOUlmLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHFoSVVJbVRzT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcygpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6JGxRZkk5c09qUXA5ZmFoSVVJbVRPazlJbVQ5dm5rc0ZFaGZrbUp0VFRoa2VwVElzOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIEVGRklzc2ttSiBsa3Nza21KIEVUVGhrZXBUSXMga3MgZmtzRWU5SWYuCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVHN0RkZJc3NrbUoza3Nza21KdFRUaGtlcFRJcygpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6JGxRZkk5c09qUXA5ZmFoSVVJbVR0RkZJc3NrbUoza3Nza21KdFRUaGtlcFRJczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZWhRRWZGRXNUIEZqRW1tSTkgaFFwVEkgZklpa21rVGtRbSBUakVUIGtzIEVzc1FGa0VUSWYgdWtUaiBUakkgSmtVSW0gSW1Ua1R2LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBlaFFFZkZFc1RvakVtbUk5TlFwVEkoKQogICAgewogICAgICAgIGhJVHBobSBzVGhfaElxOUVGSSgnXFwnLCAnLicsIEpJVF9GOUVzcygkVGprcykpLicueycuT1RoOjpGRWxJOShGOUVzc19lRXNJbUVsSSgkVGprcykpLid9JzsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZWhRRWZGRXNUIEZqRW1tSTkgbUVsSSBUakVUIGtzIEVzc1FGa0VUSWYgdWtUaiBUakkgSmtVSW0gSW1Ua1R2LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBlaFFFZkZFc1RvakVtbUk5KCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RoX2hJcTlFRkkoJ1xcJywgJy4nLCBKSVRfRjlFc3MoJFRqa3MpKS4nLicuJFRqa3MtPkpJVDFJdigpOwogICAgfQoKICAgICsqKgogICAgICogbnZtRWxrRkU5OXYgaElUaGtJVUkgRVRUaGtlcFRJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fSklUKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0VFRoa2VwVEkoJDhJdik7CiAgICB9CgogICAgKyoqCiAgICAgKiBudm1FbGtGRTk5diBzSVQgRVRUaGtlcFRJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX3NJVCgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgJFRqa3MtPnNJVHRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBKa1VJbSBFVFRoa2VwVEkgSVZrc1RzLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRRaWlzSVQKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWlpc0lUZ1Zrc1RzKCRRaWlzSVQpOiBlUVE5CiAgICB7CiAgICAgICAgVGh2IHsKICAgICAgICAgICAgaElUcGhtICEga3NfbXA5OSgkVGprcy0+SklUdFRUaGtlcFRJKCRRaWlzSVQpKTsKICAgICAgICB9IEZFVEZqICgza3Nza21KdFRUaGtlcFRJZ1ZGSXFUa1FtKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFVFOXBJIGlRaCBFIEprVUltIFFpaXNJVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUWlpc0lUCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaWlzSVQwSVQoJFFpaXNJVCk6IGxrVklmCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0VFRoa2VwVEkoJFFpaXNJVCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIFVFOXBJIGlRaCBFIEprVUltIFFpaXNJVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUWlpc0lUCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWlpc0lUT0lUKCRRaWlzSVQsICRVRTlwSSk6IFVRa2YKICAgIHsKICAgICAgICAkVGprcy0+c0lUdFRUaGtlcFRJKCRRaWlzSVQsICRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBQbXNJVCBUakkgVUU5cEkgaVFoIEUgSmtVSW0gUWlpc0lULgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRRaWlzSVQKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWlpc0lUUG1zSVQoJFFpaXNJVCk6IFVRa2YKICAgIHsKICAgICAgICBwbXNJVCgkVGprcy0+RVRUaGtlcFRJc1skUWlpc0lUXSwgJFRqa3MtPmhJOUVUa1Ftc1skUWlpc0lUXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgRW0gRVRUaGtlcFRJIFFoIGhJOUVUa1FtIElWa3NUcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19rc3NJVCgkOEl2KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UWlpc0lUZ1Zrc1RzKCQ4SXYpOwogICAgfQoKICAgICsqKgogICAgICogUG1zSVQgRW0gRVRUaGtlcFRJIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX3Btc0lUKCQ4SXYpCiAgICB7CiAgICAgICAgJFRqa3MtPlFpaXNJVFBtc0lUKCQ4SXYpOwogICAgfQoKICAgICsqKgogICAgICogU0VtZjlJIGZ2bUVsa0YgbElUalFmIEZFOTlzIGttVFEgVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbElUalFmCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcUVoRWxJVElocwogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19GRTk5KCRsSVRqUWYsICRxRWhFbElUSWhzKQogICAgewogICAgICAgIGtpIChrbV9FaGhFdigkbElUalFmLCBbJ2ttRmhJbEltVCcsICdmSUZoSWxJbVQnLCAna21GaElsSW1UR3BrSVQ5dicsICdmSUZoSWxJbVRHcGtJVDl2J10pKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+JGxJVGpRZiguLi4kcUVoRWxJVElocyk7CiAgICAgICAgfQoKICAgICAgICBraSAoJGhJc1E5VUloID0gJFRqa3MtPmhJOUVUa1FtTklzUTlVSWgoc1RFVGtGOjpGOUVzcywgJGxJVGpRZikpIHsKICAgICAgICAgICAgaElUcGhtICRoSXNROVVJaCgkVGprcyk7CiAgICAgICAgfQoKICAgICAgICBraSAoT1RoOjpzVEVoVHNia1RqKCRsSVRqUWYsICdUamhRcEpqJykgJiYKICAgICAgICAgICAgbElUalFmX0lWa3NUcygkVGprcywgJGhJOUVUa1FtM0lUalFmID0gT1RoOjpRaSgkbElUalFmKS0+RWlUSWgoJ1RqaFFwSmonKS0+OUZpa2hzVCgpLT5UUU9UaGttSigpKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPlRqaFFwSmooJGhJOUVUa1FtM0lUalFmKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+aVFodUVoZm9FOTlIUSgkVGprcy0+bUl1R3BJaHYoKSwgJGxJVGpRZiwgJHFFaEVsSVRJaHMpOwogICAgfQoKICAgICsqKgogICAgICogU0VtZjlJIGZ2bUVsa0Ygc1RFVGtGIGxJVGpRZiBGRTk5cyBrbVRRIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQHFFaEVsICBFaGhFdiAgJHFFaEVsSVRJaHMKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBfX0ZFOTlPVEVUa0YoJGxJVGpRZiwgJHFFaEVsSVRJaHMpCiAgICB7CiAgICAgICAgaElUcGhtIChtSXUgc1RFVGtGKS0+JGxJVGpRZiguLi4kcUVoRWxJVElocyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUW1VSWhUIFRqSSBsUWZJOSBUUSBrVHMgc1Roa21KIGhJcWhJc0ltVEVUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX1RRT1Roa21KKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPklzRkVxSWJqSW1vRXNUa21KSFFPVGhrbUoKICAgICAgICAgICAgPyBJKCRUamtzLT5UUURzUW0oKSkKICAgICAgICAgICAgOiAkVGprcy0+VFFEc1FtKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSSBUakVUIFRqSSBRZUxJRlQncyBzVGhrbUogaElxaElzSW1URVRrUW0gc2pRcDlmIGVJIElzRkVxSWYgdWpJbSBfX1RRT1Roa21KIGtzIGttVVE4SWYuCiAgICAgKgogICAgICogQHFFaEVsICBlUVE5ICAkSXNGRXFJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBJc0ZFcUliakltb0VzVGttSkhRT1Roa21KKCRJc0ZFcUkgPSBUaHBJKQogICAgewogICAgICAgICRUamtzLT5Jc0ZFcUliakltb0VzVGttSkhRT1Roa21KID0gJElzRkVxSTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogYWhJcUVoSSBUakkgUWVMSUZUIGlRaCBzSWhrRTlrV0VUa1FtLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fczlJSXEoKQogICAgewogICAgICAgICRUamtzLT5sSWhKSXRUVGhrZXBUSXMyaFFsb0VGaklmb0VzVHMoKTsKCiAgICAgICAgJFRqa3MtPkY5RXNzb0VzVG9FRmpJID0gW107CiAgICAgICAgJFRqa3MtPkVUVGhrZXBUSW9Fc1RvRUZqSSA9IFtdOwoKICAgICAgICBoSVRwaG0gRWhoRXZfOEl2cyhKSVRfUWVMSUZUX1VFaHMoJFRqa3MpKTsKICAgIH0KCiAgICArKioKICAgICAqIGJqSW0gRSBsUWZJOSBrcyBlSWttSiBwbXNJaGtFOWtXSWYsIEZqSUY4IGtpIGtUIG1JSWZzIFRRIGVJIGVRUVRJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fdUU4SXBxKCkKICAgIHsKICAgICAgICAkVGprcy0+ZVFRVEtpQVFUclFRVElmKCk7CgogICAgICAgICRUamtzLT5rbWtUa0U5a1dJSGhFa1RzKCk7CiAgICB9Cn0K